# Weird Fence

## 题目描述

[problemUrl]: https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=2229

[PDF](https://uva.onlinejudge.org/external/112/p11262.pdf)

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA11262/904beb29a58e3d91e7539e0eedf2deb8a23804bd.png)

## 输入输出格式

### 输入格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA11262/55f5f1bd56c25d3fc6eb5b7eb579fb07efa44901.png)

### 输出格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA11262/d7826d26f1d7259086641f2a35e4026321118ef3.png)

## 输入输出样例

### 输入样例 #1

```cpp
2
6 2
-3 5 blue
-3 3 red
1 5 blue
2 0 red
4 6 blue
4 -1 red
6 4
-3 5 blue
-3 3 red
1 5 blue
2 0 red
4 6 blue
4 -1 red
```


### 输出样例 #1

```cpp
6
Impossible
```


