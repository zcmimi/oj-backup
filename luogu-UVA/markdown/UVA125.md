# Numbering Paths

## 题意翻译

题目描述：

有些仅由简单的“是”或“否”来回答的问题被称作决策问题，其中属于NP完全问题的一类决策问题是难以快速求解的。另一些非决策的NP完全问题的答案可能与决策问题一样简单，但枚举所有“是”的答案则会非常困难（至少要花大量的时间）。

本问题是要来计算：在一个所有街道都为单行线的城市中，一辆急救车可以通行的路径的数量。

给定城市中一组由单行线相连的路口，你要写一个程序来计算出各路口间有多少条不同的路径。一条路径由一系列的两个路口连通的单行线组成。

各路口均由非负整数标记，每条单行线由两个路口表示，如j k表示存在一条单行线从路口j到路口k。注意双行线可以由两条单行线模拟，比如：j k和k j。

观查下面一个拥有四个路口并由单行线相互连通的城市：

0 1

0 2

1 2

2 3

在0路口到1路口之间只有1条路径，0到2之间有两条路径（0->1->2和0->2)，由0到3有两条。1到3有一条，2到3有1条，这些就是全部的路径了。

有可能不同的路径有无数条。比如对于上面讨论过路口2和3，增加一条单行线3 2，此时由0到1仍只有1条路径，但从0到2就有无数条不同的路径。这是由于从2到3后又可以折返回到2，每次往复折返都会产生一条新的不同路径。比如0->2->3->2->3->2与0->2->3->2就是两条不同的路径。

输入格式：

输入的是一个序列，表示城市的规格。每个城市规格的数量都是从城市里的很多单向街道的数量开始的,许多单向的街道是一对十字路口。每一对j k”代表两个单行道交在k点交叉。在所有城市中,十字路口顺序编号从0到“最大”的编号的十字路口。输入在输入文件末尾终止。

永远不会有一条单行道从一个十字路口到它自己。没有城市超过30十字路口。

输出格式：

对于每一个城市规格,用一个从十字路口j到十字路口k的不同路线的总数组成的数字方形矩阵来表示。如果矩阵表示M，那么M[j][k]就是从十字路口j到十字路口k的不同路线的总数。矩阵M应该是按行输出的。每一个矩阵都应该由"matrix for city k'(k从0开始计数）来描述。

如果两个十字路口之间有无数条路线，那么就输出-1，不用担心输出时的行对齐和列对齐，只需要在每个数字间打上空格就可以了。

感谢@Fifty_Ten 提供的翻译

## 题目描述

[problemUrl]: https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=3&page=show_problem&problem=61

[PDF](https://uva.onlinejudge.org/external/1/p125.pdf)

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA125/2c01b1b3863b0e262ebdab9e49d0d869d64c657f.png)

## 输入输出格式

### 输入格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA125/1407cfa4ba0be873f9fa90f207289053a0315d27.png)

### 输出格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA125/021959b0ec72154c8b191fe9fe01107113a492d7.png)

## 输入输出样例

### 输入样例 #1

```cpp
7 0 1 0 2 0 4 2 4 2 3 3 1 4 3
5
0 2
0 1 1 5 2 5 2 1
9
0 1 0 2 0 3
0 4 1 4 2 1
2 0
3 0
3 1
```


### 输出样例 #1

```cpp
matrix for city 0
0 4 1 3 2
0 0 0 0 0
0 2 0 2 1
0 1 0 0 0
0 1 0 1 0
matrix for city 1
0 2 1 0 0 3
0 0 0 0 0 1
0 1 0 0 0 2
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
matrix for city 2
-1 -1 -1 -1 -1
0 0 0 0 1
-1 -1 -1 -1 -1
-1 -1 -1 -1 -1
0 0 0 0 0
```


