# Buy one, get the rest free

## 题意翻译

【问题描述】

有 N 个城市，每个城市都有一些选手要到第 N 个城市去参加比赛。比赛的组织者可以租用城市之间的一些飞机，他们的出发时间可能不同，但是都是从某天晚上出发，然后第二天早上到达目的地，每架飞机上都有载客上限和租金。现在有一个优惠：只要租用一架飞机，就可以免费使用所有价格小于等于该租金的飞机。组织者希望在 d 天内花最少的钱把所有的选手送到比赛地。

比如说，有 4 架飞机，租金分别是 10000，25000，30000，40000，你租下 30000 元的那架，那么就可以免费使用 10000 和 25000 的那架。相当于租下 3 架飞机的费用就是 30000。

【输入格式】第一行给出数据的组数 N。接下来 N 组测试数据。每一组测试数据开始的第一行包含城市数量 n（1<=n<=30）,天数 d（1<=d<=10）,飞机的数量 m(0<=m<=1000).接下来 m 行，每行包含 5 个整数：u,v,c,p,e.(1<=u,v<=n , 1<=c<=100,0<=e<d)这表示一架飞机可以运送 c 个乘客，租金为 p，在第 e 天晚上离开城市 u，并在第二天早上到达城市 v。第 0 天就是今天，且所有的乘客都需要在第 e 天晚上或之前到达城市 n。最后，有 n 个整数（z1，z2,……，zn）,其中第 i 个整数 zi 表示第 0 天在城市 i 的乘客的数量(0<=zi<=100).费用不能超过 100000.不会有两架飞机有相同的 u，v 和 e。 【输出格式】对于每组测试数据，输出一行，包含"Case #x:",接下来是一个最小的租金。如果没有足够的钱，则输出"impossible"。 【数据范围】 对于 30%的数据，$2≤n≤200$,$n-1≤m≤200$,$1≤wi≤1000$,$1≤ci≤1000$，$1≤ai,bi≤n$, $ai≠bi$,$0≤S≤10^5$ 对于100%的数据，$2≤n≤2*10^5$,$n-1≤m≤2*10^5$，$1≤wi≤10^9$，$1≤ci≤10^9$，$1≤ai$,$bi≤n$,$ai≠bi$，$0≤S≤10$ 感谢@durex_com 提供的翻译

## 题目描述

[problemUrl]: https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=21&page=show_problem&problem=1924

[PDF](https://uva.onlinejudge.org/external/109/p10983.pdf)

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA10983/e958a67be0f0f2eed2406e8f1c70835bd6c9f3cc.png)

## 输入输出格式

### 输入格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA10983/ebc71de073069ce6edb9a12e454062abbcd77eea.png)

### 输出格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA10983/78a206be5bf5c66e13d9b770ab52e5f590edce5f.png)

## 输入输出样例

### 输入样例 #1

```cpp
2
5 4 5
1 5 100 30000 0
2 4 10 10000 0
2 4 10 10000 1
4 5 25 25000 2
2 5 100 40000 3
1 20 0 5 100
2 1 1
1 2 99 10400 0
100 0
```


### 输出样例 #1

```cpp
Case #1: 30000
Case #2: Impossible
```


