# Prisoners, Boxes and Pieces of Paper

## 题意翻译

## 题目描述

在某座监狱里有 $n$ 个犯人，他们太安静了，导致看守很无聊，于是看守就和他们玩了一个游戏。这个游戏分为很多轮，一旦犯人们赢了一轮，那么他们会被立即**释放**，否则他们就必须在监狱里再待一天后玩下一轮。

每一轮，这个看守会将这 $n$ 个犯人的名字写在 $n$ 张纸上，然后把这 $n$ 张纸分别放在 $n$ 个**一模一样**的盒子里并且随机打乱盒子的次序，接着把这些盒子在房间 A 里的长桌子上排成一行。

当然，犯人们对盒子的次序和内容**一无所知**，他们唯一可以做的事情就是在房间 B 商讨一种策略。**他们在接下来的环节中一定会使用这个策略。**

当看守摆放完盒子的时候，他会决定叫犯人的次序。

决定好次序后，看守会会依次把这 $n$ 个犯人叫进房间 A，并做以下的事情：

* 让犯人依次打开 $n/2$ 个盒子（保证 $n$ 是偶数）

* 如果在这 $n/2$ 个盒子中没有该犯人的名字。犯人们就输掉了这一轮，所有犯人都必须在监狱里再待一天。

* 如果在这 $n/2$ 个盒子中有该犯人的名字。看守就会把该犯人带到房间 C（注意了，这就意味着**已经看过盒子内容的犯人们无法与还没看过盒子内容的犯人们交流**！）。然后根据次序叫下一个犯人到房间 A，且重复以上步骤。

* 一旦 $n$ 个犯人都在房间 C，犯人们便获胜，他们会被即刻释放。

假定犯人们都会以他们都同意的**最优策略**来进行博弈，那么，犯人们赢一轮的概率是多少？他们玩的轮数的期望值又是多少？

感谢@fs6y 提供的翻译

## 题目描述

[problemUrl]: https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=23&page=show_problem&problem=2059

[PDF](https://uva.onlinejudge.org/external/111/p11118.pdf)

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA11118/3bbcd09caa131f3dfd29677f7fe3af7e8eab60ee.png)

## 输入输出格式

### 输入格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA11118/361c252056bd63a384a9ec56ff9dd7c481d63c4e.png)

### 输出格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA11118/5a7971f49c5ab340f679e50ac2411536c957c16b.png)

## 输入输出样例

### 输入样例 #1

```cpp
2
2
2
```


### 输出样例 #1

```cpp
Case #1: 0.50000000 2.00000000
Case #2: 0.50000000 2.00000000
```


