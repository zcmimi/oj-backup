# Tree in a Grid

## 题目描述

[problemUrl]: https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=26&page=show_problem&problem=2438

[PDF](https://uva.onlinejudge.org/external/114/p11443.pdf)

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA11443/5066ebf693637b5ad6de5ca4108b885f287cfd5a.png)

## 输入输出格式

### 输入格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA11443/a6bc14c6f55ff76dad1657465c1468ea6394ea7b.png)

### 输出格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA11443/24b72252fe34ce2be1b16bd1e690a3a8acd25d21.png)

## 输入输出样例

### 输入样例 #1

```cpp
6
2 2 1000
.S.
SSS
.S.
2 2 100
.-.
|S|
.S.
2 2 100
.-.
|S|
.-.
3 3 10000
.S.S.
SSSSS
.S.S.
SSSSS
.S.S.
3 3 10000
.-.-.
SSSSS
.-.-.
SSSSS
.-.-.
3 3 10000
.S.S.
|S|S|
.S.S.
|S|S|
.S.S.
```


### 输出样例 #1

```cpp
4
1
Impossible
192
9
9
```


