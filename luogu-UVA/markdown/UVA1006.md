# Fixed Partition Memory Management

## 题意翻译

**题意描述**

有$m$个内存区域，给定它们每一个的大小。

有$n$个程序需要执行，给出它们在给定的内存大小$s_i$下需要执行的时间$t_i$。

每一个程序只能被分配到一个内存区域下。在同一时刻，每一个内存区域上只能运行一个程序，不同的内存区域上的不同程序可以同时运行。

时间从$0$开始算起，请你计算一种分配方案，使得所有程序的平均结束运行时间最少。例如，假如程序$1,2,3$都被分配到内存区域$1$运行，并且它们在区域$1$运行所需要的时间分别为$2,3,3$；程序$4,5,6$都被分配到区域$2$运行，并且它们在区域$2$的运行时间分别为$8,1,7$。那么这$6$个程序的结束运行时间分别是$2,5,8,8,9,16$。平均结束时间为$(2+5+8+8+9+16)/6=8.00$。

**输入格式**

输入包含多组数据。

每组数据的第一行为两个整数$m,n$，分别表示内存区域的数量和程序的数量。

其下一行有$m$个整数，表示每个内存区域的大小。

接下来$n$行，第$i$行第一个数字为$k_i$，其后有$k_i$个二元组$(s_j,t_j)$。

保证输入按照$s_j$递增给出。

如果程序运行在一个大小为$S$的内存区域上，满足$s_j\leq S < s_{j+1}(1\leq j < k_i)$，则这个程序需要运行的时间为$t_j$。若$s_{k_i} \leq S$，则这个程序需要运行的时间为$t_{k_i}$。若$S< s_1$，则程序不能运行在这个内存区域。

输出以$m=n=0$结束。

除结束标志外，满足$1 \leq n \leq 50,1 \leq m \leq 10.$

**输出格式**

对于每组数据，第一行输出数据的组号。第二行输出平均结束时间,保留到小数点后两位。接下来 $n$ 行输出每个程序的安排方案。具体格式见**输入输出样例**。

每两组数据之间输出一个换行符。

## 题目描述

[problemUrl]: https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=245&page=show_problem&problem=3447

[PDF](https://uva.onlinejudge.org/external/10/p1006.pdf)

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA1006/dfbd9d3b8a0134fd94d525df48795a77c938ad11.png)

## 输入输出格式

### 输入格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA1006/43a96c06f2a09aa085601640b65f67461dcf0b01.png)

### 输出格式

![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA1006/05e79597d5ff27833ca31b4a7317138eb765945f.png)

## 输入输出样例

### 输入样例 #1

```cpp
2 4
40 60
1 35 4
1 20 3
1 40 10
1 60 7
3 5
10 20 30
2 10 50 12 30
2 10 100 20 25
1 25 19
1 19 41
2 10 18 30 42
0 0
```


### 输出样例 #1

```cpp
Case 1
Average turnaround time = 7.75
Program 1 runs in region 1 from 0 to 4
Program 2 runs in region 2 from 0 to 3
Program 3 runs in region 1 from 4 to 14
Program 4 runs in region 2 from 3 to 10
Case 2
Average turnaround time = 35.40
Program 1 runs in region 2 from 25 to 55
Program 2 runs in region 2 from 0 to 25
Program 3 runs in region 3 from 0 to 19
Program 4 runs in region 3 from 19 to 60
Program 5 runs in region 1 from 0 to 18
```


