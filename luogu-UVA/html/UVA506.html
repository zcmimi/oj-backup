<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>系统依赖 System Dependencies - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573453010:RKXx6yPhShRtGOcS9IHwdKsr44mgH5Koxwgin/6j9kg=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BproblemUrl%5D%3A%20https%3A%5C%2F%5C%2Fuva.onlinejudge.org%5C%2Findex.php%3Foption%3Dcom_onlinejudge%26Itemid%3D8%26category%3D7%26page%3Dshow_problem%26problem%3D447%5Cn%5Cn%5BPDF%5D%28https%3A%5C%2F%5C%2Fuva.onlinejudge.org%5C%2Fexternal%5C%2F5%5C%2Fp506.pdf%29%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FUVA506%5C%2F68afb2e6189fd70cb0193c35ff218476f81b2b02.png%29%22%2C%22inputFormat%22%3A%22%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FUVA506%5C%2F00dcbed06d6ffd4ce2337600ff18c4293150ef46.png%29%22%2C%22outputFormat%22%3A%22%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FUVA506%5C%2F5eeafd9adb13e67e1498450a046ece96f8f7f995.png%29%22%2C%22samples%22%3A%5B%5B%22DEPEND%20TELNET%20TCPIP%20NETCARD%5CnDEPEND%20TCPIP%20NETCARD%5CnDEPEND%20DNS%20TCPIP%20NETCARD%5CnDEPEND%20BROWSER%20TCPIP%20HTML%5CnINSTALL%20NETCARD%5CnINSTALL%20TELNET%5CnINSTALL%20foo%5CnREMOVE%20NETCARD%5CnINSTALL%20BROWSER%5CnINSTALL%20DNS%5CnLIST%5CnREMOVE%20TELNET%5CnREMOVE%20NETCARD%5CnREMOVE%20DNS%5CnREMOVE%20NETCARD%5CnINSTALL%20NETCARD%5CnREMOVE%20TCPIP%5CnREMOVE%20BROWSER%5CnREMOVE%20TCPIP%5CnEND%22%2C%22DEPEND%20TELNET%20TCPIP%20NETCARD%5CnDEPEND%20TCPIP%20NETCARD%5CnDEPEND%20DNS%20TCPIP%20NETCARD%5CnDEPEND%20BROWSER%20TCPIP%20HTML%5CnINSTALL%20NETCARD%5CnInstalling%20NETCARD%5CnINSTALL%20TELNET%5CnInstalling%20TCPIP%5CnInstalling%20TELNET%5CnINSTALL%20foo%5CnInstalling%20foo%5CnREMOVE%20NETCARD%5CnNETCARD%20is%20still%20needed.%5CnINSTALL%20BROWSER%5CnInstalling%20HTML%5CnInstalling%20BROWSER%5CnINSTALL%20DNS%5CnInstalling%20DNS%5CnLIST%5CnNETCARD%5CnTCPIP%5CnTELNET%5Cnfoo%5CnHTML%5CnBROWSER%5CnDNS%5CnREMOVE%20TELNET%5CnRemoving%20TELNET%5CnREMOVE%20NETCARD%5CnNETCARD%20is%20still%20needed.%5CnREMOVE%20DNS%5CnRemoving%20DNS%5CnREMOVE%20NETCARD%5CnNETCARD%20is%20still%20needed.%5CnINSTALL%20NETCARD%5CnNETCARD%20is%20already%20installed.%5CnREMOVE%20TCPIP%5CnTCPIP%20is%20still%20needed.%5CnREMOVE%20BROWSER%5CnRemoving%20BROWSER%5CnRemoving%20HTML%5CnRemoving%20TCPIP%5CnREMOVE%20TCPIP%5CnTCPIP%20is%20not%20installed.%5CnEND%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B0%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22UVA%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fuva%5C%2F506%22%2C%22id%22%3A%22506%22%7D%2C%22translation%22%3A%22%23%23%23%23%23%23%20%5Cu4f60%5Cu7684%5Cu4efb%5Cu52a1%5Cu662f%5Cu6a21%5Cu62df%5Cu5b89%5Cu88c5%5Cu548c%5Cu5378%5Cu8f7d%5Cu8f6f%5Cu4ef6%5Cu7ec4%5Cu4ef6%5Cu7684%5Cu8fc7%5Cu7a0b%5Cu3002%5Cr%5Cn------------%5Cr%5Cn%23%23%23%23%23%20%5Cu6307%5Cu4ee4%5Cu5982%5Cu4e0b%5Cuff1a%5Cr%5Cn%7C%5Cu6307%5Cu4ee4%7C%5Cu8bf4%5Cu660e%7C%5Cr%5Cn%7C%20%3A-----------%20%7C%20%3A-----------%20%7C%5Cr%5Cn%7CDEPEND%20item1%20item2%20%5Bitem3..%5D%7Citem1%20%5Cu4f9d%5Cu8d56%20item2%2Citem3..%28%5Cu4fdd%5Cu8bc1%5Cu4e0d%5Cu5b58%5Cu5728%5Cu5faa%5Cu73af%5Cu4f9d%5Cu8d56%29%7C%5Cr%5Cn%7CINSTALL%20item1%7C%5Cu5b89%5Cu88c5item1%5Cu53ca%5Cu5176%5Cu4f9d%5Cu8d56%28%5Cu4e0d%5Cu5fc5%5Cu91cd%5Cu590d%5Cu5b89%5Cu88c5%29%7C%5Cr%5Cn%7CREMOVE%20item1%7C%5Cu5378%5Cu8f7ditem1%5Cu53ca%5Cu5176%5Cu4f9d%5Cu8d56%28%5Cu4e0d%5Cu80fd%5Cu5378%5Cu8f7d%20%5Cu8fd8%5Cu88ab%5Cu5176%5Cu4ed6%5Cu663e%5Cu5f0f%5Cu5b89%5Cu88c5%5Cu7684%5Cu7ec4%5Cu4ef6%5Cu4f9d%5Cu8d56%5Cu7684%20%5Cu7ec4%5Cu4ef6%5Cuff09%7C%5Cr%5Cn%7CLIST%7C%5Cu8f93%5Cu51fa%5Cu6240%5Cu6709%5Cu5df2%5Cu5b89%5Cu88c5%5Cu7684%5Cu7ec4%5Cu4ef6%7C%5Cr%5Cn%7CEND%7C%5Cu7ed3%5Cu675f%7C%5Cr%5Cn%5Cu5728INSTALL%5Cu6307%5Cu4ee4%5Cu4e2d%5Cu63d0%5Cu5230%5Cu7684%5Cu7ec4%5Cu4ef6%5Cu88ab%5Cu663e%5Cu5f0f%5Cu5b89%5Cu88c5%5Cuff0c%5Cu8fd9%5Cu4e9b%5Cu7ec4%5Cu4ef6%5Cu5fc5%5Cu987b%5Cu7528REMOVE%5Cu6307%5Cu4ee4%5Cu663e%5Cu5f0f%5Cu5378%5Cu8f7d%5Cu3002%5Cr%5Cn%5Cu88ab%20%5Cu663e%5Cu5f0f%5Cu5b89%5Cu88c5%5Cu7684%5Cu7ec4%5Cu4ef6%20%5Cu76f4%5Cu63a5%5Cu6216%5Cu95f4%5Cu63a5%5Cu4f9d%5Cu8d56%5Cu7684%5Cu7ec4%5Cu4ef6%5Cu4e5f%5Cu4e0d%5Cu80fd%5Cu5728REMOVE%5Cu6307%5Cu4ee4%5Cu4e2d%5Cu5378%5Cu8f7d%5Cu3002%5Cr%5Cn%23%23%23%23%23%20%5Cu8f93%5Cu5165%5Cuff1a%5Cr%5Cn%5Cu6bcf%5Cu884c%5Cu4e00%5Cu6761%5Cu6307%5Cu4ee4%5Cuff0c%5Cu9075%5Cu5faa%5Cu4ee5%5Cu4e0a%5Cu89c4%5Cu5219%5Cu3002%5Cr%5Cn%23%23%23%23%23%20%5Cu8f93%5Cu51fa%5Cuff1a%5Cr%5Cn%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e00%5Cu884c%5Cu6307%5Cu4ee4%5Cuff0c%5Cu9996%5Cu5148%5Cu8f93%5Cu51fa%5Cu4e00%5Cu904d%5Cu6307%5Cu4ee4%5Cuff0c%5Cu63a5%5Cu7740%5Cu63093%5Cu7a7a%5Cu683c%5Cu7684%5Cu7f29%5Cu8fdb%5Cu8f93%5Cu51fa%5Cu672c%5Cu6307%5Cu4ee4%5Cu4e0b%5Cu8fdb%5Cu884c%5Cu7684%5Cu6240%5Cu6709%5Cu64cd%5Cu4f5c%28%5Cu8be6%5Cu89c1PDF%5Cu6837%5Cu4f8b%29%5Cu3002%5Cr%5Cn%5Cu64cd%5Cu4f5c%5Cu7684%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cu5982%5Cu4e0b%5Cuff1a%5Cr%5Cn%7C%5Cu6307%5Cu4ee4%7C%5Cu8f93%5Cu51fa%7C%5Cr%5Cn%7C%20%3A-----------%20%7C%20%3A-----------%20%7C%5Cr%5Cn%7CDEPEND%7C%5Cu65e0%7C%5Cr%5Cn%7CINSTALL%7CInstalling%20%5Bitem%5D%7C%5Cr%5Cn%7C%20%7C%5Bitem%5D%20is%20already%20installed.%28%5Cu663e%5Cu5f0f%5Cu5b89%5Cu88c5%5Cu65f6%5Cu8f93%5Cu51fa%29%7C%5Cr%5Cn%7CREMOVE%7CRemoving%20%5Bitem%5D%7C%5Cr%5Cn%7C%20%7C%5Bitem%5D%20is%20still%20needed.%28%5Cu663e%5Cu5f0f%5Cu5378%5Cu8f7d%5Cu65f6%5Cu8f93%5Cu51fa%29%7C%5Cr%5Cn%7C%20%7C%5Bitem%5D%20is%20not%20installed.%28%5Cu540c%5Cu4e0a%29%7C%5Cr%5Cn%7CLIST%7C%5Cu5df2%5Cu5b89%5Cu88c5%5Cu7684%5Cu7ec4%5Cu4ef6%5Cu540d%7C%5Cr%5Cn%7CEND%7C%5Cu65e0%7C%5Cr%5Cn%2A%2A--%5Cu5927%5Cu90e8%5Cu5206%5Cu7ffb%5Cu8bd1%5Cu6765%5Cu81ea%5Cu7d2b%5Cu4e66%2A%2A%5Cr%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A74%2C%22totalAccepted%22%3A28%2C%22pid%22%3A%22UVA506%22%2C%22title%22%3A%22%5Cu7cfb%5Cu7edf%5Cu4f9d%5Cu8d56%20System%20Dependencies%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22UVA%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A67207%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A19146%2C%22name%22%3A%22UVA506%20%5Cu7cfb%5Cu7edf%5Cu4f9d%5Cu8d56%20System%20Dependencies%22%2C%22slug%22%3A%22UVA506%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1220%22%2C%22title%22%3A%22%5Cu5173%5Cu8def%5Cu706f%20%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22UVA439%22%2C%22title%22%3A%22%5Cu9a91%5Cu58eb%5Cu7684%5Cu79fb%5Cu52a8%20Knight%20Moves%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22UVA%22%7D%2C%7B%22pid%22%3A%22UVA524%22%2C%22title%22%3A%22%5Cu7d20%5Cu6570%5Cu73af%20Prime%20Ring%20Problem%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22UVA%22%7D%2C%7B%22pid%22%3A%22UVA673%22%2C%22title%22%3A%22%5Cu5e73%5Cu8861%5Cu7684%5Cu62ec%5Cu53f7%20Parentheses%20Balance%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22UVA%22%7D%2C%7B%22pid%22%3A%22UVA11853%22%2C%22title%22%3A%22%5Cu6218%5Cu573a%20Paintball%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22UVA%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5Cu7cfb%5Cu7edf%5Cu4f9d%5Cu8d56%20System%20Dependencies%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>系统依赖 System Dependencies</h1>
<h2>题意翻译</h2>
<div>###### 你的任务是模拟安装和卸载软件组件的过程。
------------
##### 指令如下：
|指令|说明|
| :----------- | :----------- |
|DEPEND item1 item2 [item3..]|item1 依赖 item2,item3..(保证不存在循环依赖)|
|INSTALL item1|安装item1及其依赖(不必重复安装)|
|REMOVE item1|卸载item1及其依赖(不能卸载 还被其他显式安装的组件依赖的 组件）|
|LIST|输出所有已安装的组件|
|END|结束|
在INSTALL指令中提到的组件被显式安装，这些组件必须用REMOVE指令显式卸载。
被 显式安装的组件 直接或间接依赖的组件也不能在REMOVE指令中卸载。
##### 输入：
每行一条指令，遵循以上规则。
##### 输出：
对于每一行指令，首先输出一遍指令，接着按3空格的缩进输出本指令下进行的所有操作(详见PDF样例)。
操作的输出格式如下：
|指令|输出|
| :----------- | :----------- |
|DEPEND|无|
|INSTALL|Installing [item]|
| |[item] is already installed.(显式安装时输出)|
|REMOVE|Removing [item]|
| |[item] is still needed.(显式卸载时输出)|
| |[item] is not installed.(同上)|
|LIST|已安装的组件名|
|END|无|
**--大部分翻译来自紫书**
</div>
<h2>题目描述</h2>
<div>[problemUrl]: https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=7&page=show_problem&problem=447
[PDF](https://uva.onlinejudge.org/external/5/p506.pdf)
![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA506/68afb2e6189fd70cb0193c35ff218476f81b2b02.png)</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA506/00dcbed06d6ffd4ce2337600ff18c4293150ef46.png)</div>
<h3>输出格式</h3>
<br />
<div>![](https://cdn.luogu.com.cn/upload/vjudge_pic/UVA506/5eeafd9adb13e67e1498450a046ece96f8f7f995.png)</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>DEPEND TELNET TCPIP NETCARD
DEPEND TCPIP NETCARD
DEPEND DNS TCPIP NETCARD
DEPEND BROWSER TCPIP HTML
INSTALL NETCARD
INSTALL TELNET
INSTALL foo
REMOVE NETCARD
INSTALL BROWSER
INSTALL DNS
LIST
REMOVE TELNET
REMOVE NETCARD
REMOVE DNS
REMOVE NETCARD
INSTALL NETCARD
REMOVE TCPIP
REMOVE BROWSER
REMOVE TCPIP
END</code></pre>
<h3>输出样例 #1</h3>
<pre><code>DEPEND TELNET TCPIP NETCARD
DEPEND TCPIP NETCARD
DEPEND DNS TCPIP NETCARD
DEPEND BROWSER TCPIP HTML
INSTALL NETCARD
Installing NETCARD
INSTALL TELNET
Installing TCPIP
Installing TELNET
INSTALL foo
Installing foo
REMOVE NETCARD
NETCARD is still needed.
INSTALL BROWSER
Installing HTML
Installing BROWSER
INSTALL DNS
Installing DNS
LIST
NETCARD
TCPIP
TELNET
foo
HTML
BROWSER
DNS
REMOVE TELNET
Removing TELNET
REMOVE NETCARD
NETCARD is still needed.
REMOVE DNS
Removing DNS
REMOVE NETCARD
NETCARD is still needed.
INSTALL NETCARD
NETCARD is already installed.
REMOVE TCPIP
TCPIP is still needed.
REMOVE BROWSER
Removing BROWSER
Removing HTML
Removing TCPIP
REMOVE TCPIP
TCPIP is not installed.
END</code></pre>
</article>
</div>
</div>
</body>
</html>
