<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>IITWPC4J - Gopu and Fishes - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450505:COIYSnczNEjB7siHWGesyL/qi1ws2hEAn4PzzqJx1FI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Gopu%20is%20playing%20with%20fishes%2C%20He%20likes%20playing%20them%20very%20much%20because%20they%20are%20lovely%20creatures.%20There%20are%20%2A%2An%2A%2A%20fishes%2C%20All%20the%20%2A%2An%2A%2A%20fishes%20are%20kept%20in%20n%20aquariums.%20Each%20fish%20is%20kept%20in%20different%20aquarium.%5Cn%5CnWhile%20he%20is%20playing%20with%20them%2C%20there%20comes%20a%20magic%20instant%20in%20his%20play.%20At%20that%20instant%2C%20fish%20in%20aquarium%20%2A%2Ai%2A%2A%20can%20go%20to%20aquarium%20%2A%2Aj%2A%2A%20with%20probability%20p%5C%5C%5Bi%5C%5C%5D%5C%5C%5Bj%5C%5C%5D.%20At%20this%20magic%20instant%2C%20all%20the%20fishes%20go%20to%20aquariums%20according%20to%20their%20probabilities.%5Cn%5CnNow%20there%20is%20a%20slight%20issue%20in%20this%2C%20If%20more%20than%20one%20fishes%20land%20on%20the%20same%20aquarium%2C%20Then%20they%20can%20not%20survive%20because%20of%20lack%20of%20space.%20You%20have%20to%20find%20the%20probability%20that%20none%20of%20Gopu%27s%20fishes%20dies%2C%20otherwise%20he%20would%20be%20very%20sad.%5Cn%5CnPlease%20help%20our%20little%20Gopu%20so%20that%20he%20could%20keep%20playing%20with%20his%20fishes%20%3A%29%22%2C%22inputFormat%22%3A%22First%20line%20contains%20number%20of%20test%20cases%20%3A%20T%20%281%20%3C%3D%20T%20%3C%3D%201000%29%5Cn%5CnNext%20line%20contains%20n%20%3A%20number%20of%20fishes%20%281%20%3C%3D%20n%20%3C%3D%2015%29.%5Cn%5CnFor%20next%20n%20lines%2C%20each%20line%20contains%20n%20space%20seperated%20real%20numbers.%20In%20line%20i%2C%20jth%20number%20is%20p%5C%5C%5Bi%5C%5C%5D%5C%5C%5Bj%5C%5C%5D.%20p%5C%5C%5Bi%5C%5C%5D%5C%5C%5Bj%5C%5C%5D%20is%20precise%20upto%206%20decimal%20digits.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%2C%20print%20the%20probability%20that%20none%20of%20Gopu%27s%20fishes%20dies.%20%28probability%20is%20a%20real%20number%20and%20it%20should%20not%20have%20error%20more%20than%201e-6%29%2C%20That%20is%20your%20answer%20should%20be%20correct%20upto%206%20decimal%20digits.%22%2C%22samples%22%3A%5B%5B%222%5C%5Cn2%5C%5Cn1%200%5C%5Cn0%201%5C%5Cn2%5C%5Cn0.5%200.5%5C%5Cn0.5%200.5%22%2C%221.000000%5C%5Cn0.500000%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B10000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F18286%22%2C%22id%22%3A%2218286%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP18286%22%2C%22title%22%3A%22IITWPC4J%20-%20Gopu%20and%20Fishes%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22IITWPC4J%20-%20Gopu%20and%20Fishes%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>IITWPC4J - Gopu and Fishes</h1>
<h2>题目描述</h2>
<div>Gopu is playing with fishes, He likes playing them very much because they are lovely creatures. There are **n** fishes, All the **n** fishes are kept in n aquariums. Each fish is kept in different aquarium.
While he is playing with them, there comes a magic instant in his play. At that instant, fish in aquarium **i** can go to aquarium **j** with probability p\[i\]\[j\]. At this magic instant, all the fishes go to aquariums according to their probabilities.
Now there is a slight issue in this, If more than one fishes land on the same aquarium, Then they can not survive because of lack of space. You have to find the probability that none of Gopu's fishes dies, otherwise he would be very sad.
Please help our little Gopu so that he could keep playing with his fishes :)</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>First line contains number of test cases : T (1 <= T <= 1000)
Next line contains n : number of fishes (1 <= n <= 15).
For next n lines, each line contains n space seperated real numbers. In line i, jth number is p\[i\]\[j\]. p\[i\]\[j\] is precise upto 6 decimal digits.</div>
<h3>输出格式</h3>
<br />
<div>For each test case, print the probability that none of Gopu's fishes dies. (probability is a real number and it should not have error more than 1e-6), That is your answer should be correct upto 6 decimal digits.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2\n2\n1 0\n0 1\n2\n0.5 0.5\n0.5 0.5</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1.000000\n0.500000</code></pre>
</article>
</div>
</div>
</body>
</html>
