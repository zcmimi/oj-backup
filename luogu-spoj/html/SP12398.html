<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>LCPC12C - Johnny Listens to Music - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450315:HlH68/H/tzP5zXhrsztWwT3Xsrn57cFRwstZlCt76R8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%60%60%60%5CnDescription%5Cn%5CnJohnny%20loves%20to%20listen%20to%20music%20so%20much.%20Each%20day%20he%20decides%20to%20add%2C%20delete%20or%20listen%20to%20a%20music%20track%20on%20his%20laptop%20by%20doing%20one%20of%20the%20following%20operations%3A%5Cn%5CnDownload%20a%20new%20track.%5CnDelete%20the%20last%20downloaded%20track%20that%20is%20not%20deleted%20already.%5CnListen%20to%20the%20shortest%20track%20that%20is%20already%20on%20his%20laptop.%5Cn%5CnEach%20test%20case%20Johnny%20starts%20with%20an%20empty%20collection%20of%20tracks%2C%20at%20day%20%5Cu00a0Johnny%20decides%20which%20action%20to%20be%20taken%20depending%20on%20the%20value%20of%20R%5Bi%5D%20%25%203.%20if%20R%5Bi%5D%20%25%203%20%3D%200%20he%20listens%20to%20the%20shortest%20track%20on%20his%20laptop%2C%20if%20R%5Bi%5D%20%25%203%20%3D%201%20he%20deletes%20the%20last%20downloaded%20track%20that%20is%20not%20deleted%20already%2C%20if%20R%5Bi%5D%20%253%20%3D%202%20he%20downloads%20a%20new%20track%20whose%20length%20is%20R%5Bi%5D%20minutes.%20Your%20task%20is%20to%20compute%20the%20total%20number%20of%20minutes%20Johnny%20spends%20listening%20to%20music.%5CnTo%20keep%20the%20input%20small%2C%20it%20will%20be%20codified%20in%20the%20following%20way.%20You%20will%20be%20given%20an%20array%20h.%20Use%20the%20following%20pseudo-code%20on%20h%20to%20generate%20an%20array%20R.%5Cn%5Cninput%20array%3A%20h%5Cnoutput%20array%3A%20R%20%28of%20size%20n%29%5Cnj%20%3A%3D%200%5Cnm%20%3A%3D%20size%20of%20h%5Cnfor%20i%20%3A%3D%200%20to%20n-1%5Cn%5CnR%5Bi%5D%20%3A%3D%20h%5Bj%5D%5Cns%20%3A%3D%20%28j%2B1%29%25m%5Cnh%5Bj%5D%20%3A%3D%20%28%20%28%20h%5Bj%5D%20%5E%20h%5Bs%5D%20%29%20%2B%2013%20%29%20%25%20835454957%5Cnj%20%3A%3D%20s%5Cn%5Cn%5Cn%5CnThis%20code%2C%20along%20with%20the%20constraints%2C%20ensures%20that%20the%20length%20of%20each%20track%20is%20between%200%20and%20835454956%2C%20inclusive.%20In%20the%20above%20code%2C%20%25%20is%20the%20modulus%20operator%20and%20%5E%20is%20the%20bitwise%20XOR%20binary%20operator.%20If%20x%20and%20y%20are%20integers%2C%20%28x%20%5E%20y%29%20represents%20the%20bitwise%20XOR%20operation%20on%20them%20in%20C%5C%2FC%2B%2B%20and%20Java.%5Cn%5CnInput%20Format%5CnInput%20will%20start%20with%20T%20number%20of%20test%20cases.%20Each%20test%20case%20will%20consist%20of%202%20lines%20the%20first%20line%20starts%20with%200%20%3C%20n%20%3C%3D%2010%2C000%2C000%20%28size%20of%20array%20R%29%2C%200%20%3C%20m%20%3C%3D%2050%20%28size%20of%20array%20h%29.%20The%20second%20line%20will%20contain%20M%20numbers%200%20%3C%3D%20h%5Bi%5D%20%3C%3D%20835454956%20which%20are%20the%20elements%20of%20array%20h.%5Cn%5CnOutput%20Format%5CnFor%20each%20test%20case%2C%20output%20the%20result%20using%20the%20following%20format%3A%5Cnk.%20S%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%5Cu00a0%20%5CnWhere%20k%20is%20the%20test%20case%20number%20%28starting%20at%201%29%2C%20a%20single%20period%2C%20a%20single%20space%2C%20and%20S%20is%20the%20total%20time%20in%20minutes%20spent%20by%20Johnny%20listening%20to%20music.%5Cn%5Cn%5Cn%5Cn%5Cn%5CnSample%20Input%5Cn%5Cn%5Cn%5CnSample%20Output%5Cn%5Cn%5Cn%5Cn%5Cn2%5Cn6%206%5Cn8%205%202%204%208%209%5Cn10%204%5Cn9%204%203%2010%5Cn%5Cn%5Cn1.%205%5Cn2.%2052%5Cn%5Cn%5Cn%5Cn%5Cn%5Cu00a0%5Cn%60%60%60%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B40000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F12398%22%2C%22id%22%3A%2212398%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP12398%22%2C%22title%22%3A%22LCPC12C%20-%20Johnny%20Listens%20to%20Music%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22LCPC12C%20-%20Johnny%20Listens%20to%20Music%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>LCPC12C - Johnny Listens to Music</h1>
<h2>题目描述</h2>
<div>```
Description
Johnny loves to listen to music so much. Each day he decides to add, delete or listen to a music track on his laptop by doing one of the following operations:
Download a new track.
Delete the last downloaded track that is not deleted already.
Listen to the shortest track that is already on his laptop.
Each test case Johnny starts with an empty collection of tracks, at day  Johnny decides which action to be taken depending on the value of R[i] % 3. if R[i] % 3 = 0 he listens to the shortest track on his laptop, if R[i] % 3 = 1 he deletes the last downloaded track that is not deleted already, if R[i] %3 = 2 he downloads a new track whose length is R[i] minutes. Your task is to compute the total number of minutes Johnny spends listening to music.
To keep the input small, it will be codified in the following way. You will be given an array h. Use the following pseudo-code on h to generate an array R.
input array: h
output array: R (of size n)
j := 0
m := size of h
for i := 0 to n-1
R[i] := h[j]
s := (j+1)%m
h[j] := ( ( h[j] ^ h[s] ) + 13 ) % 835454957
j := s
This code, along with the constraints, ensures that the length of each track is between 0 and 835454956, inclusive. In the above code, % is the modulus operator and ^ is the bitwise XOR binary operator. If x and y are integers, (x ^ y) represents the bitwise XOR operation on them in C/C++ and Java.
Input Format
Input will start with T number of test cases. Each test case will consist of 2 lines the first line starts with 0 < n <= 10,000,000 (size of array R), 0 < m <= 50 (size of array h). The second line will contain M numbers 0 <= h[i] <= 835454956 which are the elements of array h.
Output Format
For each test case, output the result using the following format:
k. S                                                                  
Where k is the test case number (starting at 1), a single period, a single space, and S is the total time in minutes spent by Johnny listening to music.
Sample Input
Sample Output
2
6 6
8 5 2 4 8 9
10 4
9 4 3 10
1. 5
2. 52
 
```</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
