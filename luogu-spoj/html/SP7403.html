<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MESS - Messy Administration - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450037:Rcd4GVxLVhBILPa7viwSV5VzdMrxV2UF+3LQfKnPLAc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22For%20the%20fall%20semester%202010%2C%20EPFL%20proudly%20welcomed%202%5Cu2019300%20new%20students%20to%20the%20campus.%20Handling%20their%20registrations%20to%20the%20different%20sections%20and%20levels%20requires%20an%20administrative%20masterstroke.%20Nowadays%20this%20process%20is%20highly%20automated%20and%20worked%20impeccably%20up%20to%20this%20year...%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP7403%5C%2F71fe4e1146d30370da3feb1dd2985913deccfbd5.png%29%5Cn%5CnThe%20software%20that%20handles%20the%20registrations%20wasn%5Cu2019t%20lead%20out%20for%20such%20a%20huge%20number%20of%20new%20students%20and%20the%20secretaries%20were%20close%20to%20a%20heart%20attack%20when%20they%20received%20the%20registration%20printouts.%20Instead%20of%20receiving%20one%20sheet%20per%20class%20%28defined%20by%20the%20orientation%20of%20studies%20and%20the%20level%2C%20e.g.%20Architecture%2C%20Bachelor%201%29%20containing%20the%20list%20of%20all%20the%20students%20registered%20to%20that%20class%2C%20the%20printouts%20contained%20sentences%20in%205%20different%20formats%3A%5Cn%5Cn-%20%21%20_STUDENT%5C%5C_ID1_%20studies%20_SECTION_%5Cn-%20%21%20_STUDENT%5C%5C_ID1_%20enters%20semester%20_SEMESTER_%5Cn-%20%21%20_STUDENT%5C%5C_ID1_%20and%20_STUDENT%5C%5C_ID2_%20chose%20the%20same%20studies%5Cn-%20%21%20_STUDENT%5C%5C_ID1_%20and%20_STUDENT%5C%5C_ID2_%20are%20in%20same%20semester%5Cn-%20%21%20_STUDENT%5C%5C_ID1_%20and%20_STUDENT%5C%5C_ID2_%20are%20in%20same%20class%5Cn%5Cn_STUDENT%5C%5C_ID1_%20and%20_STUDENT%5C%5C_ID2_%20are%20the%206-digit%20sciper%20numbers%2C%20_SEMESTER_%20is%20an%20integer%20number%20in%20the%20range%20from%201%20to%2010%20and%20_SECTION_%20is%20a%20one-worded%20string.%5Cn%5CnThe%20secretaries%20were%20very%20puzzled%20and%20couldn%5Cu2019t%20figure%20out%20how%20to%20recreate%20the%20expected%20lists%20from%20these%20printouts.%20But%20luckily%20they%20remembered%20PolyProg.%20The%20desperate%20secretaries%20provide%20you%20with%20the%20printouts%20and%20you%20are%20to%20answer%20their%20impatient%20questions%20to%20your%20best.%5Cn%5Cn-%20%3F%20What%20does%20_STUDENT%5C%5C_ID1_%20study%5Cn-%20%3F%20Which%20semester%20will%20_STUDENT%5C%5C_ID1_%20enter%5Cn-%20%3F%20Are%20_STUDENT%5C%5C_ID1_%20and%20_STUDENT%5C%5C_ID2_%20classmates%5Cn%5CnTwo%20students%20are%20considered%20to%20be%20classmates%20if%20and%20only%20if%20they%20study%20the%20same%20subject%20and%20enter%20the%20same%20semester.%20Answering%20to%20your%20best%20means%20that%20your%20answer%20must%20be%20as%20complete%20as%20possible%2C%20you%20must%20never%20give%20an%20erroneous%20answer%2C%20but%20you%20can%20just%20admit%20that%20the%20input%20was%20insufficient%20to%20answer%20a%20question%20at%20the%20point%20in%20time%20it%20was%20asked.%5Cn%5CnYour%20answers%20shall%20respect%20the%20following%20priority%3A%5Cn%5Cn%20%2A%2AQuestion%2A%2A%5Cn%5Cn%20%20%2A%2AAnswer%2A%2A%5Cn%5Cn%20%20%3F%20What%20does%20_STUDENT%5C%5C_ID1_%20study%5Cn%5Cn%20%20_STUDENT%5C%5C_ID1_%20studies%20_SECTION_%5Cn%5CnSorry%2C%20I%20have%20no%20clue%20yet%5Cn%5Cn%20%20%3F%20Which%20semester%20will%20_STUDENT%5C%5C_ID1_%20enter%5Cn%5Cn%20%20_STUDENT%5C%5C_ID1_%20enters%20semester%20_SEMESTER_%5Cn%5CnSorry%2C%20I%20have%20no%20clue%20yet%5Cn%5Cn%20%20%3F%20Are%20_STUDENT%5C%5C_ID1_%20and%20_STUDENT%5C%5C_ID2_%20classmates%5Cn%5Cn%20%20Yes%2C%20_STUDENT%5C%5C_ID1_%20and%20_STUDENT%5C%5C_ID2_%20are%20classmates%5Cn%5CnNo%2C%20this%20is%20not%20possible%5Cn%5CnPossible%2C%20given%20that%20_STUDENT%5C%5C_ID1_%20and%20_STUDENT%5C%5C_ID2_%20study%20the%20same%20subject%5Cn%5CnPossible%2C%20given%20that%20_STUDENT%5C%5C_ID1_%20and%20_STUDENT%5C%5C_ID2_%20are%20in%20the%20same%20semester%5Cn%5CnSorry%2C%20I%20have%20no%20clue%20yet%5Cn%5Cn%20%2A%2AINPUT%2A%2A%5Cn%5CnThe%20input%20consists%20of%20a%20single%20test-case%20with%20no%20more%20than%201%5Cu2019000%20printout%20sentences%20and%20no%20more%20than%20500%20questions.%20They%20may%20be%20mixed%20and%20you%20are%20to%20go%20through%20them%20in%20sequential%20order%2C%20which%20means%20that%20in%20order%20to%20answer%20a%20question%2C%20you%20must%20not%20rely%20on%20any%20information%20further%20down%20the%20list.%20You%20may%20safely%20assume%20that%20the%20sentences%20are%20not%20contradictory%21%20Input%20terminates%20on%20a%20line%20containing%20the%20single%20word%20END.%5Cn%5Cn%2A%2AOUTPUT%2A%2A%5Cn%5CnOutput%20your%20answers%2C%20one%20per%20line%20and%20terminate%20with%20a%20newline.%20Be%20aware%20of%20typos%20%3A%29%5Cn%5Cn%2A%2ASAMPLE%20INPUT%2A%2A%5Cn%5Cn%21%20166554%20and%20175129%20chose%20the%20same%20studies%5Cn%5Cn%21%20175129%20and%20170113%20are%20in%20same%20semester%5Cn%5Cn%21%20166554%20studies%20electronics%5Cn%5Cn%21%20169983%20and%20170113%20chose%20the%20same%20studies%5Cn%5Cn%3F%20Are%20170113%20and%20169983%20classmates%5Cn%5Cn%21%20169983%20enters%20semester%209%5Cn%5Cn%21%20175129%20and%20169983%20are%20in%20same%20semester%5Cn%5Cn%3F%20Which%20semester%20will%20170113%20enter%5Cn%5Cn%3F%20Are%20169983%20and%20170113%20classmates%5Cn%5Cn%3F%20Which%20semester%20will%20166554%20enter%5Cn%5Cn%3F%20What%20does%20175129%20study%5Cn%5Cn%21%20169983%20studies%20communicationsystems%5Cn%5Cn%3F%20Are%20166554%20and%20169983%20classmate%5Cn%5CnEND%5Cn%5Cn%2A%2ASAMPLE%20OUTPUT%2A%2A%5Cn%5CnPossible%2C%20given%20that%20170113%20and%20169983%20study%20the%20same%20subject%5Cn%5Cn170113%20enters%20semester%209%5Cn%5CnYes%2C%20169983%20and%20170113%20are%20classmates%5Cn%5CnSorry%2C%20I%20have%20no%20clue%20yet%5Cn%5Cn175129%20studies%20electronics%5Cn%5CnNo%2C%20this%20is%20not%20possible%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F7403%22%2C%22id%22%3A%227403%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP7403%22%2C%22title%22%3A%22MESS%20-%20Messy%20Administration%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MESS%20-%20Messy%20Administration%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MESS - Messy Administration</h1>
<h2>题目描述</h2>
<div>For the fall semester 2010, EPFL proudly welcomed 2’300 new students to the campus. Handling their registrations to the different sections and levels requires an administrative masterstroke. Nowadays this process is highly automated and worked impeccably up to this year...
![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP7403/71fe4e1146d30370da3feb1dd2985913deccfbd5.png)
The software that handles the registrations wasn’t lead out for such a huge number of new students and the secretaries were close to a heart attack when they received the registration printouts. Instead of receiving one sheet per class (defined by the orientation of studies and the level, e.g. Architecture, Bachelor 1) containing the list of all the students registered to that class, the printouts contained sentences in 5 different formats:
- ! _STUDENT\_ID1_ studies _SECTION_
- ! _STUDENT\_ID1_ enters semester _SEMESTER_
- ! _STUDENT\_ID1_ and _STUDENT\_ID2_ chose the same studies
- ! _STUDENT\_ID1_ and _STUDENT\_ID2_ are in same semester
- ! _STUDENT\_ID1_ and _STUDENT\_ID2_ are in same class
_STUDENT\_ID1_ and _STUDENT\_ID2_ are the 6-digit sciper numbers, _SEMESTER_ is an integer number in the range from 1 to 10 and _SECTION_ is a one-worded string.
The secretaries were very puzzled and couldn’t figure out how to recreate the expected lists from these printouts. But luckily they remembered PolyProg. The desperate secretaries provide you with the printouts and you are to answer their impatient questions to your best.
- ? What does _STUDENT\_ID1_ study
- ? Which semester will _STUDENT\_ID1_ enter
- ? Are _STUDENT\_ID1_ and _STUDENT\_ID2_ classmates
Two students are considered to be classmates if and only if they study the same subject and enter the same semester. Answering to your best means that your answer must be as complete as possible, you must never give an erroneous answer, but you can just admit that the input was insufficient to answer a question at the point in time it was asked.
Your answers shall respect the following priority:
**Question**
**Answer**
? What does _STUDENT\_ID1_ study
_STUDENT\_ID1_ studies _SECTION_
Sorry, I have no clue yet
? Which semester will _STUDENT\_ID1_ enter
_STUDENT\_ID1_ enters semester _SEMESTER_
Sorry, I have no clue yet
? Are _STUDENT\_ID1_ and _STUDENT\_ID2_ classmates
Yes, _STUDENT\_ID1_ and _STUDENT\_ID2_ are classmates
No, this is not possible
Possible, given that _STUDENT\_ID1_ and _STUDENT\_ID2_ study the same subject
Possible, given that _STUDENT\_ID1_ and _STUDENT\_ID2_ are in the same semester
Sorry, I have no clue yet
**INPUT**
The input consists of a single test-case with no more than 1’000 printout sentences and no more than 500 questions. They may be mixed and you are to go through them in sequential order, which means that in order to answer a question, you must not rely on any information further down the list. You may safely assume that the sentences are not contradictory! Input terminates on a line containing the single word END.
**OUTPUT**
Output your answers, one per line and terminate with a newline. Be aware of typos :)
**SAMPLE INPUT**
! 166554 and 175129 chose the same studies
! 175129 and 170113 are in same semester
! 166554 studies electronics
! 169983 and 170113 chose the same studies
? Are 170113 and 169983 classmates
! 169983 enters semester 9
! 175129 and 169983 are in same semester
? Which semester will 170113 enter
? Are 169983 and 170113 classmates
? Which semester will 166554 enter
? What does 175129 study
! 169983 studies communicationsystems
? Are 166554 and 169983 classmate
END
**SAMPLE OUTPUT**
Possible, given that 170113 and 169983 study the same subject
170113 enters semester 9
Yes, 169983 and 170113 are classmates
Sorry, I have no clue yet
175129 studies electronics
No, this is not possible</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
