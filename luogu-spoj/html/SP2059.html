<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>CERC07S - Robotic Sort - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449710:XFZkN4Vyo17WxrmRmSamn0/YldxngnX0bnNQqx2s9nM=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Somewhere%20deep%20in%20the%20Czech%20Technical%20University%20buildings%2C%20there%20are%20laboratories%20for%20examin-%20ing%20mechanical%20and%20electrical%20properties%20of%20various%20materials.%20In%20one%20of%20yesterday%27s%20presentations%2C%20you%20have%20seen%20how%20was%20one%20of%20the%20laboratories%20changed%20into%20a%20new%20multimedia%20lab.%20But%20there%20are%20still%20others%2C%20serving%20to%20their%20original%20purposes.%5Cn%5CnIn%20this%20task%2C%20you%20are%20to%20write%20software%20for%20a%20robot%20that%20handles%20samples%20in%20such%20a%20laboratory.%20Imagine%20there%20are%20material%20samples%20lined%20up%20on%20a%20running%20belt.%20The%20samples%20have%20different%20heights%2C%20which%20may%20cause%20troubles%20to%20the%20next%20processing%20unit.%20To%20eliminate%20such%20troubles%2C%20we%20need%20to%20sort%20the%20samples%20by%20their%20height%20into%20the%20ascending%20order.%5Cn%5CnReordering%20is%20done%20by%20a%20mechanical%20robot%20arm%2C%20which%20is%20able%20to%20pick%20up%20any%20number%20of%20consecutive%20samples%20and%20turn%20them%20round%2C%20such%20that%20their%20mutual%20order%20is%20reversed.%20In%20other%20words%2C%20one%20robot%20operation%20can%20reverse%20the%20order%20of%20samples%20on%20positions%20between%20A%20and%20B.%5Cn%5CnA%20possible%20way%20to%20sort%20the%20samples%20is%20to%20find%20the%20position%20of%20the%20smallest%20one%20%28P%5C%5C_1%29%20and%20reverse%20the%20order%20between%20positions%201%20and%20P%5C%5C_1%2C%20which%20causes%20the%20smallest%20sample%20to%20become%20first.%20Then%20we%20find%20the%20second%20one%20on%20position%20P%5C%5C_2%20and%20reverse%20the%20order%20between%202%20and%20P%5C%5C_2.%20Then%20the%20third%20sample%20is%20located%20etc.%5Cn%5Cn%21%5Bexample%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP2059%5C%2F2f7348f6bf17c3916201e5a2e7ac372850f12509.png%29The%20picture%20shows%20a%20simple%20example%20of%206%20samples.%20The%20smallest%20one%20is%20on%20the%204th%20position%2C%20therefore%2C%20the%20robot%20arm%20reverses%20the%20first%204%20samples.%20The%20second%20smallest%20sample%20is%20the%20last%20one%2C%20so%20the%20next%20robot%20operation%20will%20reverse%20the%20order%20of%20five%20samples%20on%20positions%202-6.%20The%20third%20step%20will%20be%20to%20reverse%20the%20samples%203-4%2C%20etc.%5Cn%5CnYour%20task%20is%20to%20find%20the%20correct%20sequence%20of%20reversal%20operations%20that%20will%20sort%20the%20samples%20using%20the%20above%20algorithm.%20If%20there%20are%20more%20samples%20with%20the%20same%20height%2C%20their%20mutual%20order%20must%20be%20preserved%3A%20the%20one%20that%20was%20given%20first%20in%20the%20initial%20order%20must%20be%20placed%20before%20the%20others%20in%20the%20final%20order%20too.%22%2C%22inputFormat%22%3A%22The%20input%20consists%20of%20several%20scenarios.%20Each%20scenario%20is%20described%20by%20two%20lines.%20The%20first%20line%20contains%20one%20integer%20number%20N%2C%20the%20number%20of%20samples%2C%201%20%3C%3D%20N%20%3C%3D%20100%20000.%20The%20second%20line%20lists%20exactly%20N%20space-separated%20positive%20integers%2C%20they%20specify%20the%20heights%20of%20individual%20samples%20and%20their%20initial%20order.%5Cn%5CnThe%20last%20scenario%20is%20followed%20by%20a%20line%20containing%20zero.%22%2C%22outputFormat%22%3A%22For%20each%20scenario%2C%20output%20one%20line%20with%20exactly%20N%20integers%20P%5C%5C_1%2CP%5C%5C_2%2C...P%5C%5C_N%2C%20separated%20by%20a%20space.%20Each%20P%5C%5C_i%20must%20be%20an%20integer%20%281%20%3C%3D%20P%5C%5C_i%20%3C%3D%20N%29%20giving%20the%20position%20of%20the%20i-th%20sample%20just%20before%20the%20i-th%20reversal%20operation.%5Cn%5CnNote%20that%20if%20a%20sample%20is%20already%20on%20its%20correct%20position%20P%5C%5C_i%2C%20you%20should%20output%20the%20number%20P%5C%5C_i%20anyway%2C%20indicating%20that%20the%20%5C%22interval%20between%20P%5C%5C_i%20and%20P%5C%5C_i%5C%22%20%28a%20single%20sample%29%20should%20be%20reversed.%22%2C%22samples%22%3A%5B%5B%226%5Cr%5Cn3%204%205%201%206%202%5Cr%5Cn4%5Cr%5Cn3%203%202%201%5Cr%5Cn0%22%2C%224%206%204%205%206%206%5Cr%5Cn4%202%204%204%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B372%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F2059%22%2C%22id%22%3A%222059%22%7D%2C%22translation%22%3A%22%5Cu4f60%5Cu8981%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu673a%5Cu5668%5Cu4eba%5Cu7f16%5Cu5199%5Cu8f6f%5Cu4ef6%5Cuff0c%5Cu6765%5Cu5bf9%5Cu4e00%5Cu4e9b%5Cu7269%5Cu54c1%5Cu8fdb%5Cu884c%5Cu6392%5Cu5e8f%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu8fd9%5Cu4e2a%5Cu673a%5Cu5668%5Cu4eba%5Cu6bcf%5Cu6b21%5Cu80fd%5Cu591f%5Cu9009%5Cu62e9%5Cu4efb%5Cu610f%5Cu6570%5Cu91cf%5Cu7684%5Cu8fde%5Cu7eed%5Cu7269%5Cu54c1%5Cu5c06%5Cu5176%5Cu65cb%5Cu8f6c%5Cu3002%5Cu5b83%5Cu7684%5Cu64cd%5Cu4f5c%5Cu9075%5Cu5faa%5Cu4e00%5Cu4e2a%5Cu7b80%5Cu5355%5Cu7684%5Cu539f%5Cu5219%5Cuff1a%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu6b21%5Cu64cd%5Cu4f5c%5Cu65f6%5Cuff0c%5Cu627e%5Cu5230%5Cu9ad8%5Cu5ea6%5Cu6700%5Cu4f4e%5Cu7684%5Cu7269%5Cu54c1%5Cu7684%5Cu4f4d%5Cu7f6e%24P_1%24%5Cuff0c%5Cu7136%5Cu540e%5Cu628a%5Cu533a%5Cu95f4%24%5B1%2CP_1%5D%24%5Cu7ffb%5Cu8f6c%5Cuff1b%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%5Cu4e8c%5Cu6b21%5Cu64cd%5Cu4f5c%5Cu65f6%5Cuff0c%5Cu627e%5Cu5230%5Cu5269%5Cu4f59%5Cu7269%5Cu54c1%5Cu4e2d%5Cu9ad8%5Cu5ea6%5Cu6700%5Cu4f4e%5Cu7684%5Cu7269%5Cu54c1%5Cu7684%5Cu4f4d%5Cu7f6e%24P_2%24%5Cuff0c%5Cu7136%5Cu540e%5Cu628a%5Cu533a%5Cu95f4%24%5B2%2CP_2%5D%24%5Cu7ffb%5Cu8f6c%5Cuff1b%5Cr%5Cn%5Cr%5Cn%5Cu4ee5%5Cu6b64%5Cu7c7b%5Cu63a8%5Cuff0c%5Cu7b2c%24i%24%5Cu6b21%5Cu64cd%5Cu4f5c%5Cu65f6%5Cuff0c%5Cu627e%5Cu5230%5Cu5269%5Cu4f59%5Cu7269%5Cu54c1%5Cu4e2d%5Cu9ad8%5Cu5ea6%5Cu6700%5Cu4f4e%5Cu7684%5Cu7269%5Cu54c1%5Cu7684%5Cu4f4d%5Cu7f6e%24P_i%24%5Cuff0c%5Cu7136%5Cu540e%5Cu628a%5Cu533a%5Cu95f4%24%5Bi%2CP_i%5D%24%5Cu7ffb%5Cu8f6c%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu6ce8%5Cu610f%5Cuff0c%5Cu5982%5Cu679c%5Cu6709%5Cu9ad8%5Cu5ea6%5Cu76f8%5Cu540c%5Cu7684%5Cu7269%5Cu54c1%5Cuff0c%5Cu5219%5Cu5e94%5Cu4fdd%5Cu6301%5Cu5176%5Cu6392%5Cu5e8f%5Cu540e%5Cu7684%5Cu76f8%5Cu5bf9%5Cu987a%5Cu5e8f%5Cu4e0e%2A%2A%5Cu521d%5Cu59cb%5Cu7684%5Cu76f8%5Cu5bf9%5Cu987a%5Cu5e8f%2A%2A%5Cu76f8%5Cu540c%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu591a%5Cu7ec4%5Cu6570%5Cu7ec4%5Cuff0c%5Cu4ee5%24n%3D0%24%5Cu7ed3%5Cu675f%5Cu3002%5Cu6bcf%5Cu7ec4%5Cu6570%5Cu636e%5Cu7ed9%5Cu51fa%24n%24%5Cu548c%5Cu6bcf%5Cu4e2a%5Cu7269%5Cu54c1%5Cu7684%5Cu9ad8%5Cu5ea6%5Cuff0c%5Cu8ba9%5Cu4f60%5Cu8f93%5Cu51fa%24P_1%2CP_2%2C...%2CP_n%24%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A206%2C%22totalAccepted%22%3A97%2C%22pid%22%3A%22SP2059%22%2C%22title%22%3A%22CERC07S%20-%20Robotic%20Sort%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1486%22%2C%22title%22%3A%22%5BNOI2004%5D%5Cu90c1%5Cu95f7%5Cu7684%5Cu51fa%5Cu7eb3%5Cu5458%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2042%22%2C%22title%22%3A%22%5BNOI2005%5D%5Cu7ef4%5Cu62a4%5Cu6570%5Cu5217%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22UVA1402%22%2C%22title%22%3A%22Robotic%20Sort%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22UVA%22%7D%2C%7B%22pid%22%3A%22P4402%22%2C%22title%22%3A%22%5BCerc2007%5Drobotic%20sort%20%5Cu673a%5Cu68b0%5Cu6392%5Cu5e8f%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4567%22%2C%22title%22%3A%22%5BAHOI2006%5D%5Cu6587%5Cu672c%5Cu7f16%5Cu8f91%5Cu5668%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22CERC07S%20-%20Robotic%20Sort%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>CERC07S - Robotic Sort</h1>
<h2>题意翻译</h2>
<div>你要为一个机器人编写软件，来对一些物品进行排序。
这个机器人每次能够选择任意数量的连续物品将其旋转。它的操作遵循一个简单的原则：
第一次操作时，找到高度最低的物品的位置$P_1$，然后把区间$[1,P_1]$翻转；
第二次操作时，找到剩余物品中高度最低的物品的位置$P_2$，然后把区间$[2,P_2]$翻转；
以此类推，第$i$次操作时，找到剩余物品中高度最低的物品的位置$P_i$，然后把区间$[i,P_i]$翻转。
注意，如果有高度相同的物品，则应保持其排序后的相对顺序与**初始的相对顺序**相同。
多组数组，以$n=0$结束。每组数据给出$n$和每个物品的高度，让你输出$P_1,P_2,...,P_n$。</div>
<h2>题目描述</h2>
<div>Somewhere deep in the Czech Technical University buildings, there are laboratories for examin- ing mechanical and electrical properties of various materials. In one of yesterday's presentations, you have seen how was one of the laboratories changed into a new multimedia lab. But there are still others, serving to their original purposes.
In this task, you are to write software for a robot that handles samples in such a laboratory. Imagine there are material samples lined up on a running belt. The samples have different heights, which may cause troubles to the next processing unit. To eliminate such troubles, we need to sort the samples by their height into the ascending order.
Reordering is done by a mechanical robot arm, which is able to pick up any number of consecutive samples and turn them round, such that their mutual order is reversed. In other words, one robot operation can reverse the order of samples on positions between A and B.
A possible way to sort the samples is to find the position of the smallest one (P\_1) and reverse the order between positions 1 and P\_1, which causes the smallest sample to become first. Then we find the second one on position P\_2 and reverse the order between 2 and P\_2. Then the third sample is located etc.
![example](https://cdn.luogu.com.cn/upload/vjudge_pic/SP2059/2f7348f6bf17c3916201e5a2e7ac372850f12509.png)The picture shows a simple example of 6 samples. The smallest one is on the 4th position, therefore, the robot arm reverses the first 4 samples. The second smallest sample is the last one, so the next robot operation will reverse the order of five samples on positions 2-6. The third step will be to reverse the samples 3-4, etc.
Your task is to find the correct sequence of reversal operations that will sort the samples using the above algorithm. If there are more samples with the same height, their mutual order must be preserved: the one that was given first in the initial order must be placed before the others in the final order too.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The input consists of several scenarios. Each scenario is described by two lines. The first line contains one integer number N, the number of samples, 1 <= N <= 100 000. The second line lists exactly N space-separated positive integers, they specify the heights of individual samples and their initial order.
The last scenario is followed by a line containing zero.</div>
<h3>输出格式</h3>
<br />
<div>For each scenario, output one line with exactly N integers P\_1,P\_2,...P\_N, separated by a space. Each P\_i must be an integer (1 <= P\_i <= N) giving the position of the i-th sample just before the i-th reversal operation.
Note that if a sample is already on its correct position P\_i, you should output the number P\_i anyway, indicating that the "interval between P\_i and P\_i" (a single sample) should be reversed.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>6
3 4 5 1 6 2
4
3 3 2 1
0</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4 6 4 5 6 6
4 2 4 4</code></pre>
</article>
</div>
</div>
</body>
</html>
