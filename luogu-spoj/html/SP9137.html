<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>PYRSUM - Pyramid Sums - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450142:uHfDbvpMOz0DgaSwtDPvGIOb4O7RQbio+hCFVUA/F5o=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22This%20is%20an%20easier%20version%20of%20%5BPYRSUM2%5D%28..%5C%2FPYRSUM2%29%5Cn%5CnTommy%20is%20stacking%20square%20blocks%20in%20columns%20labelled%20from%201%20to%201000000%20%2810%20%24%20%5E%7B6%7D%20%24%20%29.%20Since%20it%20can%20be%20quite%20boring%20writing%20out%20the%20locations%20of%20every%20block%20he%20instead%20specifies%20a%20set%20of%202D%20pyramids%20that%20when%20built%20on%20top%20of%20each%20other%20will%20make%20the%20shape%20he%20wants.%20Pyramids%20always%20have%20height%20H%3D%28W%2B1%29%5C%2F2%20and%20take%20up%20N%3DH%20%24%20%5E%7B2%7D%20%24%20blocks%20so%20it%20is%20quite%20easy%20for%20him%20to%20work%20out%20how%20many%20blocks%20he%20will%20need%20in%20total%20from%20this%20description.%5Cn%5CnWhat%20is%20not%20so%20easy%20is%20working%20out%20how%20many%20blocks%20he%20will%20need%20to%20build%20in%20the%20space%20that%20occurs%20in%20the%20range%20between%20two%20columns%20%28inclusive%21%29.%20Given%20a%20set%20of%20instructions%20consisting%20of%20either%5Cn%5Cn-%20%5Cu201cbuild%20%5C%5C%5Bcentre%5C%5C%5D%20%5C%5C%5Bw%5C%5C%5D%5Cu201d%20%28build%20another%20pyramid%2C%20width%20%5C%5C%5Bw%5C%5C%5D%20with%20its%20midpoint%20at%20%5C%5C%5Bcentre%5C%5C%5D%29%20or%5Cn-%20%5Cu201ccount%20%5C%5C%5Bleft%5C%5C%5D%20%5C%5C%5Bright%5C%5C%5D%5Cu201d%20%28count%20the%20number%20of%20blocks%20added%20so%20far%20within%20the%20range%20of%20these%20columns%20inclusive%29%5Cn%5Cnyou%20must%20try%20to%20answer%20the%20queries%20as%20quickly%20as%20possible.%22%2C%22inputFormat%22%3A%22First%20line%3A%20%281%3C%3DT%3C%3D20%29%2C%20the%20number%20of%20test%20cases.%5Cn%5CnWithin%20each%20test%20case%3A%5Cn%5Cn1.%20%281%3C%3DN%3C%3D1000%29%2C%20the%20number%20of%20operations%20to%20perform.%5Cn2.%20N%20lines%2C%20each%20containing%20one%20operation%20%28as%20detailed%20above%29.%22%2C%22outputFormat%22%3A%22Answer%20each%20count%20query%20on%20its%20own%20line%2C%20putting%20an%20additional%20blank%20line%20after%20each%20test%20case.%5Cn%5Cn%2A%2APlease%20use%2064-bit%20counters%20as%20the%20result%20may%20overflow%20a%2032-bit%20container%21%2A%2A%22%2C%22samples%22%3A%5B%5B%224%5Cr%5Cn3%5Cr%5Cnbuild%205%203%5Cr%5Cnbuild%206%205%5Cr%5Cncount%204%207%5Cr%5Cn2%5Cr%5Cnbuild%20200%2099%5Cr%5Cncount%20151%20151%5Cr%5Cn4%5Cr%5Cnbuild%202%201%5Cr%5Cncount%201%201%5Cr%5Cncount%202%202%5Cr%5Cncount%201%202%5Cr%5Cn6%5Cr%5Cnbuild%205000%203999%5Cr%5Cncount%201%2010000%5Cr%5Cnbuild%202%201%5Cr%5Cnbuild%203%201%5Cr%5Cncount%202%202%5Cr%5Cncount%202%203%22%2C%2212%5Cr%5Cn%5Cr%5Cn1%5Cr%5Cn%5Cr%5Cn0%5Cr%5Cn1%5Cr%5Cn1%5Cr%5Cn%5Cr%5Cn4000000%5Cr%5Cn1%5Cr%5Cn2%5Cr%5Cn%5Cr%5CnVisualisation%20of%20first%20test%20case%3A%5Cr%5Cn----BB---%5Cr%5Cn----BB---%5Cr%5Cn---BABB--%5Cr%5Cn---AAABB-%5Cr%5Cn%20%20%20%5E%20%20%5E%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B583%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F9137%22%2C%22id%22%3A%229137%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP9137%22%2C%22title%22%3A%22PYRSUM%20-%20Pyramid%20Sums%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22PYRSUM%20-%20Pyramid%20Sums%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>PYRSUM - Pyramid Sums</h1>
<h2>题目描述</h2>
<div>This is an easier version of [PYRSUM2](../PYRSUM2)
Tommy is stacking square blocks in columns labelled from 1 to 1000000 (10 $ ^{6} $ ). Since it can be quite boring writing out the locations of every block he instead specifies a set of 2D pyramids that when built on top of each other will make the shape he wants. Pyramids always have height H=(W+1)/2 and take up N=H $ ^{2} $ blocks so it is quite easy for him to work out how many blocks he will need in total from this description.
What is not so easy is working out how many blocks he will need to build in the space that occurs in the range between two columns (inclusive!). Given a set of instructions consisting of either
- “build \[centre\] \[w\]” (build another pyramid, width \[w\] with its midpoint at \[centre\]) or
- “count \[left\] \[right\]” (count the number of blocks added so far within the range of these columns inclusive)
you must try to answer the queries as quickly as possible.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>First line: (1<=T<=20), the number of test cases.
Within each test case:
1. (1<=N<=1000), the number of operations to perform.
2. N lines, each containing one operation (as detailed above).</div>
<h3>输出格式</h3>
<br />
<div>Answer each count query on its own line, putting an additional blank line after each test case.
**Please use 64-bit counters as the result may overflow a 32-bit container!**</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
3
build 5 3
build 6 5
count 4 7
2
build 200 99
count 151 151
4
build 2 1
count 1 1
count 2 2
count 1 2
6
build 5000 3999
count 1 10000
build 2 1
build 3 1
count 2 2
count 2 3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>12

1

0
1
1

4000000
1
2

Visualisation of first test case:
----BB---
----BB---
---BABB--
---AAABB-
   ^  ^</code></pre>
</article>
</div>
</div>
</body>
</html>
