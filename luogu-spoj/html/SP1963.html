<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>IMGPROJ - Image Projections - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449700:43jRsQp/B2eAZtjsqxbYRWAM4+pZs/Bwv2ra9C37EMM=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Given%20an%20image%20_I_%20with%20_N_%20columns%20and%20_M_%20rows%2C%20a%20diagonal%20projection%20is%20the%20vector%20%28_d%20%24%20_%7B1%7D%20%24_%20%2C%20_d%20%24%20_%7B2%7D%20%24_%20%2C%20...%2C%20_d%20%24%20_%7BM%2BN-1%7D%20%24_%20%29%20where%20_d%20%24%20_%7Bi%7D%20%24_%20%20%3D%20%5Cu03a3%20_%24%20_%7Bx%2By-1%3Di%7D%20%24%20I%28x%2Cy%29_.%20Here%20_I%28x%2Cy%29_%2C%20_1_%20%5Cu2264%20_x_%20%5Cu2264%20_N_%2C%20_1_%20%5Cu2264%20_y_%20%5Cu2264%20_M_%2C%20is%20the%20image%20intensity%20%28a%20non-negative%20integer%20less%20than%20256%29%20at%20column%20_x_%20and%20row%20_y_.%5Cn%5CnYou%20are%20given%20a%20set%20of%20images%20and%20you%20are%20asked%20to%20find%20the%20diagonal%20projection%20for%20each%20of%20them.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20a%20positive%20number%2C%20the%20number%20of%20images%20that%20follow.%20For%20each%20image%20there%20is%20a%20line%20with%20_N_%20and%20_M_.%20The%20following%20_M_%20lines%20describe%20one%20row%20each%20starting%20from%20row%201.%20A%20row%20is%20described%20in%20run-length%20encoding%20by%20pairs%20of%20numbers%20separated%20by%20spaces.%20The%20first%20number%20in%20each%20pair%20is%20the%20length%20of%20the%20run%20and%20the%20second%20number%20is%20the%20image%20intensity.%20Obviously%2C%20for%20each%20row%2C%20the%20run%20lengths%20add%20up%20to%20_N_.%20As%20in%20the%20example%20input%2C%20there%20is%20a%20blank%20line%20between%20each%20two%20consecutive%20images%20and%20before%20the%20first%20one.%5Cn%5CnThe%20number%20of%20test%20cases%20is%20at%20most%2010.%20The%20width%20of%20each%20image%20is%20less%20than%20_10%20%24%20%5E%7B9%7D%20%24_%20%20and%20the%20height%20is%20less%20than%20_10%20%24%20%5E%7B3%7D%20%24_%20.%20Additionally%2C%20the%20total%20size%20of%20the%20input%20does%20not%20exceed%204%20MB.%22%2C%22outputFormat%22%3A%22For%20each%20image%20you%20should%20output%20one%20line%2C%20the%20diagonal%20projection%20for%20the%20image%20in%20run%20length%20encoding.%20The%20number%20of%20output%20lines%20should%20be%20the%20same%20as%20the%20number%20of%20images%20in%20the%20input.%20All%20the%20numbers%20on%20a%20line%20should%20be%20separated%20by%20exactly%20one%20space.%5Cn%5CnWhen%20encoding%20the%20output%20in%20run-length%20encoding%2C%20the%20runs%20should%20be%20as%20long%20as%20possible%2C%20i.e.%20no%20two%20consecutive%20runs%20should%20have%20the%20same%20intensity%20value.%22%2C%22samples%22%3A%5B%5B%222%5Cr%5Cn%5Cr%5Cn3%203%5Cr%5Cn1%201%201%202%201%203%5Cr%5Cn1%201%201%202%201%203%5Cr%5Cn1%203%201%202%201%201%5Cr%5Cn%5Cr%5Cn3%202%5Cr%5Cn3%201%5Cr%5Cn3%201%22%2C%221%201%201%203%201%208%201%205%201%201%5Cr%5Cn1%201%202%202%201%201%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B4623%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F1963%22%2C%22id%22%3A%221963%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP1963%22%2C%22title%22%3A%22IMGPROJ%20-%20Image%20Projections%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22IMGPROJ%20-%20Image%20Projections%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>IMGPROJ - Image Projections</h1>
<h2>题目描述</h2>
<div>Given an image _I_ with _N_ columns and _M_ rows, a diagonal projection is the vector (_d $ _{1} $_ , _d $ _{2} $_ , ..., _d $ _{M+N-1} $_ ) where _d $ _{i} $_ = Σ _$ _{x+y-1=i} $ I(x,y)_. Here _I(x,y)_, _1_ ≤ _x_ ≤ _N_, _1_ ≤ _y_ ≤ _M_, is the image intensity (a non-negative integer less than 256) at column _x_ and row _y_.
You are given a set of images and you are asked to find the diagonal projection for each of them.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains a positive number, the number of images that follow. For each image there is a line with _N_ and _M_. The following _M_ lines describe one row each starting from row 1. A row is described in run-length encoding by pairs of numbers separated by spaces. The first number in each pair is the length of the run and the second number is the image intensity. Obviously, for each row, the run lengths add up to _N_. As in the example input, there is a blank line between each two consecutive images and before the first one.
The number of test cases is at most 10. The width of each image is less than _10 $ ^{9} $_ and the height is less than _10 $ ^{3} $_ . Additionally, the total size of the input does not exceed 4 MB.</div>
<h3>输出格式</h3>
<br />
<div>For each image you should output one line, the diagonal projection for the image in run length encoding. The number of output lines should be the same as the number of images in the input. All the numbers on a line should be separated by exactly one space.
When encoding the output in run-length encoding, the runs should be as long as possible, i.e. no two consecutive runs should have the same intensity value.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2

3 3
1 1 1 2 1 3
1 1 1 2 1 3
1 3 1 2 1 1

3 2
3 1
3 1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1 1 1 3 1 8 1 5 1 1
1 1 2 2 1 1</code></pre>
</article>
</div>
</div>
</body>
</html>
