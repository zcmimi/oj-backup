<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MMMAGIC3 - Mickey Mouse Magic Trick v3 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450491:y4JKNeBi7WZV83K7YKJquVlKCvapySWQmC9ZQl5LEEg=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP17943%5C%2F3aa7e179bc80b62279b4f3556a92771923f8e562.png%29%22%2C%22inputFormat%22%3A%22All%20integers%20in%20the%20same%20line%20are%20single-space%20separated%20%28the%20same%20concerns%20problem%20output%29.%5Cn%5CnValues%20n%2C%20k%20are%20constant.%20In%20this%20problem%20n%3D8%20and%20k%3D3.%20There%20are%20also%20problems%20with%20different%20values%3A%20%5BMMMAGIC4%5D%28..%5C%2F..%5C%2Fproblems%5C%2FMMMAGIC4%5C%2F%29%2C%20%5BMMMAGIC5%5D%28..%5C%2F..%5C%2Fproblems%5C%2FMMMAGIC5%5C%2F%29%2C%20%5BMMMAGIC6%5D%28..%5C%2F..%5C%2Fproblems%5C%2FMMMAGIC6%5C%2F%29%5Cn%5CnThe%20first%20line%20of%20input%20contains%20two%20integers%20M%2C%20D%2C%20where%20M%20is%20the%20number%20of%20test%20cases%20in%20which%20Mickey%20needs%20help%2C%20D%20is%20the%20number%20of%20test%20cases%20in%20which%20Donald%20needs%20help%20%28M%2BD%20%3C%20200%29%20.%5Cn%5CnEvery%20of%20next%20M%20lines%20contains%20k%20distinct%20integers%20from%20range%20%5C%5C%5B1%2C%20n%5C%5C%5D%20-%20the%20values%20on%20cards%20given%20to%20Mickey.%20The%20order%20of%20values%20is%20casual.%5Cn%5CnEvery%20of%20next%20D%20lines%20contains%20k-1%20distinct%20integers%20from%20range%20%5C%5C%5B1%2C%20n%5C%5C%5D%20-%20the%20cards%20left%20to%20Donald%20on%20the%20table.%20The%20order%20is%20the%20same%2C%20as%20on%20the%20table%2C%20from%20left%20to%20right.%22%2C%22outputFormat%22%3A%22For%20each%20Mickey%27s%20query%20write%20a%20line%20with%20k-1%20integers%20-%20the%20values%20on%20the%20cards%2C%20that%20Mickey%20have%20to%20leave%20on%20the%20table%2C%20from%20left%20to%20right.%5Cn%5CnFor%20each%20Donald%27s%20query%20write%20a%20line%20with%20one%20integer%20-%20the%20value%20of%20hidden%20card%20or%20%28if%20in%20Your%20strategy%20such%20situation%20is%20impossible%29%20any%20of%20remaining%20values.%22%2C%22samples%22%3A%5B%5B%221%22%2C%221%5Cr%5Cn%5Cr%5Cn%5Cr%5Cn3%200%5C%5Cn1%202%203%5C%5Cn4%206%202%5C%5Cn8%207%204%5Cr%5Cn%5C%5Cn2%201%5C%5Cn4%206%5C%5Cn4%207%5Cr%5Cn%5Cr%5Cn%5Cr%5Cn%5Cr%5Cn%26nbsp%3B%5Cr%5Cn%5Cr%5Cn%5Cr%5Cn%5Cr%5CnInput%202%5Cr%5CnOutput%202%5Cr%5Cn%5Cr%5Cn%5Cr%5Cn0%203%5C%5Cn2%201%5C%5Cn4%206%5C%5Cn4%207%5Cr%5Cn%5C%5Cn3%5C%5Cn2%5C%5Cn8%5Cr%5Cn%5Cr%5Cn%5Cr%5Cn%5Cr%5CnExplanation%5Cr%5CnThe%20example%20above%20don%27t%20show%20any%20concrete%20strategy.%20It%20just%20shows%2C%20that%20strategy%20must%20be%20coherent%20%28when%20Mickey%20for%20given%20set%20of%20cards%201%202%203%20leave%20on%20the%20table%202%201%2C%20then%20Donald%20for%20given%20cards%202%201%20should%20answer%20with%20the%20number%203%29.%5Cr%5CnGenerally%20You%20can%20implement%20Your%20own%20strategy%20satisfying%20the%20conditions%20below%3A%5Cr%5Cn%5Cr%5Cnfor%20Mickey%27s%20query%20%5C%22a1%20a2%20...%20ak%5C%22%20You%20should%20reply%20%5C%22b1%20b2%20...%20bk-1%5C%22%2C%20such%20that%20%7Bb1%2C%20b2%2C%20...%2C%20bk-1%7D%20is%20subset%20of%20%7Ba1%2C%20a2%2C%20...%2C%20ak%7D%5Cr%5Cnfor%20Donald%27s%20query%20%5C%22b1%20b2%20...%20bk-1%5C%22%20reply%20the%20number%20c%2C%20such%20that%20%7Bb1%2C%20b2%2C%20...%2C%20bk-1%2C%20c%7D%20%3D%20%7Ba1%2C%20a2%2C%20...%2C%20ak%7D%5Cr%5Cn%5Cr%5Cn%26nbsp%3B%5Cr%5CnNote%5Cr%5CnThe%20similar%20problem%20appeared%20in%20MWPZ%202007%20contest%20in%20Poland%2C%20with%20different%20story%20%28in%20original%20problem%20there%20was%20Polish%20characters%20Bolek%20and%20Lolek%29.%20The%20main%20page%20of%20contest%20is%20http%3A%5C%2F%5C%2Fmwpz.poznan.pl%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F17943%22%2C%22id%22%3A%2217943%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP17943%22%2C%22title%22%3A%22MMMAGIC3%20-%20Mickey%20Mouse%20Magic%20Trick%20v3%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MMMAGIC3%20-%20Mickey%20Mouse%20Magic%20Trick%20v3%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MMMAGIC3 - Mickey Mouse Magic Trick v3</h1>
<h2>题目描述</h2>
<div>![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP17943/3aa7e179bc80b62279b4f3556a92771923f8e562.png)</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>All integers in the same line are single-space separated (the same concerns problem output).
Values n, k are constant. In this problem n=8 and k=3. There are also problems with different values: [MMMAGIC4](../../problems/MMMAGIC4/), [MMMAGIC5](../../problems/MMMAGIC5/), [MMMAGIC6](../../problems/MMMAGIC6/)
The first line of input contains two integers M, D, where M is the number of test cases in which Mickey needs help, D is the number of test cases in which Donald needs help (M+D < 200) .
Every of next M lines contains k distinct integers from range \[1, n\] - the values on cards given to Mickey. The order of values is casual.
Every of next D lines contains k-1 distinct integers from range \[1, n\] - the cards left to Donald on the table. The order is the same, as on the table, from left to right.</div>
<h3>输出格式</h3>
<br />
<div>For each Mickey's query write a line with k-1 integers - the values on the cards, that Mickey have to leave on the table, from left to right.
For each Donald's query write a line with one integer - the value of hidden card or (if in Your strategy such situation is impossible) any of remaining values.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1


3 0\n1 2 3\n4 6 2\n8 7 4
\n2 1\n4 6\n4 7



&amp;nbsp;



Input 2
Output 2


0 3\n2 1\n4 6\n4 7
\n3\n2\n8



Explanation
The example above don&#039;t show any concrete strategy. It just shows, that strategy must be coherent (when Mickey for given set of cards 1 2 3 leave on the table 2 1, then Donald for given cards 2 1 should answer with the number 3).
Generally You can implement Your own strategy satisfying the conditions below:

for Mickey&#039;s query &quot;a1 a2 ... ak&quot; You should reply &quot;b1 b2 ... bk-1&quot;, such that {b1, b2, ..., bk-1} is subset of {a1, a2, ..., ak}
for Donald&#039;s query &quot;b1 b2 ... bk-1&quot; reply the number c, such that {b1, b2, ..., bk-1, c} = {a1, a2, ..., ak}

&amp;nbsp;
Note
The similar problem appeared in MWPZ 2007 contest in Poland, with different story (in original problem there was Polish characters Bolek and Lolek). The main page of contest is http://mwpz.poznan.pl</code></pre>
</article>
</div>
</div>
</body>
</html>
