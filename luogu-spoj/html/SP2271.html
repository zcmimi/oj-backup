<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>UCODES - Undecodable Codes - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449729:I8JqjOaPvRq/GhjY+te0Xi0n3hd7PBspAs7xtsSZ2Vc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Phil%20Oracle%20has%20a%20unique%20ability%20that%20makes%20him%20indispensable%20at%20the%20National%20Spying%20Agency.%20His%20colleagues%20can%20bring%20him%20any%20new%20binary%20code%20and%20he%20can%20tell%20them%20immediately%20whether%20the%20code%20is%20uniquely%20decodable%20or%20not.%20A%20_code_%20is%20the%20assignment%20of%20a%20unique%20sequence%20of%20characters%20%28a%20_codeword_%29%20to%20each%20character%20in%20an%20_alphabet_.%20A%20binary%20code%20is%20one%20in%20which%20the%20codewords%20contain%20only%20zeroes%20and%20ones.%20For%20example%2C%20here%20are%20two%20possible%20binary%20codes%20for%20the%20alphabet%20%7B%2A%2Aa%2Cc%2Cj%2Cl%2Cp%2Cs%2Cv%2A%2A%7D.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP2271%5C%2F6f205f8c653a301c0df1f977e38d5a1bccbf6210.png%29The%20_encoding_%20of%20a%20string%20of%20characters%20from%20an%20alphabet%20%28the%20_cleartext_%29%20is%20the%20concatenation%20of%20the%20codewords%20corresponding%20to%20the%20characters%20of%20the%20cleartext%2C%20in%20order%2C%20from%20left%20to%20right.%20A%20code%20is%20_uniquely%20decodable_%20if%20the%20encoding%20of%20every%20possible%20cleartext%20using%20that%20code%20is%20unique.%20In%20the%20example%20above%2C%20Code%201%20is%20uniquely%20decodable%2C%20but%20Code%202%20is%20not.%20For%20example%2C%20the%20encodings%20of%20the%20cleartexts%20%5C%22%2A%2Apascal%2A%2A%5C%22%20and%20%5C%22%2A%2Ajava%2A%2A%5C%22%20are%20both%20%2A%2A001010101010%2A%2A.%20Even%20shorter%20encodings%20that%20are%20not%20uniquely%20decodable%20are%20%2A%2A01%2A%2A%20and%20%2A%2A10%2A%2A.%5Cn%5CnWhile%20the%20agency%20is%20very%20proud%20of%20Phil%2C%20he%20unfortunately%20gives%20only%20%5C%22yes%5C%22%20or%20%5C%22no%5C%22%20answers.%20Some%20members%20of%20the%20agency%20would%20prefer%20more%20tangible%20proof%2C%20especially%20in%20the%20case%20of%20codes%20that%20are%20not%20uniquely%20decodable.%20For%20this%20problem%20you%20will%20deal%20only%20with%20codes%20that%20are%20_not_%20uniquely%20decodable.%20For%20each%20of%20these%20codes%20you%20must%20determine%20the%20single%20encoding%20having%20the%20minimum%20length%20%28measured%20in%20bits%29%20that%20is%20ambiguous%20because%20it%20can%20result%20from%20encoding%20each%20of%20two%20or%20more%20different%20cleartexts.%20In%20the%20case%20of%20a%20tie%2C%20choose%20the%20encoding%20which%20comes%20first%20lexicographically.%22%2C%22inputFormat%22%3A%22One%20or%20more%20codes%20are%20to%20be%20tested.%20The%20input%20for%20each%20code%20begins%20with%20an%20integer%20m%2C%201%3C%3Dm%3C%3D20%2C%20on%20a%20line%20by%20itself%2C%20where%20m%20is%20the%20number%20of%20binary%20codewords%20in%20the%20code.%20This%20is%20followed%20by%20m%20lines%20each%20containing%20one%20binary%20codeword%20string%2C%20with%20optional%20leading%20and%20trailing%20whitespace.%20No%20codeword%20will%20contain%20more%20than%2020%20bits.%5Cn%5CnThe%20input%20is%20terminated%20by%20the%20number%20zero%20on%20a%20line%20by%20itself.%22%2C%22outputFormat%22%3A%22For%20each%20code%2C%20display%20the%20sequential%20code%20number%20%28starting%20with%201%29%2C%20the%20length%20of%20the%20shortest%20encoding%20that%20is%20not%20uniquely%20decodable%2C%20and%20the%20shortest%20encoding%20itself%2C%20with%20ties%20broken%20as%20previously%20described.%20The%20encoding%20must%20be%20displayed%20with%2020%20bits%20on%20each%20line%20except%20the%20last%2C%20which%20may%20contain%20fewer%20than%2020%20bits.%20Place%20a%20blank%20line%20after%20the%20output%20for%20each%20code.%20Use%20the%20format%20shown%20in%20the%20samples%20below.%22%2C%22samples%22%3A%5B%5B%223%5Cr%5Cn0%5Cr%5Cn01%5Cr%5Cn10%5Cr%5Cn5%5Cr%5Cn0110%5Cr%5Cn00%5Cr%5Cn111%5Cr%5Cn001100%5Cr%5Cn110%5Cr%5Cn5%5Cr%5Cn1%5Cr%5Cn001%5Cr%5Cn0001%5Cr%5Cn00000000000000000001%5Cr%5Cn10000000000000000000%5Cr%5Cn0%22%2C%22Code%201%3A%203%20bits%5Cr%5Cn010%5Cr%5Cn%5Cr%5CnCode%202%3A%209%20bits%5Cr%5Cn001100110%5Cr%5Cn%5Cr%5CnCode%203%3A%2021%20bits%5Cr%5Cn10000000000000000000%5Cr%5Cn1%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F2271%22%2C%22id%22%3A%222271%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP2271%22%2C%22title%22%3A%22UCODES%20-%20Undecodable%20Codes%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22UCODES%20-%20Undecodable%20Codes%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>UCODES - Undecodable Codes</h1>
<h2>题目描述</h2>
<div>Phil Oracle has a unique ability that makes him indispensable at the National Spying Agency. His colleagues can bring him any new binary code and he can tell them immediately whether the code is uniquely decodable or not. A _code_ is the assignment of a unique sequence of characters (a _codeword_) to each character in an _alphabet_. A binary code is one in which the codewords contain only zeroes and ones. For example, here are two possible binary codes for the alphabet {**a,c,j,l,p,s,v**}.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP2271/6f205f8c653a301c0df1f977e38d5a1bccbf6210.png)The _encoding_ of a string of characters from an alphabet (the _cleartext_) is the concatenation of the codewords corresponding to the characters of the cleartext, in order, from left to right. A code is _uniquely decodable_ if the encoding of every possible cleartext using that code is unique. In the example above, Code 1 is uniquely decodable, but Code 2 is not. For example, the encodings of the cleartexts "**pascal**" and "**java**" are both **001010101010**. Even shorter encodings that are not uniquely decodable are **01** and **10**.
While the agency is very proud of Phil, he unfortunately gives only "yes" or "no" answers. Some members of the agency would prefer more tangible proof, especially in the case of codes that are not uniquely decodable. For this problem you will deal only with codes that are _not_ uniquely decodable. For each of these codes you must determine the single encoding having the minimum length (measured in bits) that is ambiguous because it can result from encoding each of two or more different cleartexts. In the case of a tie, choose the encoding which comes first lexicographically.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>One or more codes are to be tested. The input for each code begins with an integer m, 1<=m<=20, on a line by itself, where m is the number of binary codewords in the code. This is followed by m lines each containing one binary codeword string, with optional leading and trailing whitespace. No codeword will contain more than 20 bits.
The input is terminated by the number zero on a line by itself.</div>
<h3>输出格式</h3>
<br />
<div>For each code, display the sequential code number (starting with 1), the length of the shortest encoding that is not uniquely decodable, and the shortest encoding itself, with ties broken as previously described. The encoding must be displayed with 20 bits on each line except the last, which may contain fewer than 20 bits. Place a blank line after the output for each code. Use the format shown in the samples below.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
0
01
10
5
0110
00
111
001100
110
5
1
001
0001
00000000000000000001
10000000000000000000
0</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Code 1: 3 bits
010

Code 2: 9 bits
001100110

Code 3: 21 bits
10000000000000000000
1</code></pre>
</article>
</div>
</div>
</body>
</html>
