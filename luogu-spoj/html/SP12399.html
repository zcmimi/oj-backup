<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>LCPC12D - Johnny Hates Climbing - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450315:TlB4uc9nSQ92LIqRs93j3EyZAF3VanL+kjStpYa+BxI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%60%60%60%5Cn%5CnDescription%5CnJohnny%20has%20a%20map%20of%20the%20gang%20block%20which%20shows%20the%20heights%20of%20all%20buildings%20within%20the%20block.%20The%20plan%20is%20that%20a%20helicopter%20will%20drop%20Johnny%20on%20the%20roof%20of%20one%20of%20the%20buildings%20on%20the%20boundaries%20of%20the%20block%20during%20night.%20Then%20Johnny%20will%20get%20to%20the%20boss%27s%20building%20by%20moving%20to%20adjacent%20buildings%2C%20vertically%20or%20horizontally.%20Going%20up%20severely%20affects%20Johnny%5Cu2019s%20heart%2C%20so%20he%20can%20only%20go%20to%20a%20building%20which%20has%20the%20same%20or%20smaller%20height%20as%20the%20current%20building.%5CnGiven%20the%20gang%20building%20block%20map%20which%20shows%20the%20heights%20of%20all%20buildings%20in%20the%20block%20along%20with%20the%20boss%20building%2C%20write%20a%20program%20to%20help%20Johnny%20determine%20the%20safest%20path%20from%20any%20building%20on%20the%20boundary%20of%20the%20block%20to%20reach%20the%20boss%5Cu2019s%20building%20without%20going%20up.%20A%20path%20safety%20is%20measured%20by%20the%20maximum%20jump%20value%20between%20any%20two%20buildings%20along%20the%20path%2C%20where%20the%20jump%20value%20is%20the%20difference%20between%20the%20heights%20of%20the%20two%20buildings%20%28the%20building%20he%20jumps%20from%20and%20the%20building%20he%20jumps%20to%29.%5Cu00a0%20The%20safest%20path%20is%20the%20path%20with%20minimum%20safety%20value.%5Cn%5CnInput%20Format%5Cn%5CnThe%20first%20line%20of%20input%20contains%20an%20integer%20T%2C%20the%20number%20of%20test%20cases.%20T%20test%20cases%20follow%2C%20the%20first%20line%20of%20each%20test%20case%20contains%20two%20integers%20%281%20%3C%3D%20R%2CC%20%3C%3D%2010%29%20the%20height%20and%20the%20width%20of%20the%20building%20block.%20The%20second%20line%20contains%20two%20integers%20%281%20%3C%3D%20BR%20%3C%3D%20R%29%2C%20and%20%281%20%3C%3D%20BC%20%3C%3D%20C%29%2C%20the%20coordinates%20of%20the%20boss%5Cu2019s%20building%20on%20the%20map.%20R%20lines%20follows%3B%20each%20line%20consists%20of%20C%20space%20separated%20integers%20representing%20the%20heights%20of%20all%20buildings.%20A%20height%20H%20of%20a%20building%20satisfies%20%281%20%3C%3D%20H%20%3C%3D%201000%29.%5Cn%5CnOutput%20Format%5CnFor%20each%20test%20case%2C%20output%20the%20result%20using%20the%20following%20format%3A%5Cnk.%20S%5CnWhere%20k%20is%20the%20test%20case%20number%20%28starting%20at%201%29%2C%20a%20single%20period%20%28.%29%2C%20a%20single%20space%2C%20and%20S%20%28the%20safety%20value%20of%20the%20safest%20path%29%20or%20%5C%22IMPOSSIBLE%5C%22%20%28quotes%20for%20clarity%29%20if%20there%20is%20no%20path%20to%20the%20boss%27s%20building.%5Cn%5Cn%5Cn%5Cn%5Cn%5CnSample%20Input%5Cn%5Cn%5Cn%5CnSample%20Output%5Cn%5Cn%5Cn%5Cn%5Cn2%5Cn3%203%5Cn2%202%5Cn1%207%203%5Cn2%206%203%5Cn3%205%204%5Cn2%202%5Cn2%201%5Cn2%207%5Cn2%206%5Cn%5Cn%5Cn1.%201%5Cn2.%200%5Cn%5Cu00a0%5Cn%5Cn%5Cn%5Cn%5Cn%5Cu00a0%5Cn%5Cu00a0%5Cn%5Cu00a0%5Cn%60%60%60%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F12399%22%2C%22id%22%3A%2212399%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP12399%22%2C%22title%22%3A%22LCPC12D%20-%20Johnny%20Hates%20Climbing%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22LCPC12D%20-%20Johnny%20Hates%20Climbing%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>LCPC12D - Johnny Hates Climbing</h1>
<h2>题目描述</h2>
<div>```
Description
Johnny has a map of the gang block which shows the heights of all buildings within the block. The plan is that a helicopter will drop Johnny on the roof of one of the buildings on the boundaries of the block during night. Then Johnny will get to the boss's building by moving to adjacent buildings, vertically or horizontally. Going up severely affects Johnny’s heart, so he can only go to a building which has the same or smaller height as the current building.
Given the gang building block map which shows the heights of all buildings in the block along with the boss building, write a program to help Johnny determine the safest path from any building on the boundary of the block to reach the boss’s building without going up. A path safety is measured by the maximum jump value between any two buildings along the path, where the jump value is the difference between the heights of the two buildings (the building he jumps from and the building he jumps to).  The safest path is the path with minimum safety value.
Input Format
The first line of input contains an integer T, the number of test cases. T test cases follow, the first line of each test case contains two integers (1 <= R,C <= 10) the height and the width of the building block. The second line contains two integers (1 <= BR <= R), and (1 <= BC <= C), the coordinates of the boss’s building on the map. R lines follows; each line consists of C space separated integers representing the heights of all buildings. A height H of a building satisfies (1 <= H <= 1000).
Output Format
For each test case, output the result using the following format:
k. S
Where k is the test case number (starting at 1), a single period (.), a single space, and S (the safety value of the safest path) or "IMPOSSIBLE" (quotes for clarity) if there is no path to the boss's building.
Sample Input
Sample Output
2
3 3
2 2
1 7 3
2 6 3
3 5 4
2 2
2 1
2 7
2 6
1. 1
2. 0
 
 
 
 
```</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
