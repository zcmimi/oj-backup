<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>LOGIC2 - Logic II - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449665:jruNPZwwcj5x2jCmk9WMm2wPF++5qpB8Clm/NvToKto=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Some%20day%20in%202003%20in%20Byteland%20began%20calm%20and%20quietly%20as%20any%20other%20day.%20Some%20people%20went%20to%20work%2C%20some%20to%20school%2C%20some%20to%20store%20to%20buy%20food.%20Drivers%20were%20traditionally%20stucked%20in%20traffic%20jams%2C%20drinking%20coffee%20and%20reading%20morning%20newspaper.%20Suddenly%20the%20regularity%20of%20this%20day%20was%20disturbed%20by%20huge%20explosion.%5C%22They%20blew%20up%20the%20embassy%20of%20Bajtocja%21%21%21%5C%22%20somebody%20cried.%20Everybody%20began%20to%20run%20away%20in%20panic.%5Cn%5CnPolice%20works%20pretty%20good%20in%20Byteland%20and%20first%20radiocars%20appeared%20near%20the%20embassy%20only%20few%20seconds%20after%20the%20explosion.%20All%20the%20people%20near%20the%20embassy%20were%20detained.%20Only%20one%20of%20the%20people%20is%20the%20organizer%20of%20the%20explosion%2C%20the%20others%20could%20by%20just%20occasional%20witnesses.%20It%20is%20known%2C%20among%20these%20M%281%3C%3DM%3C%3D11%29%20people%2C%20N%281%3C%3DN%3C%3DM%29%20people%20always%20lie%20because%20they%20want%20to%20make%20the%20work%20of%20police%20more%20difficult%2C%20the%20others%20always%20tell%20the%20truth.%5Cn%5CnAll%20these%20people%20say%20P%281%3C%3DP%3C%3D30%29%20sentences%20in%20total.All%20the%20useful%20sentences%20are%20in%20one%20of%20the%204%20forms%20below%2C%20all%20the%20other%20sentences%20are%20useless%20and%20you%20can%20ignore%20them.%5Cn%5Cn-%20I%20am%20guilty.%5Cn-%20I%20am%20not%20guilty.%5Cn-%20_Somebody_%20is%20guilty.%5Cn-%20_Somebody_%20is%20not%20guilty.%5Cn-%20Today%20is%20_Someday_.%22%2C%22inputFormat%22%3A%22Multiple%20test%20cases.%20For%20each%20test%20case%3A%5Cn%5CnThe%20first%20line%20contains%20three%20integers%20M%2C%20N%20and%20P.%20M%20lines%20follow%2C%20each%20contains%20a%20name%20of%20one%20of%20the%20people.All%20names%20contain%20only%20capital%20Latin%20letters%20and%20no%20whitespaces.P%20lines%20come%20next%2C%20each%20contains%20no%20more%20than%20250%20characters%2C%20the%20speaker%20and%20his%5C%2Fher%20speech.%20See%20the%20example.%5Cn%5CnYou%20can%20assume%20that%20there%27s%20no%20whitespace%20at%20the%20start%20and%20the%20end%20of%20a%20line%2C%20and%20there%20are%20no%20two%20consecutive%20spaces%20in%20the%20input.%5Cn%5CnInput%20terminate%20by%20EOF.%22%2C%22outputFormat%22%3A%22The%20name%20of%20the%20organizer%20if%20you%20can%20determine%2C%20or%20_Cannot%20Determine_%20if%20you%20find%20more%20than%20one%2C%20or%20_Impossible_%20if%20you%20find%20no%20one.%22%2C%22samples%22%3A%5B%5B%223%201%205%5CnMIKE%5CnCHARLES%5CnKATE%5CnMIKE%3A%20I%20am%20guilty.%5CnMIKE%3A%20Today%20is%20Sunday.%5CnCHARLES%3A%20MIKE%20is%20guilty.%5CnKATE%3A%20I%20am%20guilty.%5CnKATE%3A%20How%20are%20you%3F%3F%22%2C%22MIKE%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F1687%22%2C%22id%22%3A%221687%22%7D%2C%22translation%22%3A%22%5Cn%5Cn2003%5Cu5e74%5Cu7684%5Cu4e00%5Cu5929%5Cu50cf%5Cu5f80%5Cu5e38%5Cu4e00%5Cu6837%5Cu3002%5Cu6709%5Cu7684%5Cu4eba%5Cu53bb%5Cu4e0a%5Cu73ed%5Cuff0c%5Cu6709%5Cu7684%5Cu53bb%5Cu4e0a%5Cu5b66%5Cuff0c%5Cu6709%5Cu7684%5Cu53bb%5Cu5546%5Cu5e97%5Cu4e70%5Cu83dc%5Cu3002%5Cu53f8%5Cu673a%5Cu88ab%5Cu56f0%5Cu5728%5Cu4ea4%5Cu901a%5Cu5835%5Cu585e%5Cu4e0a%5Cuff0c%5Cu559d%5Cu5496%5Cu5561%5Cuff0c%5Cu8bfb%5Cu62a5%5Cu7eb8%5Cu3002%5Cu7a81%5Cu7136%5Cu8fd9%5Cu4e00%5Cu5929%5Cu88ab%5Cu5de8%5Cu5927%5Cu7684%5Cu7206%5Cu70b8%5Cu7834%5Cu574f%5Cu3002%5Cu201c%5Cu4ed6%5Cu4eec%5Cu70b8%5Cu6bc1%5Cu4e86Bajtocja%5Cu7684%5Cu5927%5Cu4f7f%5Cu9986%5Cuff01%5Cuff01%5Cuff01%5Cu201d%5Cu6709%5Cu4eba%5Cu54ed%5Cu4e86%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu4eba%5Cu90fd%5Cu5f00%5Cu59cb%5Cu6050%5Cu614c%5Cu9003%5Cu8dd1%5Cu3002%20%5Cu5927%5Cu4f7f%5Cu9986%5Cu9644%5Cu8fd1%5Cu7684%5Cu6240%5Cu6709%5Cu4eba%5Cu90fd%5Cu88ab%5Cu62d8%5Cu7559%5Cu4e86%5Cu3002%5Cu53ea%5Cu6709%5Cu4e00%5Cu4e2a%5Cu4eba%5Cu662f%5Cu7206%5Cu70b8%5Cu7684%5Cu7ec4%5Cu7ec7%5Cu8005%5Cuff0c%5Cu5176%5Cu4ed6%5Cu4eba%5Cu90fd%5Cu662f%5Cu8bc1%5Cu4eba%5Cu3002%5Cu4eba%5Cu4eec%5Cu77e5%5Cu9053%5Cuff0c%5Cu5728%5Cu8fd9%5Cu4e9bM%281%3C%3DM%3C%3D11%29%5Cu7684%5Cu4eba%5Cu4e2d%5Cuff0cN%281%3C%3DN%3C%3DM%29%20%5Cu7684%5Cu4eba%5Cu603b%5Cu662f%5Cu6492%5Cu8c0e%5Cuff0c%5Cu56e0%5Cu4e3a%5Cu4ed6%5Cu4eec%5Cu60f3%5Cu4f7f%5Cu8b66%5Cu5bdf%5Cu7684%5Cu5de5%5Cu4f5c%5Cu66f4%5Cu52a0%5Cu56f0%5Cu96be%5Cuff0c%5Cu5176%5Cu4ed6%5Cu4eba%5Cu603b%5Cu662f%5Cu8bf4%5Cu5b9e%5Cu8bdd%5Cu3002%20%5Cu6240%5Cu6709%5Cu4eba%5Cu90fd%5Cu4f1a%5Cu8bf4P%281%3C%3DP%3C%3D30%29%5Cu4e2a%5Cu53e5%5Cu5b50%5Cuff0c%5Cu6240%5Cu6709%5Cu6709%5Cu7528%5Cu7684%5Cu53e5%5Cu5b50%5Cu90fd%5Cu5728%5Cu4e0b%5Cu9762%5Cu76844%5Cu79cd%5Cu5f62%5Cu5f0f%5Cu4e2d%5Cuff0c%5Cu6240%5Cu6709%5Cu5176%5Cu4ed6%5Cu53e5%5Cu5b50%5Cu90fd%5Cu662f%5Cu65e0%5Cu7528%5Cu7684%5Cuff0c%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu5ffd%5Cu7565%5Cu5b83%5Cu4eec%5Cu3002%5Cn%5CnI%20am%20guilty.%5CnI%20am%20not%20guilty.%5CnSomebody%20is%20guilty.%5CnSomebody%20is%20not%20guilty.%5CnToday%20is%20Someday.%5Cn%5Cn%5Cu8f93%5Cu5165%3A%5Cn%5Cu591a%5Cu91cd%5Cu6d4b%5Cu8bd5%5Cu6837%5Cu4f8b%5Cu3002%5Cuff08%5Cu4e0e1039%5Cu4e0d%5Cu540c%5Cuff09%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu6d4b%5Cu8bd5%5Cu6837%5Cu4f8b%5Cuff1a%20%5Cu7b2c%5Cu4e00%5Cu884c%5Cu5305%5Cu542b%5Cu4e09%5Cu4e2a%5Cu6574%5Cu6570M%5Cuff0cN%5Cu548cP%5Cu3002M%5Cu662f%5Cu88ab%5Cu62d8%5Cu7559%5Cu7684%5Cu4eba%5Cu7684%5Cu6570%5Cu91cf%5Cuff0cN%5Cu662f%5Cu5176%5Cu4e2d%5Cu59cb%5Cu7ec8%5Cu6492%5Cu8c0e%5Cu7684%5Cu4eba%5Cu6570%5Cuff0cP%5Cu662f%5Cu8bc1%5Cu8a00%5Cu7684%5Cu603b%5Cu6570%5Cu3002%5Cu63a5%5Cu4e0b%5Cu6765M%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu662f%5Cu4e00%5Cu4e2a%5Cu4eba%5Cu7684%5Cu540d%5Cu5b57%5Cuff08%5Cu82f1%5Cu6587%5Cu5b57%5Cu6bcd%5Cu7ec4%5Cu6210%5Cuff0c%5Cu6ca1%5Cu6709%5Cu4e3b%5Cu683c%5Cuff0c%5Cu5168%5Cu90e8%5Cu5927%5Cu5199%5Cuff09%5Cu3002%5Cu5f80%5Cu540e%5Cu6709P%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu5f00%5Cu59cb%5Cu662f%5Cu67d0%5Cu4e2a%5Cu4eba%5Cu7684%5Cu540d%5Cu5b87%5Cuff0c%5Cu7d27%5Cu8ddf%5Cu7740%5Cu4e00%5Cu4e2a%5Cu5192%5Cu53f7%5Cu548c%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu683c%5Cuff0c%5Cu540e%5Cu9762%5Cu662f%5Cu4e00%5Cu53e5%5Cu8bc1%5Cu8bcd%5Cuff0c%5Cu7b26%5Cu5408%5Cu524d%5Cu8868%5Cu4e2d%5Cu6240%5Cu5217%5Cu683c%5Cu5f0f%5Cu3002%5Cu8bc1%5Cu8bcd%5Cu6bcf%5Cu884c%5Cu4e0d%5Cu4f1a%5Cu8d85%5Cu8fc7250%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu3002%20%5Cu8f93%5Cu5165%5Cu4e2d%5Cu4e0d%5Cu4f1a%5Cu51fa%5Cu73b0%5Cu8fde%5Cu7eed%5Cu7684%5Cu4e24%5Cu4e2a%5Cu7a7a%5Cu683c%5Cuff0c%5Cu800c%5Cu4e14%5Cu6bcf%5Cu884c%5Cu5f00%5Cu5934%5Cu548c%5Cu7ed3%5Cu5c3e%5Cu4e5f%5Cu6ca1%5Cu6709%5Cu7a7a%5Cu683c%5Cu3002%20%5Cu8f93%5Cu5165%5Cu7ec8%5Cu6b62EOF%5Cu3002%20%5Cu8f93%5Cu51fa%5Cuff1a%20%5Cu5982%5Cu679c%5Cu4f60%5Cu7684%5Cu7a0b%5Cu5e8f%5Cu80fd%5Cu786e%5Cu5b9a%5Cu8c01%5Cu662f%5Cu7ec4%5Cu7ec7%5Cu8005%5Cuff0c%5Cu5219%5Cu8f93%5Cu51fa%5Cu4ed6%5Cu7684%5Cu540d%5Cu5b57%5Cuff1b%5Cu5982%5Cu679c%5Cu7a0b%5Cu5e8f%5Cu5224%5Cu65ad%5Cu51fa%5Cu4e0d%5Cu6b62%5Cu4e00%5Cu4e2a%5Cu4eba%5Cu53ef%5Cu80fd%5Cu662f%5Cu7ec4%5Cu7ec7%5Cu8005%5Cuff0c%5Cu5219%5Cu8f93%5Cu51fa%20Cannot%20Determine%5Cuff1b%5Cu5982%5Cu679c%5Cu7a0b%5Cu5e8f%5Cu5224%5Cu65ad%5Cu51fa%5Cu6ca1%5Cu6709%5Cu4eba%5Cu53ef%5Cu80fd%5Cu6210%5Cu4e3a%5Cu7ec4%5Cu7ec7%5Cu8005%5Cuff0c%5Cu5219%5Cu8f93%5Cu51fa%20Impossible%5Cu3002%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A7%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP1687%22%2C%22title%22%3A%22LOGIC2%20-%20Logic%20II%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A33256%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A13358%2C%22name%22%3A%22SP1687%20LOGIC2%20-%20Logic%20II%22%2C%22slug%22%3A%22SP1687%22%7D%7D%2C%7B%22id%22%3A33110%2C%22title%22%3A%22%5Cu6b64%5Cu9898%5Cu540cP1039%5Cuff08%5Cu591a%5Cu91cd%5Cu6d4b%5Cu8bd5%5Cu7528%5Cu4f8b%5Cuff09%22%2C%22forum%22%3A%7B%22id%22%3A13358%2C%22name%22%3A%22SP1687%20LOGIC2%20-%20Logic%20II%22%2C%22slug%22%3A%22SP1687%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22LOGIC2%20-%20Logic%20II%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>LOGIC2 - Logic II</h1>
<h2>题意翻译</h2>
<div>
2003年的一天像往常一样。有的人去上班，有的去上学，有的去商店买菜。司机被困在交通堵塞上，喝咖啡，读报纸。突然这一天被巨大的爆炸破坏。“他们炸毁了Bajtocja的大使馆！！！”有人哭了。每个人都开始恐慌逃跑。 大使馆附近的所有人都被拘留了。只有一个人是爆炸的组织者，其他人都是证人。人们知道，在这些M(1<=M<=11)的人中，N(1<=N<=M) 的人总是撒谎，因为他们想使警察的工作更加困难，其他人总是说实话。 所有人都会说P(1<=P<=30)个句子，所有有用的句子都在下面的4种形式中，所有其他句子都是无用的，你可以忽略它们。
I am guilty.
I am not guilty.
Somebody is guilty.
Somebody is not guilty.
Today is Someday.
输入:
多重测试样例。（与1039不同）
对于每个测试样例： 第一行包含三个整数M，N和P。M是被拘留的人的数量，N是其中始终撒谎的人数，P是证言的总数。接下来M行，每行是一个人的名字（英文字母组成，没有主格，全部大写）。往后有P行，每行开始是某个人的名宇，紧跟着一个冒号和一个空格，后面是一句证词，符合前表中所列格式。证词每行不会超过250个字符。 输入中不会出现连续的两个空格，而且每行开头和结尾也没有空格。 输入终止EOF。 输出： 如果你的程序能确定谁是组织者，则输出他的名字；如果程序判断出不止一个人可能是组织者，则输出 Cannot Determine；如果程序判断出没有人可能成为组织者，则输出 Impossible。
</div>
<h2>题目描述</h2>
<div>Some day in 2003 in Byteland began calm and quietly as any other day. Some people went to work, some to school, some to store to buy food. Drivers were traditionally stucked in traffic jams, drinking coffee and reading morning newspaper. Suddenly the regularity of this day was disturbed by huge explosion."They blew up the embassy of Bajtocja!!!" somebody cried. Everybody began to run away in panic.
Police works pretty good in Byteland and first radiocars appeared near the embassy only few seconds after the explosion. All the people near the embassy were detained. Only one of the people is the organizer of the explosion, the others could by just occasional witnesses. It is known, among these M(1<=M<=11) people, N(1<=N<=M) people always lie because they want to make the work of police more difficult, the others always tell the truth.
All these people say P(1<=P<=30) sentences in total.All the useful sentences are in one of the 4 forms below, all the other sentences are useless and you can ignore them.
- I am guilty.
- I am not guilty.
- _Somebody_ is guilty.
- _Somebody_ is not guilty.
- Today is _Someday_.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Multiple test cases. For each test case:
The first line contains three integers M, N and P. M lines follow, each contains a name of one of the people.All names contain only capital Latin letters and no whitespaces.P lines come next, each contains no more than 250 characters, the speaker and his/her speech. See the example.
You can assume that there's no whitespace at the start and the end of a line, and there are no two consecutive spaces in the input.
Input terminate by EOF.</div>
<h3>输出格式</h3>
<br />
<div>The name of the organizer if you can determine, or _Cannot Determine_ if you find more than one, or _Impossible_ if you find no one.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 1 5
MIKE
CHARLES
KATE
MIKE: I am guilty.
MIKE: Today is Sunday.
CHARLES: MIKE is guilty.
KATE: I am guilty.
KATE: How are you??</code></pre>
<h3>输出样例 #1</h3>
<pre><code>MIKE</code></pre>
</article>
</div>
</div>
</body>
</html>
