<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MRECT1 - Điểm trên cạnh hình chữ nhật - HRASTOVI - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449993:ZF4aGf0beYbUpo5HpkBEYwNAtPlNpDyRmedQe8gXKxM=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22The%20government%20is%20planing%20to%20build%20a%20walkway%20for%20tourists%20in%20the%20middle%20of%20an%20oak%20forest.%20The%20forest%20can%20be%20represented%20as%20plane%20with%20N%20special%20lattice%20points%20representing%20oaks.%20%20The%20walkway%20is%20represented%20as%20a%20rectangle%20with%20sides%20parallel%20to%20the%20axes.%20If%20the%20sides%20%20of%20walkway%20rectangle%20intersect%20any%20oak%20lattice%20points%2C%20such%20oaks%20need%20to%20be%20axed%20down.%20%5Cn%20%5CnOaks%20inside%20the%20rectangle%20do%20not%20represent%20problems%20and%20need%20not%20be%20cut%20down.%20Ljubo%20is%20the%20state%20secretary%20of%20Forestry%20and%20an%20passionate%20nature%20lover%2C%20so%20he%20ordered%20the%20secretary%20of%20Tourism%20to%20provide%20him%20with%20a%20list%20of%20P%20possible%20rectangle%20walkways%20that%20are%20attractive%20enough%20to%20draw%20in%20tourists.%5Cn%5CnLjubo%20plans%20to%20select%20the%20walkway%20that%20needs%20the%20smallest%20amount%20of%20oak%20trees%20to%20be%20cut%20down.%20%5Cn%5CnSince%20we%20also%20like%20trees%2C%20would%20you%20be%20so%20kind%20and%20write%20a%20program%20that%20will%20determine%20the%20number%20of%20oaks%20that%20will%20be%20cut%20down%20for%20each%20walkway.%20Remember%20only%20the%20oaks%20intersecting%20the%20sides%20of%20the%20rectangle%20need%20to%20be%20cut.%20%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20one%20integer%20N%20%281%20%5Cu2264%20N%20%5Cu2264%20300%20000%29%2C%20number%20of%20oaks.%20%5Cn%5CnThe%20next%20N%20lines%20contain%20two%20integers%20each%20X%20i%20Y%20%281%20%5Cu2264%20X%2C%20Y%20%5Cu2264%2010%5E9%29%20coordinates%20of%20oaks.%20There%20will%20be%20at%20%5Cn%5Cnmost%20one%20oak%20on%20each%20lattice%20point.%20%5Cn%5CnThe%20next%20line%20contains%20one%20integer%20P%20%281%20%5Cu2264%20P%20%5Cu2264%20100%20000%29%2C%20number%20of%20walkways.%20%5Cn%5CnThe%20next%20P%20lines%20contain%20four%20integers%20each%20X1%2C%20Y1%2C%20X2%20%2C%20Y2%20%281%20%5Cu2264%20X1%20%3C%20X2%20%5Cu2264%2010%5E9%2C%201%20%5Cu2264%20Y1%20%3C%20Y2%20%5Cu2264%2010%5E9%29%20%20%5Cn%5Cncoordinates%20of%20the%20lower%20left%20%28X1%2C%20Y1%29%20and%20upper%20right%20%28X2%2C%20Y2%29%20corner%20of%20the%20rectangle.%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fluogu-ipic.oss-cn-shanghai.aliyuncs.com%5C%2F20181018095524.png%29%5Cn%5Cn%5Cn%22%2C%22outputFormat%22%3A%22Output%20P%20integers%2C%20one%20per%20line%2C%20the%20number%20of%20oaks%20that%20need%20to%20be%20cut%20down%20for%20each%20walkway%20in%20the%20order%20they%20are%20presented%20in%20the%20input.%20%22%2C%22samples%22%3A%5B%5B%22%5Cn6%20%5Cn1%202%20%5Cn3%202%20%5Cn2%203%20%5Cn2%205%20%5Cn4%204%20%5Cn6%203%20%5Cn4%20%5Cn2%202%204%204%20%5Cn2%202%206%205%20%5Cn3%203%205%206%20%5Cn5%201%206%206%22%2C%22%5Cn3%20%5Cn4%20%5Cn0%20%5Cn1%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B758%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F6681%22%2C%22id%22%3A%226681%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu4f60%24n%24%5Cu4e2a%5Cu70b9%5Cuff0c%5Cu5171%24p%24%5Cu6b21%5Cu8be2%5Cu95ee%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu8be2%5Cu95ee%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2a%5Cu5de6%5Cu4e0b%5Cu89d2%5Cu5750%5Cu6807%5Cu4e3a%24%28x_1%2Cy_1%29%24%5Cuff0c%5Cu53f3%5Cu4e0a%5Cu89d2%5Cu5750%5Cu6807%5Cu4e3a%24%28x_2%2Cy_2%29%24%5Cu7684%5Cu77e9%5Cu5f62%5Cuff0c%5Cu95ee%5Cu4f60%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu70b9__%5Cu6070%5Cu597d%5Cu843d%5Cu5728%5Cu77e9%5Cu5f62%5Cu7684%5Cu8fb9%5Cu754c%5Cu4e0a__%5Cu3002%5Cr%5Cn%5Cr%5Cn%23%23%23%23%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%241%24%5Cu884c%5Cu5305%5Cu542b%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%24n%281%5C%5Cleqslant%20n%5C%5Cleqslant%203%5C%5Ctimes%2010%5E5%29%24%5Cuff0c%5Cu8868%5Cu793a%5Cu70b9%5Cu7684%5Cu6570%5Cu91cf%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%24n%24%5Cu884c%5Cuff0c%5Cu7b2c%24i%2B1%24%5Cu884c%5Cu5305%5Cu542b%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%24x_i%2Cy_i%281%5C%5Cleqslant%20x_i%2Cy_i%5C%5Cleqslant%2010%5E%7B9%7D%29%24%5Cuff0c%5Cu8868%5Cu793a%5Cu6bcf%5Cu4e2a%5Cu70b9%5Cu7684%5Cu5750%5Cu6807%5Cu3002%5Cu4fdd%5Cu8bc1%5Cu6ca1%5Cu6709%5Cu4e24%5Cu4e2a%5Cu70b9%5Cu5750%5Cu6807%5Cu76f8%5Cu540c%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%24n%2B2%24%5Cu884c%5Cu5305%5Cu542b%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%24p%281%5C%5Cleqslant%20p%5C%5Cleqslant%2010%5E5%29%24%5Cuff0c%5Cu8868%5Cu793a%5Cu8be2%5Cu95ee%5Cu7684%5Cu6570%5Cu91cf%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%24p%24%5Cu884c%5Cuff0c%5Cu7b2c%24n%2Bj%2B2%24%5Cu884c%5Cu5305%5Cu542b%5Cu56db%5Cu4e2a%5Cu6574%5Cu6570%24x_%7B1j%7D%2Cy_%7B1j%7D%2Cx_%7B2j%7D%2Cy_%7B2j%7D%281%5C%5Cleqslant%20x_%7B1j%7D%3Cx_%7B2j%7D%5C%5Cleqslant%2010%5E9%2C1%5C%5Cleqslant%20y_%7B1j%7D%3Cy_%7B2j%7D%5C%5Cleqslant%2010%5E9%29%24%5Cuff0c%5Cu8868%5Cu793a%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu77e9%5Cu5f62%5Cuff0c%5Cu5176%5Cu5de6%5Cu4e0b%5Cu89d2%5Cu7684%5Cu5750%5Cu6807%5Cu4e3a%24%28x_%7B1j%7D%2Cy_%7B1j%7D%29%24%5Cuff0c%5Cu53f3%5Cu4e0a%5Cu89d2%5Cu7684%5Cu5750%5Cu6807%5Cu4e3a%24%28x_%7B2j%7D%2Cy_%7B2j%7D%29%24%5Cuff0c%5Cu95ee%5Cu4f60%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu70b9__%5Cu6070%5Cu597d%5Cu843d%5Cu5728%5Cu8fd9%5Cu4e2a%5Cu77e9%5Cu5f62%5Cu7684%5Cu8fb9%5Cu754c%5Cu4e0a__%5Cu3002%5Cr%5Cn%5Cr%5Cn%23%23%23%23%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cr%5Cn%5Cr%5Cn%5Cu8f93%5Cu51fa%24p%24%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu6309%5Cu7167%5Cu8f93%5Cu5165%5Cu987a%5Cu5e8f%5Cu4f9d%5Cu6b21%5Cu8868%5Cu793a%5Cu6bcf%5Cu4e2a%5Cu8be2%5Cu95ee%5Cu7684%5Cu7b54%5Cu6848%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A28%2C%22totalAccepted%22%3A10%2C%22pid%22%3A%22SP6681%22%2C%22title%22%3A%22MRECT1%20-%20%5Cu0110i%5Cu1ec3m%20tr%5Cu00ean%20c%5Cu1ea1nh%20h%5Cu00ecnh%20ch%5Cu1eef%20nh%5Cu1eadt%20-%20HRASTOVI%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A109238%2C%22title%22%3A%22%5Cu840c%5Cu65b0%5Cu521a%5Cu5b66OI%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A14345%2C%22name%22%3A%22SP6681%20MRECT1%20-%20%5Cu0110i%5Cu1ec3m%20tr%5Cu00ean%20c%5Cu1ea1nh%20h%5Cu00ecnh%20ch%5Cu1eef%20nh%5Cu1eadt%20-%20HRASTOVI%22%2C%22slug%22%3A%22SP6681%22%7D%7D%2C%7B%22id%22%3A61195%2C%22title%22%3A%22%5Cu8fd9%5Cu9053%5Cu9898%5Cu662f%5Cu4e2a%5Cu5565%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A14345%2C%22name%22%3A%22SP6681%20MRECT1%20-%20%5Cu0110i%5Cu1ec3m%20tr%5Cu00ean%20c%5Cu1ea1nh%20h%5Cu00ecnh%20ch%5Cu1eef%20nh%5Cu1eadt%20-%20HRASTOVI%22%2C%22slug%22%3A%22SP6681%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MRECT1%20-%20%5Cu0110i%5Cu1ec3m%20tr%5Cu00ean%20c%5Cu1ea1nh%20h%5Cu00ecnh%20ch%5Cu1eef%20nh%5Cu1eadt%20-%20HRASTOVI%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MRECT1 - Điểm trên cạnh hình chữ nhật - HRASTOVI</h1>
<h2>题意翻译</h2>
<div>给你$n$个点，共$p$次询问，每次询问给定一个左下角坐标为$(x_1,y_1)$，右上角坐标为$(x_2,y_2)$的矩形，问你有多少个点__恰好落在矩形的边界上__。
##### 输入格式：
第$1$行包含一个整数$n(1\leqslant n\leqslant 3\times 10^5)$，表示点的数量。
接下来$n$行，第$i+1$行包含两个整数$x_i,y_i(1\leqslant x_i,y_i\leqslant 10^{9})$，表示每个点的坐标。保证没有两个点坐标相同。
第$n+2$行包含一个整数$p(1\leqslant p\leqslant 10^5)$，表示询问的数量。
接下来$p$行，第$n+j+2$行包含四个整数$x_{1j},y_{1j},x_{2j},y_{2j}(1\leqslant x_{1j}<x_{2j}\leqslant 10^9,1\leqslant y_{1j}<y_{2j}\leqslant 10^9)$，表示了一个矩形，其左下角的坐标为$(x_{1j},y_{1j})$，右上角的坐标为$(x_{2j},y_{2j})$，问你有多少个点__恰好落在这个矩形的边界上__。 ##### 输出格式： 输出$p$行，每行一个整数，按照输入顺序依次表示每个询问的答案。</div>
<h2>题目描述</h2>
<div>The government is planing to build a walkway for tourists in the middle of an oak forest. The forest can be represented as plane with N special lattice points representing oaks. The walkway is represented as a rectangle with sides parallel to the axes. If the sides of walkway rectangle intersect any oak lattice points, such oaks need to be axed down.
Oaks inside the rectangle do not represent problems and need not be cut down. Ljubo is the state secretary of Forestry and an passionate nature lover, so he ordered the secretary of Tourism to provide him with a list of P possible rectangle walkways that are attractive enough to draw in tourists.
Ljubo plans to select the walkway that needs the smallest amount of oak trees to be cut down.
Since we also like trees, would you be so kind and write a program that will determine the number of oaks that will be cut down for each walkway. Remember only the oaks intersecting the sides of the rectangle need to be cut. </div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains one integer N (1 ≤ N ≤ 300 000), number of oaks.
The next N lines contain two integers each X i Y (1 ≤ X, Y ≤ 10^9) coordinates of oaks. There will be at
most one oak on each lattice point.
The next line contains one integer P (1 ≤ P ≤ 100 000), number of walkways.
The next P lines contain four integers each X1, Y1, X2 , Y2 (1 ≤ X1 < X2 ≤ 10^9, 1 ≤ Y1 < Y2 ≤ 10^9)
coordinates of the lower left (X1, Y1) and upper right (X2, Y2) corner of the rectangle.
![](https://luogu-ipic.oss-cn-shanghai.aliyuncs.com/20181018095524.png)
</div>
<h3>输出格式</h3>
<br />
<div>Output P integers, one per line, the number of oaks that need to be cut down for each walkway in the order they are presented in the input. </div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
6 
1 2 
3 2 
2 3 
2 5 
4 4 
6 3 
4 
2 2 4 4 
2 2 6 5 
3 3 5 6 
5 1 6 6</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
3 
4 
0 
1</code></pre>
</article>
</div>
</div>
</body>
</html>
