<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>KOLACI - Cookies - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450014:TySQkgFPRgQa0YsJ2F+3Lgo9r+TmuSpAc/8GiVnpabA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Darko%20and%20Marko%20are%20twins%20and%20they%20love%20to%20eat%20cookies.%20Their%20grandma%20Mara%20loves%20to%20bake%20cookies%2C%20but%20she%20doesn%27t%20like%20the%20fact%20that%20Darko%20and%20Marko%20eat%20them%20too%20fast.%5Cn%5CnTo%20teach%20her%20grandsons%20to%20eat%20slower%2C%20Mara%20turned%20it%20into%20a%20game.%20Mara%20will%20bake%20N%20cookies%20and%20assign%20them%20with%20integers%201%20to%20N.%20Then%20she%20will%20arrange%20them%20in%20a%20circle%20such%20that%20each%20cookie%20i%20is%20between%20to%20cookie%20i%5Cu22121%20and%20i%2B1%20except%20for%20cookies%201%20and%20N%20that%20are%20neighbors.%5Cn%5CnMara%20knows%20a%20recipe%20for%2026%20different%20types%20of%20cookies.%20We%20will%20denote%20a%20cookie%20type%20with%20lower%20case%20english%20letters%20%27a%27%20to%20%27z%27.%5Cn%5CnDarko%20and%20Marko%20will%20each%20get%20one%20cookie%20every%205%20minutes.%20Mara%20will%20say%20one%20integer%20out%20loud.%20Darko%20and%20Marko%20will%20search%20for%20a%20cookie%20with%20this%20number%2C%20but%20will%20eat%20two%20neighboring%20cookies.%20This%20procedure%20is%20repeated%20until%20one%20or%20two%20cookies%20are%20left%20on%20the%20table.%20Then%20the%20game%20ends%20and%20Mara%20eats%20the%20remaining%20cookies.%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP7023%5C%2F235b01c0fda39a583f0f5f88f04f244e9329cf48.png%29%5Cn%5CnThe%20game%20can%20be%20represented%20with%20a%20sequence%20of%20%28N%5Cu22121%29%20div%202%20integers%20that%20Mara%20said%20out%20loud.%20For%20example%2C%20the%20illustrations%20above%20can%20be%20represented%20with%20a%20sequence%20%284%2C%208%2C%206%29.%20Two%20games%20are%20considered%20different%20if%20their%20respective%20sequences%20are%20different.%5Cn%5CnAfter%20a%20few%20games%20Mara%20noticed%20that%20Marko%20and%20Darko%20often%20fight%20during%20the%20game.%20In%20fact%2C%20they%20fight%20every%20time%20when%20the%20two%20neighboring%20cookies%20are%20of%20different%20types%20because%20they%20can%27t%20decide%20which%20one%20will%20get%20which%20cookie.%5Cn%5CnMara%20decided%20to%20count%20the%20number%20of%20ways%20to%20play%20a%20game%20in%20a%20way%20to%20avoid%20such%20situations.%5Cn%5CnGiven%20a%20cookie%20type%20for%20each%20of%20N%20cookies%2C%20write%20a%20program%20that%20will%20calculate%20the%20number%20of%20ways%20to%20play%20a%20game%20such%20that%20Darko%20and%20Marko%20will%20not%20fight.%20This%20number%20can%20get%20very%20large%2C%20so%20output%20the%20remainder%20of%20division%20by%2010007%20instead.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20one%20integer%20N%20%283%5Cn%5CnThe%20second%20line%20contains%20a%20sequence%20of%20N%20lower%20case%20english%20letters%2C%20types%20of%20cookies%20in%20order%20they%20are%20arranged%20in%20a%20circle.%22%2C%22outputFormat%22%3A%22Output%20a%20single%20integer%2C%20the%20total%20number%20of%20ways%20to%20play%20a%20game%20that%20will%20prevent%20Darko%20and%20Marko%20from%20fighting%20modulo%2010007.%22%2C%22samples%22%3A%5B%5B%228%5Cr%5Cncibaboca%22%2C%224%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1217%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F7023%22%2C%22id%22%3A%227023%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP7023%22%2C%22title%22%3A%22KOLACI%20-%20Cookies%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22KOLACI%20-%20Cookies%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>KOLACI - Cookies</h1>
<h2>题目描述</h2>
<div>Darko and Marko are twins and they love to eat cookies. Their grandma Mara loves to bake cookies, but she doesn't like the fact that Darko and Marko eat them too fast.
To teach her grandsons to eat slower, Mara turned it into a game. Mara will bake N cookies and assign them with integers 1 to N. Then she will arrange them in a circle such that each cookie i is between to cookie i−1 and i+1 except for cookies 1 and N that are neighbors.
Mara knows a recipe for 26 different types of cookies. We will denote a cookie type with lower case english letters 'a' to 'z'.
Darko and Marko will each get one cookie every 5 minutes. Mara will say one integer out loud. Darko and Marko will search for a cookie with this number, but will eat two neighboring cookies. This procedure is repeated until one or two cookies are left on the table. Then the game ends and Mara eats the remaining cookies.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP7023/235b01c0fda39a583f0f5f88f04f244e9329cf48.png)
The game can be represented with a sequence of (N−1) div 2 integers that Mara said out loud. For example, the illustrations above can be represented with a sequence (4, 8, 6). Two games are considered different if their respective sequences are different.
After a few games Mara noticed that Marko and Darko often fight during the game. In fact, they fight every time when the two neighboring cookies are of different types because they can't decide which one will get which cookie.
Mara decided to count the number of ways to play a game in a way to avoid such situations.
Given a cookie type for each of N cookies, write a program that will calculate the number of ways to play a game such that Darko and Marko will not fight. This number can get very large, so output the remainder of division by 10007 instead.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains one integer N (3
The second line contains a sequence of N lower case english letters, types of cookies in order they are arranged in a circle.</div>
<h3>输出格式</h3>
<br />
<div>Output a single integer, the total number of ways to play a game that will prevent Darko and Marko from fighting modulo 10007.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>8
cibaboca</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4</code></pre>
</article>
</div>
</div>
</body>
</html>
