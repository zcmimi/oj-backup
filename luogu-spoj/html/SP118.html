<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>RHOMBS - Rhombs - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449532:h99AitdeN27twgbK3Sjok6YA8RMsOcH5UPtZnZ0cmFs=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20An%20unbounded%20triangular%20grid%20is%20a%20plane%20covered%20by%20equilateral%20triangles%3A%5Cn%5Cn%20%21%5Brhombs%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP118%5C%2F624ba0918759e5db9003fe8eb056dce30ec0a2a6.png%29%20Two%20neighboring%20triangles%20in%20the%20grid%20form%20a%20rhomb.%20There%20are%203%20types%20of%20such%20rhombs%3A%5Cn%5Cn%20%21%5Brhombs%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP118%5C%2Fc07a820eb331d2bb345c300deb2b830e690d56e9.png%29%20A%20grid%20polygon%20is%20a%20simple%20polygon%20which%20sides%20consist%20entirely%20of%20sides%20of%20triangles%20in%20the%20grid.%20We%20say%20that%20a%20grid%20polygon%20is%20rhombastic%20if%20it%20can%20be%20partitioned%20into%20internally%20disjoint%20rhombs%20of%20types%20A%2C%20B%20and%20C.%5Cn%5Cn%20As%20an%20example%20let%27s%20consider%20the%20following%20grid%20hexagon%3A%5Cn%5Cn%20%21%5Brhombs%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP118%5C%2Ffe221ba6b5f9375409edbfcf34beebbd628ec6dc.png%29%20This%20hexagon%20can%20be%20partitioned%20into%204%20rhombs%20of%20type%20A%2C%204%20rhombs%20of%20type%20B%20and%204%20rhombs%20of%20type%20C%3A%5Cn%5Cn%20%21%5Brhombs%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP118%5C%2Fd58175bab2f10066a64576fa3d8adc1ff76ef0ad.png%29%20For%20a%20given%20rhombastic%20grid%20polygon%20P%20compute%20the%20numbers%20of%20rhombs%20of%20types%20A%2C%20B%20and%20C%20in%20some%20correct%20partition.%5Cn%5Cn%20%20%20%5Cn%23%23%23%20Task%5Cn%5CnWrite%20a%20program%20that%3A%5Cn%5Cn-%20reads%20a%20description%20of%20a%20rhombastic%20grid%20polygon%20from%20the%20standard%20input%2C%5Cn-%20computes%20the%20numbers%20of%20rhombs%20of%20types%20A%2C%20B%20and%20C%20in%20some%20correct%20partition%20of%20the%20polygon%2C%5Cn-%20writes%20the%20results%20to%20the%20standard%20output.%22%2C%22inputFormat%22%3A%22%20The%20input%20begins%20with%20the%20integer%20t%2C%20the%20number%20of%20test%20cases.%20Then%20t%20test%20cases%20follow.%5Cn%5Cn%20For%20each%20test%20case%20the%20first%20line%20of%20the%20input%20contains%20an%20integer%20n%20%283%20%3C%3D%20n%20%3C%3D%2050000%29%20-%20the%20number%20of%20sides%20of%20a%20rhombastic%20grid%20polygon.%20Each%20of%20the%20next%20n%20lines%20contains%20a%20description%20of%20one%20side%20of%20the%20polygon.%20The%20sides%20are%20given%20one%20by%20one%20in%20the%20clockwise%20order.%20No%20two%20consecutive%20sides%20of%20the%20polygon%20lie%20on%20the%20same%20straight%20line.%20The%20description%20of%20a%20side%20consists%20of%20two%20integers%20d%20and%20k.%20Integer%20d%20says%20what%20is%20the%20direction%20of%20the%20side%20according%20to%20the%20following%20figure%3A%5Cn%5Cn%20%21%5Brhombs%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP118%5C%2Fc7c915d0257aadb38fd0765ce7b0c95921581346.png%29%20Integer%20k%20is%20the%20length%20of%20the%20polygon%20side%20measured%20in%20the%20number%20of%20sides%20of%20grid%20triangles.%20Sum%20of%20all%20numbers%20k%20is%20not%20larger%20than%20100000.%22%2C%22outputFormat%22%3A%22%20For%20each%20test%20case%20the%20first%20and%20only%20line%20of%20the%20output%20contains%20three%20integers%20separated%20by%20single%20spaces%20denoting%20the%20number%20of%20rhombs%20of%20type%20A%2C%20B%20and%20C%20respectively%2C%20in%20some%20partition%20of%20the%20input%20polygon.%22%2C%22samples%22%3A%5B%5B%221%5Cr%5Cn6%20%5Cr%5Cn1%202%20%5Cr%5Cn2%202%20%5Cr%5Cn3%202%20%5Cr%5Cn4%202%20%5Cr%5Cn5%202%20%5Cr%5Cn6%202%22%2C%224%204%204%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B7000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F118%22%2C%22id%22%3A%22118%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP118%22%2C%22title%22%3A%22RHOMBS%20-%20Rhombs%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22RHOMBS%20-%20Rhombs%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>RHOMBS - Rhombs</h1>
<h2>题目描述</h2>
<div> An unbounded triangular grid is a plane covered by equilateral triangles:
![rhombs](https://cdn.luogu.com.cn/upload/vjudge_pic/SP118/624ba0918759e5db9003fe8eb056dce30ec0a2a6.png) Two neighboring triangles in the grid form a rhomb. There are 3 types of such rhombs:
![rhombs](https://cdn.luogu.com.cn/upload/vjudge_pic/SP118/c07a820eb331d2bb345c300deb2b830e690d56e9.png) A grid polygon is a simple polygon which sides consist entirely of sides of triangles in the grid. We say that a grid polygon is rhombastic if it can be partitioned into internally disjoint rhombs of types A, B and C.
As an example let's consider the following grid hexagon:
![rhombs](https://cdn.luogu.com.cn/upload/vjudge_pic/SP118/fe221ba6b5f9375409edbfcf34beebbd628ec6dc.png) This hexagon can be partitioned into 4 rhombs of type A, 4 rhombs of type B and 4 rhombs of type C:
![rhombs](https://cdn.luogu.com.cn/upload/vjudge_pic/SP118/d58175bab2f10066a64576fa3d8adc1ff76ef0ad.png) For a given rhombastic grid polygon P compute the numbers of rhombs of types A, B and C in some correct partition.
### Task
Write a program that:
- reads a description of a rhombastic grid polygon from the standard input,
- computes the numbers of rhombs of types A, B and C in some correct partition of the polygon,
- writes the results to the standard output.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> The input begins with the integer t, the number of test cases. Then t test cases follow.
For each test case the first line of the input contains an integer n (3 <= n <= 50000) - the number of sides of a rhombastic grid polygon. Each of the next n lines contains a description of one side of the polygon. The sides are given one by one in the clockwise order. No two consecutive sides of the polygon lie on the same straight line. The description of a side consists of two integers d and k. Integer d says what is the direction of the side according to the following figure:
![rhombs](https://cdn.luogu.com.cn/upload/vjudge_pic/SP118/c7c915d0257aadb38fd0765ce7b0c95921581346.png) Integer k is the length of the polygon side measured in the number of sides of grid triangles. Sum of all numbers k is not larger than 100000.</div>
<h3>输出格式</h3>
<br />
<div> For each test case the first and only line of the output contains three integers separated by single spaces denoting the number of rhombs of type A, B and C respectively, in some partition of the input polygon.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1
6 
1 2 
2 2 
3 2 
4 2 
5 2 
6 2</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4 4 4</code></pre>
</article>
</div>
</div>
</body>
</html>
