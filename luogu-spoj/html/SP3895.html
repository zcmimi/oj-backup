<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MTRGAME - Matrix Game - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449830:cfWMe11dmll7h/oNQ9NP8tS7Hl7sDIcspFBtM8I+DKs=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BEnglish%5D%28%5C%2Fproblems%5C%2FMTRGAME%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FMTRGAME%5C%2Fvn%5C%2F%29Players%20P1%20and%20P2%20are%20playing%20a%20game.%20The%20game%20is%20played%20using%20a%20matrix%20M%20of%20integers%2C%20the%20size%20of%20which%20is%20given%20to%20be%20m%20x%20n.%5Cn%5CnIn%20each%20turn%2C%20P1%20selects%20a%20number%20i%20lying%20between%200%20and%20m-1%20%28inclusive%29%20while%20P2%20selects%20a%20number%20j%20lying%20between%200%20and%20n-1%20%28again%20inclusive%29.%20The%20fun%20part%20is%20that%20each%20of%20them%20remains%20unaware%20of%20what%20the%20other%20has%20chosen...%5Cn%5Cn%20After%20the%20choices%20have%20been%20finalized%2C%20they%20reveal%20their%20numbers%20to%20each%20other.%20M%5C%5C%5Bi%5C%5C%5D%5C%5C%5Bj%5C%5C%5D%20is%20the%20element%20of%20the%20matrix%20decided%20by%20the%20choices%20the%20players%20made.%20If%20M%5C%5C%5Bi%5C%5C%5D%5C%5C%5Bj%5C%5C%5D%20is%20Negative%2C%20P1%20pays%20P2%20an%20amount%20equal%20to%20the%20absolute%20value%20of%20M%5C%5C%5Bi%5C%5C%5D%5C%5C%5Bj%5C%5C%5D.%20However%2C%20if%20M%5C%5C%5Bi%5C%5C%5D%5C%5C%5Bj%5C%5C%5D%20is%20Positive%2C%20then%20P2%20pays%20P1%20an%20amount%20equal%20to%20M%5C%5C%5Bi%5C%5C%5D%5C%5C%5Bj%5C%5C%5D.%5Cn%5CnGiven%20the%20Matrix%20M%20and%20the%20fact%20that%20both%20the%20players%20are%20infinitely%20intelligent%2C%20find%20out%20the%20average%20amount%20paid%20by%20P2%20to%20P1%20per%20turn%20in%20the%20game.%5Cn%5CnNote%3A%20P1%20plays%20to%20maximize%20the%20money%20he%20gets%20while%20P2%20tries%20to%20minimize%20the%20money%20he%20has%20to%20pay.%22%2C%22inputFormat%22%3A%22First%20line%20contains%20T%2C%20the%20number%20of%20test%20cases.%5Cn%5CnFor%20each%20test%20case%20the%20first%20line%20contains%20two%20integers%20m%20and%20n%2C%20denoting%20the%20size%20of%20the%20matrix.%20The%20next%20m%20lines%20contains%20n%20integers%20each%20denoting%20the%20elements%20of%20the%20matrix.%22%2C%22outputFormat%22%3A%22The%20output%20should%20consist%20of%20T%20lines%2C%20each%20containing%20a%20real%20number%20with%20exactly%203%20digits%20precision%2C%20denoting%20the%20average%20payoff%20which%20P1%20receives%20per%20turn%20in%20the%20game.%22%2C%22samples%22%3A%5B%5B%223%5Cr%5Cn1%201%5Cr%5Cn-1%5Cr%5Cn2%202%5Cr%5Cn1%202%5Cr%5Cn3%204%5Cr%5Cn2%202%5Cr%5Cn1%204%5Cr%5Cn4%203%22%2C%22-1.000%5Cr%5Cn3.000%5Cr%5Cn3.250%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B555%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3895%22%2C%22id%22%3A%223895%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP3895%22%2C%22title%22%3A%22MTRGAME%20-%20Matrix%20Game%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MTRGAME%20-%20Matrix%20Game%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MTRGAME - Matrix Game</h1>
<h2>题目描述</h2>
<div>[English](/problems/MTRGAME/en/) [Vietnamese](/problems/MTRGAME/vn/)Players P1 and P2 are playing a game. The game is played using a matrix M of integers, the size of which is given to be m x n.
In each turn, P1 selects a number i lying between 0 and m-1 (inclusive) while P2 selects a number j lying between 0 and n-1 (again inclusive). The fun part is that each of them remains unaware of what the other has chosen...
After the choices have been finalized, they reveal their numbers to each other. M\[i\]\[j\] is the element of the matrix decided by the choices the players made. If M\[i\]\[j\] is Negative, P1 pays P2 an amount equal to the absolute value of M\[i\]\[j\]. However, if M\[i\]\[j\] is Positive, then P2 pays P1 an amount equal to M\[i\]\[j\].
Given the Matrix M and the fact that both the players are infinitely intelligent, find out the average amount paid by P2 to P1 per turn in the game.
Note: P1 plays to maximize the money he gets while P2 tries to minimize the money he has to pay.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>First line contains T, the number of test cases.
For each test case the first line contains two integers m and n, denoting the size of the matrix. The next m lines contains n integers each denoting the elements of the matrix.</div>
<h3>输出格式</h3>
<br />
<div>The output should consist of T lines, each containing a real number with exactly 3 digits precision, denoting the average payoff which P1 receives per turn in the game.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
1 1
-1
2 2
1 2
3 4
2 2
1 4
4 3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>-1.000
3.000
3.250</code></pre>
</article>
</div>
</div>
</body>
</html>
