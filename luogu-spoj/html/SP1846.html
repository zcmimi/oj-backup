<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>PFDEP - Project File Dependencies - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449691:qnwsV2SKHSc0v84ag2s84Xdm/hgRUUsAhIt5ozS16sU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22MathJax.Hub.Config%28%7B%5Cr%5Cn%20%20tex2jax%3A%20%7B%5Cr%5Cn%20%20%20%20inlineMath%3A%20%5B%5B%27%24%27%2C%27%24%27%5D%2C%20%5B%27%5C%5C%5C%5C%28%27%2C%27%5C%5C%5C%5C%29%27%5D%5D%2C%5Cr%5Cn%20%20%20%20skipTags%3A%20%5B%5C%22script%5C%22%2C%5C%22noscript%5C%22%2C%5C%22style%5C%22%2C%5C%22textarea%5C%22%2C%5C%22code%5C%22%5D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%29%3B%5Cr%5Cnproject%20managers%2C%20such%20as%20the%20UNIX%20utility%20make%2C%20are%20used%20to%20maintain%20large%20software%20projects%20made%20up%20from%20many%20components.%20Users%20write%20a%20_project%20file_%20specifying%20which%20components%20%28called%20_tasks_%29%20depend%20on%20others%20and%20the%20project%20manager%20can%20automatically%20update%20the%20components%20in%20the%20correct%20order.%5Cn%5Cn%20%20%20%5Cnproblem%5Cn-------%5Cn%5CnWrite%20a%20program%20that%20reads%20a%20project%20file%20and%20outputs%20the%20order%20in%20which%20the%20tasks%20should%20be%20performed.%22%2C%22inputFormat%22%3A%22%20For%20simplicity%20we%20represent%20each%20task%20by%20an%20integer%20number%20from%20%241%2C%202%2C%20%5C%5C%5C%5Cldots%2C%20N%24%20%28where%20%24N%24%20is%20the%20total%20number%20of%20tasks%29.%20The%20first%20line%20of%20input%20specifies%20the%20number%20%24N%24%20of%20tasks%20and%20the%20number%20%24M%24%20of%20rules%2C%20such%20that%20%24N%20%5C%5C%5C%5Cle%20100%24%2C%20%24M%20%5C%5C%5C%5Cle%20100%24.%5Cn%5Cn%20The%20rest%20of%20the%20input%20consists%20of%20%24M%24%20_rules_%2C%20one%20in%20each%20line%2C%20specifying%20dependencies%20using%20the%20following%20syntax%3A%5Cn%5Cn%20%60%60%60%5Cn%5Cn%24T_0%24%20%24k%24%20%24T_1%24%20%24T_2%24%20%24%5C%5Cldots%24%20%24T_k%24%5Cn%60%60%60%5Cn%20This%20rule%20means%20that%20task%20number%20%24T%5C%5C_0%24%20depends%20on%20%24k%24%20tasks%20%24T%5C%5C_1%2C%20T%5C%5C_2%2C%20%5C%5C%5C%5Cldots%2C%20T%5C%5C_k%24%20%28we%20say%20that%20task%20%24T%5C%5C_0%24%20is%20the%20_target_%20and%20%24T%5C%5C_1%2C%20%5C%5C%5C%5Cldots%2C%20T%5C%5C_k%24%20are%20_dependents_%29.%5Cn%5Cn%20Note%20that%20tasks%20numbers%20are%20separated%20by%20single%20spaces%20and%20that%20rules%20end%20with%20a%20newline.%20Rules%20can%20appear%20in%20any%20order%2C%20but%20each%20task%20can%20appear%20as%20target%20only%20once.%5Cn%5Cn%20Your%20program%20can%20assume%20that%20there%20are%20no%20circular%20dependencies%20in%20the%20rules%2C%20i.e.%20no%20task%20depends%20directly%20or%20indirectly%20on%20itself.%22%2C%22outputFormat%22%3A%22%20The%20output%20should%20be%20a%20single%20line%20with%20the%20permutation%20of%20the%20tasks%20%241%20%5C%5C%5C%5Cldots%20N%24%20to%20be%20performed%2C%20ordered%20by%20dependencies%20%28i.e.%20no%20task%20should%20appear%20before%20others%20that%20it%20depends%20on%29.%5Cn%5Cn%20To%20avoid%20ambiguity%20in%20the%20output%2C%20tasks%20that%20do%20not%20depend%20on%20each%20other%20should%20be%20ordered%20by%20their%20number%20%28lower%20numbers%20first%29.%22%2C%22samples%22%3A%5B%5B%225%204%5Cr%5Cn3%202%201%205%5Cr%5Cn2%202%205%203%5Cr%5Cn4%201%203%5Cr%5Cn5%201%201%22%2C%221%205%203%202%204%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B405%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F1846%22%2C%22id%22%3A%221846%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP1846%22%2C%22title%22%3A%22PFDEP%20-%20Project%20File%20Dependencies%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22PFDEP%20-%20Project%20File%20Dependencies%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>PFDEP - Project File Dependencies</h1>
<h2>题目描述</h2>
<div>MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
skipTags: ["script","noscript","style","textarea","code"]
}
});
project managers, such as the UNIX utility make, are used to maintain large software projects made up from many components. Users write a _project file_ specifying which components (called _tasks_) depend on others and the project manager can automatically update the components in the correct order.
problem
-------
Write a program that reads a project file and outputs the order in which the tasks should be performed.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> For simplicity we represent each task by an integer number from $1, 2, \\ldots, N$ (where $N$ is the total number of tasks). The first line of input specifies the number $N$ of tasks and the number $M$ of rules, such that $N \\le 100$, $M \\le 100$.
The rest of the input consists of $M$ _rules_, one in each line, specifying dependencies using the following syntax:
```
$T_0$ $k$ $T_1$ $T_2$ $\ldots$ $T_k$
```
This rule means that task number $T\_0$ depends on $k$ tasks $T\_1, T\_2, \\ldots, T\_k$ (we say that task $T\_0$ is the _target_ and $T\_1, \\ldots, T\_k$ are _dependents_).
Note that tasks numbers are separated by single spaces and that rules end with a newline. Rules can appear in any order, but each task can appear as target only once.
Your program can assume that there are no circular dependencies in the rules, i.e. no task depends directly or indirectly on itself.</div>
<h3>输出格式</h3>
<br />
<div> The output should be a single line with the permutation of the tasks $1 \\ldots N$ to be performed, ordered by dependencies (i.e. no task should appear before others that it depends on).
To avoid ambiguity in the output, tasks that do not depend on each other should be ordered by their number (lower numbers first).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 4
3 2 1 5
2 2 5 3
4 1 3
5 1 1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1 5 3 2 4</code></pre>
</article>
</div>
</div>
</body>
</html>
