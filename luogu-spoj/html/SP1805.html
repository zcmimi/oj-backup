<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>HISTOGRA - Largest Rectangle in a Histogram - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449686:VhuPgEiPV9LGstBsYN4imN62fU0nMXT3f/c6Ptr8ECo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20A%20histogram%20is%20a%20polygon%20composed%20of%20a%20sequence%20of%20rectangles%20aligned%20at%20a%20common%20base%20line.%20The%20rectangles%20have%20equal%20widths%20but%20may%20have%20different%20heights.%20For%20example%2C%20the%20figure%20on%20the%20left%20shows%20the%20histogram%20that%20consists%20of%20rectangles%20with%20the%20heights%202%2C%201%2C%204%2C%205%2C%201%2C%203%2C%203%2C%20measured%20in%20units%20where%201%20is%20the%20width%20of%20the%20rectangles%3A%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP1805%5C%2Fb9567e3483620f1fe679470ac44083eae9842e79.png%29%20Usually%2C%20histograms%20are%20used%20to%20represent%20discrete%20distributions%2C%20e.g.%2C%20the%20frequencies%20of%20characters%20in%20texts.%20Note%20that%20the%20order%20of%20the%20rectangles%2C%20i.e.%2C%20their%20heights%2C%20is%20important.%20Calculate%20the%20area%20of%20the%20largest%20rectangle%20in%20a%20histogram%20that%20is%20aligned%20at%20the%20common%20base%20line%2C%20too.%20The%20figure%20on%20the%20right%20shows%20the%20largest%20aligned%20rectangle%20for%20the%20depicted%20histogram.%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B409%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F1805%22%2C%22id%22%3A%221805%22%7D%2C%22translation%22%3A%22%60%60%60%5Cn%20%20%5Cu5982%5Cu56fe%5Cu6240%5Cu793a%5Cuff0c%5Cu5728%5Cu4e00%5Cu6761%5Cu6c34%5Cu5e73%5Cu7ebf%5Cu4e0a%5Cu6709n%5Cu4e2a%5Cu5bbd%5Cu4e3a1%5Cu7684%5Cu77e9%5Cu5f62%5Cuff0c%5Cu6c42%5Cu5305%5Cu542b%5Cu4e8e%5Cu8fd9%5Cu4e9b%5Cu77e9%5Cu5f62%5Cu7684%5Cu6700%5Cu5927%5Cu5b50%5Cu77e9%5Cu5f62%5Cu9762%5Cu79ef%5Cuff08%5Cu56fe%5Cu4e2d%5Cu7684%5Cu9634%5Cu5f71%5Cu90e8%5Cu5206%5Cu7684%5Cu9762%5Cu79ef%5Cu5373%5Cu6240%5Cu6c42%5Cu7b54%5Cu6848%5Cuff09%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%20%20%20%5Cu6709%5Cu591a%5Cu7ec4%5Cu6d4b%5Cu8bd5%5Cu6570%5Cu636e%5Cuff0c%5Cu6bcf%5Cu7ec4%5Cu6570%5Cu636e%5Cu5360%5Cu4e00%5Cu884c%5Cu3002%5Cu8f93%5Cu5165%5Cu96f6%5Cu65f6%5Cu8bfb%5Cu5165%5Cu7ed3%5Cu675f%5Cu3002%5Cn%20%20%20%5Cn%20%20%20%5Cu6bcf%5Cu884c%5Cu5f00%5Cu5934%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu6570%5Cu5b57n%5Cuff081%3C%3Dn%3C%3D100000%5Cuff09%2C%5Cu63a5%5Cu4e0b%5Cu6765%5Cu5728%5Cu540c%5Cu4e00%5Cu884c%5Cu7ed9%5Cu51fan%5Cu4e2a%5Cu6570%5Cu5b57h1h2...hn%5Cuff080%3C%3Dhi%3C%3D1000000000%5Cuff09%5Cu8868%5Cu793a%5Cu6bcf%5Cu4e2a%5Cu77e9%5Cu5f62%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%20%20%20%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu7ec4%5Cu6570%5Cu636e%5Cuff0c%5Cu8f93%5Cu51fa%5Cu6700%5Cu5927%5Cu5b50%5Cu77e9%5Cu9635%5Cu9762%5Cu79ef%5Cuff0c%5Cu4e00%5Cu7ec4%5Cu6570%5Cu636e%5Cu8f93%5Cu51fa%5Cu4e00%5Cu884c%5Cu3002%5Cn%5Cn%60%60%60%5Cn%5Cn%5Cn%22%2C%22tags%22%3A%5B287%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A2807%2C%22totalAccepted%22%3A889%2C%22pid%22%3A%22SP1805%22%2C%22title%22%3A%22HISTOGRA%20-%20Largest%20Rectangle%20in%20a%20Histogram%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A152075%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%5Cuff0c%5Cu5355%5Cu8c03%5Cu6808%5Cu4e00%5Cu52a0%5Cu90a3%5Cu884cwhile%5Cu5c31%5Cu51fa%5Cu9519%22%2C%22forum%22%3A%7B%22id%22%3A13418%2C%22name%22%3A%22SP1805%20HISTOGRA%20-%20Largest%20Rectangle%20in%20a%20Histogram%22%2C%22slug%22%3A%22SP1805%22%7D%7D%2C%7B%22id%22%3A130375%2C%22title%22%3A%22%5Cu7a7a%5Cu95f41.46GB%5Cuff1f%5Cuff1f%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A13418%2C%22name%22%3A%22SP1805%20HISTOGRA%20-%20Largest%20Rectangle%20in%20a%20Histogram%22%2C%22slug%22%3A%22SP1805%22%7D%7D%2C%7B%22id%22%3A121604%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A13418%2C%22name%22%3A%22SP1805%20HISTOGRA%20-%20Largest%20Rectangle%20in%20a%20Histogram%22%2C%22slug%22%3A%22SP1805%22%7D%7D%2C%7B%22id%22%3A108729%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A13418%2C%22name%22%3A%22SP1805%20HISTOGRA%20-%20Largest%20Rectangle%20in%20a%20Histogram%22%2C%22slug%22%3A%22SP1805%22%7D%7D%2C%7B%22id%22%3A89327%2C%22title%22%3A%22WA%5Cu4e86%5Cuff0c%5Cu6c42%5Cu52a9%5Cu5927%5Cu4f6cQAQ%22%2C%22forum%22%3A%7B%22id%22%3A13418%2C%22name%22%3A%22SP1805%20HISTOGRA%20-%20Largest%20Rectangle%20in%20a%20Histogram%22%2C%22slug%22%3A%22SP1805%22%7D%7D%2C%7B%22id%22%3A89075%2C%22title%22%3A%22%5Cu849f%5Cu84bb%5Cu521d%5Cu5b66%5Cuff0cWA%5Cu6c42%5Cu6551%22%2C%22forum%22%3A%7B%22id%22%3A13418%2C%22name%22%3A%22SP1805%20HISTOGRA%20-%20Largest%20Rectangle%20in%20a%20Histogram%22%2C%22slug%22%3A%22SP1805%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1886%22%2C%22title%22%3A%22%5Cu6ed1%5Cu52a8%5Cu7a97%5Cu53e3%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2023%22%2C%22title%22%3A%22%5BAHOI2009%5D%5Cu7ef4%5Cu62a4%5Cu5e8f%5Cu5217%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2827%22%2C%22title%22%3A%22%5Cu86af%5Cu8693%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4147%22%2C%22title%22%3A%22%5Cu7389%5Cu87fe%5Cu5bab%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22UVA540%22%2C%22title%22%3A%22%5Cu56e2%5Cu4f53%5Cu961f%5Cu5217%20Team%20Queue%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22UVA%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22HISTOGRA%20-%20Largest%20Rectangle%20in%20a%20Histogram%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>HISTOGRA - Largest Rectangle in a Histogram</h1>
<h2>题意翻译</h2>
<div>```
如图所示，在一条水平线上有n个宽为1的矩形，求包含于这些矩形的最大子矩形面积（图中的阴影部分的面积即所求答案）。
输入格式：
有多组测试数据，每组数据占一行。输入零时读入结束。
每行开头为一个数字n（1<=n<=100000）,接下来在同一行给出n个数字h1h2...hn（0<=hi<=1000000000）表示每个矩形的高度。
输出格式：
对于每组数据，输出最大子矩阵面积，一组数据输出一行。
```
</div>
<h2>题目描述</h2>
<div> A histogram is a polygon composed of a sequence of rectangles aligned at a common base line. The rectangles have equal widths but may have different heights. For example, the figure on the left shows the histogram that consists of rectangles with the heights 2, 1, 4, 5, 1, 3, 3, measured in units where 1 is the width of the rectangles:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP1805/b9567e3483620f1fe679470ac44083eae9842e79.png) Usually, histograms are used to represent discrete distributions, e.g., the frequencies of characters in texts. Note that the order of the rectangles, i.e., their heights, is important. Calculate the area of the largest rectangle in a histogram that is aligned at the common base line, too. The figure on the right shows the largest aligned rectangle for the depicted histogram.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
