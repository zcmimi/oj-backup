<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>TRUTHORL - Truth Or Lie - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449704:KaO4mEOBb7Qwi1wLWzmrPZjHInsjIe3ZDbGJqVi7hck=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Truth%20Or%20Lie%20%20%20%5Cn%3Ca%20name%3D%5C%22SECTION0001002000000000000000%5C%22%3EProblem%3C%5C%2Fa%3E%5Cn---------------------------------------------------%5Cn%5CnSuppose%20you%20have%20%2A%2Am%2A%2A%20yes%20or%20no%20questions%20that%20you%20want%20to%20ask%20%2A%2An%2A%2A%20people.%20You%20are%20allowed%20to%20ask%20each%20person%20exactly%20two%20different%20questions.%20He%5C%2Fshe%20will%20answer%20exactly%20one%20of%20them%20correctly%20and%20one%20of%20them%20incorrectly%2C%20you%20don%27t%20know%20which%20is%20a%20correct%20answer%20and%20which%20is%20an%20incorrect%20one.%20Given%20their%20answers%2C%20determine%20the%20number%20of%20combinations%20of%20answers%20to%20the%20%2A%2Am%2A%2A%20questions%20that%20can%20still%20be%20correct%20%28i.e.%2C%20no%20contradictions%29.%5Cn%5Cn%3Ca%20name%3D%5C%22SECTION0001003000000000000000%5C%22%3EThe%20Input%3C%5C%2Fa%3E%5Cn-----------------------------------------------------%5Cn%5Cn%20First%20line%20is%20the%20number%20of%20inputs.%20For%20each%20set%20of%20input%2C%20start%20out%20with%20a%20line%20of%20%2A%2An%3C%3D10000%2A%2A%20and%20%2A%2Am%3C%3D200%2A%2A%2C%20followed%20by%20%2A%2An%2A%2A%20lines.%20The%20i-th%20line%20has%20four%20integers%20%2A%2Aa%20b%20c%20d%2A%2A.%20It%20means%20that%20the%20answer%20given%20by%20the%20i-th%20person%20for%20question%20a%20is%20b%2C%20and%20for%20question%20c%20is%20d.%20Moreover%2C%20the%20answer%20%5C%221%5C%22%20means%20yes%2C%20and%20%5C%220%5C%22%20means%20no.%5Cn%5Cn%3Ca%20name%3D%5C%22SECTION0001004000000000000000%5C%22%3EThe%20Output%3C%5C%2Fa%3E%5Cn------------------------------------------------------%5Cn%5Cn%20For%20each%20line%20of%20input%2C%20output%20%5C%22No%20Inference%5C%22%20if%20the%20answers%20do%20not%20help%20you%20eliminate%20any%20wrong%20combination%20of%20answers%20or%20the%20number%20of%20combinations%20of%20possible%20answers%20is%200%2C%20otherwise%20output%20the%20size%20of%20the%20set%20of%20combinations%20of%20answers%20still%20possible.%5Cn%5Cn%3Ca%20name%3D%5C%22SECTION0001005000000000000000%5C%22%3ESample%20Input%3C%5C%2Fa%3E%5Cn--------------------------------------------------------%5Cn%5Cn%60%60%60%5Cn%5Cn2%5Cn2%202%5Cn1%201%202%200%5Cn1%201%202%201%5Cn4%204%5Cn1%201%202%201%5Cn1%201%203%200%5Cn2%201%204%201%5Cn3%201%204%200%5Cn%60%60%60%5Cn%3Ca%20name%3D%5C%22SECTION0001006000000000000000%5C%22%3ESample%20Output%3C%5C%2Fa%3E%5Cn---------------------------------------------------------%5Cn%5Cn%60%60%60%5Cn%5CnNo%20Inference%5Cn2%5Cn%60%60%60%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B194%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F2022%22%2C%22id%22%3A%222022%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP2022%22%2C%22title%22%3A%22TRUTHORL%20-%20Truth%20Or%20Lie%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22TRUTHORL%20-%20Truth%20Or%20Lie%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>TRUTHORL - Truth Or Lie</h1>
<h2>题目描述</h2>
<div>Truth Or Lie
<a name="SECTION0001002000000000000000">Problem</a>
---------------------------------------------------
Suppose you have **m** yes or no questions that you want to ask **n** people. You are allowed to ask each person exactly two different questions. He/she will answer exactly one of them correctly and one of them incorrectly, you don't know which is a correct answer and which is an incorrect one. Given their answers, determine the number of combinations of answers to the **m** questions that can still be correct (i.e., no contradictions).
<a name="SECTION0001003000000000000000">The Input</a>
-----------------------------------------------------
First line is the number of inputs. For each set of input, start out with a line of **n<=10000** and **m<=200**, followed by **n** lines. The i-th line has four integers **a b c d**. It means that the answer given by the i-th person for question a is b, and for question c is d. Moreover, the answer "1" means yes, and "0" means no.
<a name="SECTION0001004000000000000000">The Output</a>
------------------------------------------------------
For each line of input, output "No Inference" if the answers do not help you eliminate any wrong combination of answers or the number of combinations of possible answers is 0, otherwise output the size of the set of combinations of answers still possible.
<a name="SECTION0001005000000000000000">Sample Input</a>
--------------------------------------------------------
```
2
2 2
1 1 2 0
1 1 2 1
4 4
1 1 2 1
1 1 3 0
2 1 4 1
3 1 4 0
```
<a name="SECTION0001006000000000000000">Sample Output</a>
---------------------------------------------------------
```
No Inference
2
```</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
