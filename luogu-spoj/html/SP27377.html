<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>BLBONO - Bono v3 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450669:qnTFTYichqunD9ZsRW5rPOQYOyfTbvAe0L7C5txjT5I=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Kang%20and%20Kung%20are%20board%20games%20enthusiast.%20However%2C%20they%20only%20like%20to%20play%20deterministic%20games%2C%20such%20as%20chess.%20Since%20there%20are%20only%20a%20few%20deterministic%20games%2C%20they%20decided%20to%20create%20a%20new%20one.%20This%20game%20is%20called%20%27Bono%27.%5Cn%5CnThe%20rule%20of%20Bono%20is%20simple.%20The%20board%20consist%20of%20a%203x3%20grid.%20The%20game%20is%20turn%20based%20with%202%20players.%20On%20each%20turn%2C%20the%20current%20player%20must%20fill%20an%20empty%20cell%20with%20a%20piece%20of%20water%20spinach.%20Players%20may%20not%20move%20any%20water%20spinaches%20that%20have%20been%20placed.%20The%20board%20will%20destroy%20itself%20if%20there%20is%20a%20row%20or%20column%20or%20diagonal%20consisting%20of%203%20pieces%20of%20water%20spinach.%20A%20player%20loses%20if%20he%20can%27t%20make%20a%20move%20in%20his%20turn.%5Cn%5CnOf%20course%2C%20the%20first%20player%20will%20always%20win%20the%20game%20if%20he%20plays%20optimally.%20That%20is%20why%20they%20created%20Bono%20v2.%20In%20Bono%20v2%2C%20the%20number%20of%20boards%20used%20in%20a%20game%20is%20N%20%28N%3C1000%29.%20On%20each%20turn%2C%20the%20current%20player%20must%20fill%20an%20empty%20cell%20on%20an%20undestroyed%20board%20with%20the%20same%20ruling%20as%20Bono.%20A%20player%20loses%20if%20he%20can%27t%20make%20a%20move%20in%20his%20turn.%5Cn%5CnBono%20v2%20is%20still%20too%20easy%20since%20if%20they%20both%20play%20optimally%2C%20player%201%20will%20always%20win%20if%20N%20is%20odd%2C%20and%20player%202%20will%20always%20win%20if%20N%20is%20even.%20To%20solve%20this%20matter%2C%20Bono%20v3%20is%20created.%20In%20Bono%20v3%2C%20the%20initial%20state%20of%20each%20board%20might%20not%20be%20empty.%20Some%20cells%20might%20already%20be%20occupied%20with%20a%20piece%20of%20water%20spinach.%20Other%20than%20that%2C%20the%20rules%20are%20same%20as%20Bono%20v2.%5Cn%5CnKang%20and%20Kung%20decide%20to%20play%20Bono%20v3%20T%20times%20%28T%3C1000%29.%20Kang%20always%20moves%20first%20and%20they%20both%20play%20optimally.%20For%20each%20game%2C%20who%20will%20win%3F%22%2C%22inputFormat%22%3A%22First%20line%20of%20input%20is%20T%2C%20the%20number%20of%20games%20%28T%3C1000%29.%5Cn%5CnFor%20each%20game%2C%20first%20line%20is%20N%2C%20the%20number%20of%20boards%20%28N%3C1000%29.%20Next%20N%20lines%20consists%20of%20the%20starting%20boards.%20A%20board%20is%20represented%20with%20a%209%20digit%20binary%20string.%20Cell%20in%20%28r%2C%20c%29%20position%20is%20represented%20by%20%28r-1%29x3%2Bc%20th%20character%20in%20the%20string.%200%20means%20the%20cell%20is%20empty%2C%201%20means%20the%20cell%20is%20filled.%22%2C%22outputFormat%22%3A%22For%20each%20game%2C%20output%20a%20line%20containing%20the%20winner%27s%20name.%22%2C%22samples%22%3A%5B%5B%223%5C%5Cn1%5C%5Cn000000000%5C%5Cn2%5C%5Cn000000000%5C%5Cn000000000%5C%5Cn2%5C%5Cn100010000%5C%5Cn001010000%22%2C%22Kang%5C%5CnKung%5C%5CnKung%26nbsp%3B%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F27377%22%2C%22id%22%3A%2227377%22%7D%2C%22translation%22%3A%22%5Cu5eb7%5Cu548c%5Cu5b54%5Cu662f%5Cu68cb%5Cu7c7b%5Cu6e38%5Cu620f%5Cu7684%5Cu7231%5Cu597d%5Cu8005%5Cu3002%5Cu7136%5Cu800c%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu53ea%5Cu559c%5Cu6b22%5Cu73a9%5Cu786e%5Cu5b9a%5Cu6027%5Cu7684%5Cu6e38%5Cu620f%5Cuff0c%5Cu6bd4%5Cu5982%5Cu56fd%5Cu9645%5Cu8c61%5Cu68cb%5Cu3002%5Cu7531%5Cu4e8e%5Cu53ea%5Cu6709%5Cu51e0%5Cu4e2a%5Cu786e%5Cu5b9a%5Cu6027%5Cu6e38%5Cu620f%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu51b3%5Cu5b9a%5Cu521b%5Cu5efa%5Cu4e00%5Cu4e2a%5Cu65b0%5Cu7684%5Cu3002%5Cu8fd9%5Cu4e2a%5Cu6e38%5Cu620f%5Cu53eb%5Cu505a%5Cu201cBono%5Cu201d%5Cu3002%5CnBono%5Cu7684%5Cu89c4%5Cu5219%5Cu5f88%5Cu7b80%5Cu5355%5Cu3002%5Cu68cb%5Cu76d8%5Cu7531%5Cu4e00%5Cu4e2a3x3%5Cu7f51%5Cu683c%5Cu7ec4%5Cu6210%5Cu3002%5Cu6e38%5Cu620f%5Cu662f%5Cu57fa%5Cu4e8e2%5Cu540d%5Cu73a9%5Cu5bb6%5Cu7684%5Cu56de%5Cu5408%5Cu5236%5Cu3002%5Cu5728%5Cu6bcf%5Cu4e2a%5Cu56de%5Cu5408%5Cu4e2d%5Cuff0c%5Cu5f53%5Cu524d%5Cu73a9%5Cu5bb6%5Cu5fc5%5Cu987b%5Cu7528%5Cu4e00%5Cu7247%5Cu83e0%5Cu83dc%5Cu586b%5Cu5145%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu7684%5Cu5355%5Cu5143%5Cu683c%5Cu3002%5Cu73a9%5Cu5bb6%5Cu4e0d%5Cu5f97%5Cu79fb%5Cu52a8%5Cu4efb%5Cu4f55%5Cu5df2%5Cu653e%5Cu7f6e%5Cu7684%5Cu6c34%5Cu68d8%5Cu3002%5Cu5982%5Cu679c%5Cu6709%5Cu4e00%5Cu4e2a%5Cu75313%5Cu7247%5Cu83e0%5Cu83dc%5Cu7ec4%5Cu6210%5Cu7684%5Cu884c%5Cu3001%5Cu5217%5Cu6216%5Cu5bf9%5Cu89d2%5Cu7ebf%5Cuff0c%5Cu677f%5Cu5b50%5Cu5c31%5Cu4f1a%5Cu81ea%5Cu6211%5Cu6bc1%5Cu706d%5Cu3002%5Cu5982%5Cu679c%5Cu4e00%5Cu4e2a%5Cu7403%5Cu5458%5Cu4e0d%5Cu80fd%5Cu5728%5Cu4ed6%5Cu7684%5Cu56de%5Cu5408%5Cu4e2d%5Cu79fb%5Cu52a8%5Cuff0c%5Cu4ed6%5Cu5c31%5Cu4f1a%5Cu8f93%5Cu3002%5Cn%5Cu5f53%5Cu7136%5Cuff0c%5Cu5982%5Cu679c%5Cu7b2c%5Cu4e00%5Cu4e2a%5Cu7403%5Cu5458%5Cu7684%5Cu8868%5Cu73b0%5Cu6700%5Cu4f73%5Cuff0c%5Cu4ed6%5Cu603b%5Cu662f%5Cu4f1a%5Cu8d62%5Cu5f97%5Cu6bd4%5Cu8d5b%5Cu3002%5Cu8fd9%5Cu5c31%5Cu662f%5Cu4e3a%5Cu4ec0%5Cu4e48%5Cu4ed6%5Cu4eec%5Cu521b%5Cu9020%5Cu4e86Bono%20v2%5Cu3002%5Cu5728Bono%20v2%5Cu4e2d%5Cuff0c%5Cu6e38%5Cu620f%5Cu4e2d%5Cu4f7f%5Cu7528%5Cu7684%5Cu68cb%5Cu76d8%5Cu6570%5Cu662fN%20%28N%3C1000%29%5Cu3002%5Cu5728%5Cu6bcf%5Cu4e00%5Cu4e2a%5Cu56de%5Cu5408%5Cu4e2d%5Cuff0c%5Cu5f53%5Cu524d%5Cu73a9%5Cu5bb6%5Cu5fc5%5Cu987b%5Cu7528%5Cu4e0eBono%5Cu76f8%5Cu540c%5Cu7684%5Cu89c4%5Cu5219%5Cu586b%5Cu5145%5Cu672a%5Cu88ab%5Cu7834%5Cu574f%5Cu7684%5Cu68cb%5Cu76d8%5Cu4e0a%5Cu7684%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu5355%5Cu5143%5Cu683c%5Cu3002%5Cu5982%5Cu679c%5Cu4e00%5Cu4e2a%5Cu7403%5Cu5458%5Cu4e0d%5Cu80fd%5Cu5728%5Cu4ed6%5Cu7684%5Cu56de%5Cu5408%5Cu4e2d%5Cu79fb%5Cu52a8%5Cuff0c%5Cu4ed6%5Cu5c31%5Cu4f1a%5Cu8f93%5Cu3002%5CnBono%20v2%5Cu8fd8%5Cu662f%5Cu592a%5Cu7b80%5Cu5355%5Cu4e86%5Cu56e0%5Cu4e3a%5Cu5982%5Cu679c%5Cu4ed6%5Cu4eec%5Cu90fd%5Cu73a9%5Cu5f97%5Cu5f88%5Cu597d%5Cuff0c%5Cu5982%5Cu679cN%5Cu662f%5Cu5947%5Cu6570%5Cuff0c%5Cu73a9%5Cu5bb61%5Cu603b%5Cu662f%5Cu8d62%5Cuff0c%5Cu5982%5Cu679cN%5Cu662f%5Cu5076%5Cu6570%5Cuff0c%5Cu73a9%5Cu5bb62%5Cu603b%5Cu662f%5Cu8d62%5Cu3002%5Cu4e3a%5Cu4e86%5Cu89e3%5Cu51b3%5Cu8fd9%5Cu4e2a%5Cu95ee%5Cu9898%5Cuff0cBono%20v3%5Cu8bde%5Cu751f%5Cu4e86%5Cu3002%5Cu5728Bono%20v3%5Cu4e2d%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu8463%5Cu4e8b%5Cu4f1a%5Cu7684%5Cu521d%5Cu59cb%5Cu72b6%5Cu6001%5Cu53ef%5Cu80fd%5Cu4e0d%5Cu662f%5Cu7a7a%5Cu7684%5Cu3002%5Cu4e00%5Cu4e9b%5Cu7ec6%5Cu80de%5Cu53ef%5Cu80fd%5Cu5df2%5Cu7ecf%5Cu88ab%5Cu4e00%5Cu7247%5Cu83e0%5Cu83dc%5Cu5360%5Cu636e%5Cu4e86%5Cu3002%5Cu9664%5Cu6b64%5Cu4e4b%5Cu5916%5Cuff0c%5Cu89c4%5Cu5219%5Cu548cBono%20v2%5Cu662f%5Cu4e00%5Cu6837%5Cu7684%5Cu3002%5Cn%5Cu5eb7%5Cu548c%5Cu5b54%5Cu51b3%5Cu5b9a%5Cu51fa%5Cu6f14Bono%20v3%20T%5Cu6b21%28T%3C1000%29%5Cu3002%5Cu5eb7%5Cu603b%5Cu662f%5Cu5148%5Cu52a8%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu90fd%5Cu6253%5Cu5f97%5Cu6700%5Cu597d%5Cu3002%5Cu6bcf%5Cu573a%5Cu6bd4%5Cu8d5b%5Cuff0c%5Cu8c01%5Cu4f1a%5Cu8d62%3F%5Cn%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%3A%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu8f93%5Cu5165%5Cu662fT%5Cuff0c%5Cu6e38%5Cu620f%5Cu6570%5Cu91cf%28T%3C1000%29%5Cu3002%5Cn%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu6e38%5Cu620f%5Cuff0c%5Cu7b2c%5Cu4e00%5Cu884c%5Cu662fN%5Cuff0c%5Cu68cb%5Cu76d8%5Cu6570N%3C1000%5Cu3002%5Cu63a5%5Cu4e0b%5Cu6765%5Cu7684N%5Cu884c%5Cu662f%5Cu7531%5Cu8d77%5Cu8dd1%5Cu7ebf%5Cu7ec4%5Cu6210%5Cu7684%5Cu3002%5Cu68cb%5Cu76d8%5Cu75289%5Cu4f4d%5Cu4e8c%5Cu8fdb%5Cu5236%5Cu5b57%5Cu7b26%5Cu4e32%5Cu8868%5Cu793a%5Cu3002%28r%2C%20c%29%5Cu4f4d%5Cu7f6e%5Cu7684%5Cu5355%5Cu5143%5Cu683c%5Cu7531%28r-1%29x3%2B%5Cu5b57%5Cu7b26%5Cu4e32%5Cu4e2d%5Cu7684%5Cu7b2cc%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu8868%5Cu793a%5Cu30020%5Cu8868%5Cu793a%5Cu5355%5Cu5143%5Cu683c%5Cu4e3a%5Cu7a7a%5Cuff0c1%5Cu8868%5Cu793a%5Cu5355%5Cu5143%5Cu683c%5Cu4e3a%5Cu7a7a%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%3A%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu6e38%5Cu620f%5Cuff0c%5Cu8f93%5Cu51fa%5Cu4e00%5Cu884c%5Cu5305%5Cu542b%5Cu83b7%5Cu80dc%5Cu8005%5Cu7684%5Cu540d%5Cu5b57%5Cu3002%5Cn%5Cn%5Cu7ffb%5Cu8bd1%5Cuff1a%40AC%5Cu4e07%5Cu5c81%5Cuff01%5Cuff01%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP27377%22%2C%22title%22%3A%22BLBONO%20-%20Bono%20v3%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A62899%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A15622%2C%22name%22%3A%22SP27377%20BLBONO%20-%20Bono%20v3%22%2C%22slug%22%3A%22SP27377%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22BLBONO%20-%20Bono%20v3%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>BLBONO - Bono v3</h1>
<h2>题意翻译</h2>
<div>康和孔是棋类游戏的爱好者。然而，他们只喜欢玩确定性的游戏，比如国际象棋。由于只有几个确定性游戏，他们决定创建一个新的。这个游戏叫做“Bono”。
Bono的规则很简单。棋盘由一个3x3网格组成。游戏是基于2名玩家的回合制。在每个回合中，当前玩家必须用一片菠菜填充一个空的单元格。玩家不得移动任何已放置的水棘。如果有一个由3片菠菜组成的行、列或对角线，板子就会自我毁灭。如果一个球员不能在他的回合中移动，他就会输。
当然，如果第一个球员的表现最佳，他总是会赢得比赛。这就是为什么他们创造了Bono v2。在Bono v2中，游戏中使用的棋盘数是N (N<1000)。在每一个回合中，当前玩家必须用与Bono相同的规则填充未被破坏的棋盘上的一个空单元格。如果一个球员不能在他的回合中移动，他就会输。
Bono v2还是太简单了因为如果他们都玩得很好，如果N是奇数，玩家1总是赢，如果N是偶数，玩家2总是赢。为了解决这个问题，Bono v3诞生了。在Bono v3中，每个董事会的初始状态可能不是空的。一些细胞可能已经被一片菠菜占据了。除此之外，规则和Bono v2是一样的。
康和孔决定出演Bono v3 T次(T<1000)。康总是先动，他们都打得最好。每场比赛，谁会赢?
输入格式:
第一行输入是T，游戏数量(T<1000)。
对于每个游戏，第一行是N，棋盘数N<1000。接下来的N行是由起跑线组成的。棋盘用9位二进制字符串表示。(r, c)位置的单元格由(r-1)x3+字符串中的第c个字符表示。0表示单元格为空，1表示单元格为空。
输出格式:
对于每个游戏，输出一行包含获胜者的名字。
翻译：@AC万岁！！
</div>
<h2>题目描述</h2>
<div>Kang and Kung are board games enthusiast. However, they only like to play deterministic games, such as chess. Since there are only a few deterministic games, they decided to create a new one. This game is called 'Bono'.
The rule of Bono is simple. The board consist of a 3x3 grid. The game is turn based with 2 players. On each turn, the current player must fill an empty cell with a piece of water spinach. Players may not move any water spinaches that have been placed. The board will destroy itself if there is a row or column or diagonal consisting of 3 pieces of water spinach. A player loses if he can't make a move in his turn.
Of course, the first player will always win the game if he plays optimally. That is why they created Bono v2. In Bono v2, the number of boards used in a game is N (N<1000). On each turn, the current player must fill an empty cell on an undestroyed board with the same ruling as Bono. A player loses if he can't make a move in his turn.
Bono v2 is still too easy since if they both play optimally, player 1 will always win if N is odd, and player 2 will always win if N is even. To solve this matter, Bono v3 is created. In Bono v3, the initial state of each board might not be empty. Some cells might already be occupied with a piece of water spinach. Other than that, the rules are same as Bono v2.
Kang and Kung decide to play Bono v3 T times (T<1000). Kang always moves first and they both play optimally. For each game, who will win?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>First line of input is T, the number of games (T<1000).
For each game, first line is N, the number of boards (N<1000). Next N lines consists of the starting boards. A board is represented with a 9 digit binary string. Cell in (r, c) position is represented by (r-1)x3+c th character in the string. 0 means the cell is empty, 1 means the cell is filled.</div>
<h3>输出格式</h3>
<br />
<div>For each game, output a line containing the winner's name.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3\n1\n000000000\n2\n000000000\n000000000\n2\n100010000\n001010000</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Kang\nKung\nKung&amp;nbsp;</code></pre>
</article>
</div>
</div>
</body>
</html>
