<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>SPIKES - Spiky Mazes - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450434:l9Ha++1d02zbR7F0kLbNIbdpJ1P1rfgw3VrWFWEiy4Y=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Jarmtin%20is%20interested%20in%20cultures%20and%20the%20history%20behind%20them.%20Of%20course%20this%20interest%20has%20a%20reason%3A%20as%20he%20studies%20the%20choivans%5Cu2019%20past%20he%20discovers%20the%20hidden%20entrances%20of%20mazes%20he%20knows%20contain%20valuable%20information.%20However%20there%20is%20a%20catch%3A%20the%20mazes%20contain%20spiky%20traps%21%20Jarmtin%20is%20quite%20the%20agile%20type%2C%20but%20there%20is%20a%20limit%20to%20everyone%2C%20thus%20he%20will%20only%20be%20able%20to%20avoid%20a%20number%20of%20traps.%20This%20motivates%20the%20question%20can%20he%20make%20it%20through%20the%20mazes%3F%5Cn%5CnJarmtin%20is%20interested%20in%20cultures%20and%20the%20history%20behind%20them.%20Of%20course%20this%20interest%20has%20a%20reason%3A%20as%20he%20studies%20the%20choivans%5Cu2019%20past%20he%20discovers%20the%20hidden%20entrances%20of%20mazes%20he%20knows%20contain%20valuable%20information.%20However%20there%20is%20a%20catch%3A%20the%20mazes%20contain%20spiky%20traps%21%20Jarmtin%20is%20quite%20the%20agile%20type%2C%20but%20there%20is%20a%20limit%20to%20everyone%2C%20thus%20he%20will%20only%20be%20able%20to%20avoid%20a%20number%20of%20traps.%20This%20motivates%20the%20question%20can%20he%20make%20it%20through%20the%20mazes%3F%5Cn%5Cn%2A%2AInput%2A%2A%5Cn%5CnThe%20first%20line%20of%20a%20test%20case%20contains%20three%20integers%20n%2C%20m%20and%20j.%20n%20%282%3C%3Dn%3C%3D40%29%20the%20number%20of%20rows%2C%20m%20%282%3C%3Dn%3C%3D40%29%20the%20width%20of%20each%20row%20and%20j%20%280%3C%3Dj%3C%3D20%29%20the%20number%20of%20times%20Jarmtin%20can%20avoid%20spikes.%20Then%20n%20lines%20containing%20m%20characters%3B%20The%20character%20%5Cu2018x%5Cu2019%20will%20be%20used%20for%20the%20place%20of%20the%20treasure%2C%20%5Cu2018%40%5Cu2019%20for%20an%20entrance%20%28which%20is%20also%20an%20exit%29%2C%20%5Cu2018%23%5Cu2019%20for%20walls%2C%20%5Cu2018.%5Cu2019%20for%20a%20safe%20walking%20tile%20and%20%5Cu2018s%5Cu2019%20for%20spikes.%20Note%20that%20you%20cannot%20walk%20into%20walls%20and%20the%20maze%20is%20completely%20surrounded%20by%20walls%20outside%20what%20you%20can%20see.%20There%20is%20always%20at%20least%20one%20entrance%5C%2Fexit%20and%20always%20an%20x%20where%20the%20treasure%20is.%5Cn%5Cn%2A%2AOutput%2A%2A%5Cn%5CnYou%20should%20output%20%5Cu201cSUCCESS%5Cu201d%20if%20Jarmtin%20can%20make%20it%20in%20and%20out%20alive%2C%20and%20%5Cu201cIMPOSSIBLE%5Cu201d%20if%20there%20is%20no%20way%20you%20can%20make%20it%20out%20alive.%5Cn%5Cn%23%23%23%20Sample%20Input%20%5C%2F%20Output%5Cn%5Cn%2A%2AExample%201%3A%2A%2A%5Cn%5CnInput%3A%5Cn%5Cn3%203%202%5Cn%5Cn%5C%5C%23%40%23%5Cn%5Cn%5C%5C%23s%23%5Cn%5Cn%5C%5C%23x%23%5Cn%5CnOutput%3A%5Cn%5CnSUCCESS%5Cn%5Cn%2A%2AExample%202%3A%2A%2A%5Cn%5CnInput%3A%5Cn%5Cn4%204%203%5Cn%5Cn%5C%5C%23%23%23%23%5Cn%5Cn%40.s%23%5Cn%5Cn%5C%5C%23%23.%23%5Cn%5Cn%5C%5C%23xs%23%5Cn%5CnOutput%3A%5Cn%5CnIMPOSSIBLE%5Cn%5Cn3%203%202%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F15609%22%2C%22id%22%3A%2215609%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A2%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP15609%22%2C%22title%22%3A%22SPIKES%20-%20Spiky%20Mazes%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22SPIKES%20-%20Spiky%20Mazes%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>SPIKES - Spiky Mazes</h1>
<h2>题目描述</h2>
<div>Jarmtin is interested in cultures and the history behind them. Of course this interest has a reason: as he studies the choivans’ past he discovers the hidden entrances of mazes he knows contain valuable information. However there is a catch: the mazes contain spiky traps! Jarmtin is quite the agile type, but there is a limit to everyone, thus he will only be able to avoid a number of traps. This motivates the question can he make it through the mazes?
Jarmtin is interested in cultures and the history behind them. Of course this interest has a reason: as he studies the choivans’ past he discovers the hidden entrances of mazes he knows contain valuable information. However there is a catch: the mazes contain spiky traps! Jarmtin is quite the agile type, but there is a limit to everyone, thus he will only be able to avoid a number of traps. This motivates the question can he make it through the mazes?
**Input**
The first line of a test case contains three integers n, m and j. n (2<=n<=40) the number of rows, m (2<=n<=40) the width of each row and j (0<=j<=20) the number of times Jarmtin can avoid spikes. Then n lines containing m characters; The character ‘x’ will be used for the place of the treasure, ‘@’ for an entrance (which is also an exit), ‘#’ for walls, ‘.’ for a safe walking tile and ‘s’ for spikes. Note that you cannot walk into walls and the maze is completely surrounded by walls outside what you can see. There is always at least one entrance/exit and always an x where the treasure is.
**Output**
You should output “SUCCESS” if Jarmtin can make it in and out alive, and “IMPOSSIBLE” if there is no way you can make it out alive.
### Sample Input / Output
**Example 1:**
Input:
3 3 2
\#@#
\#s#
\#x#
Output:
SUCCESS
**Example 2:**
Input:
4 4 3
\####
@.s#
\##.#
\#xs#
Output:
IMPOSSIBLE
3 3 2</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
