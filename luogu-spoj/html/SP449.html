<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>TCNUMFL - Simple Numbers with Fractions Conversion - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449598:aQgARHL9Ogwrg1cBQT2VcoQ4ePDmw0W9rE6WA65aWvU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Every%20integer%20number%20_n_%20is%20represented%20in%20positional%20number%20system%20of%20base%20_r_%20by%20a%20sequence%20of%20digits%200%20%3C%3D%20_d%20%24%20_%7Bi%7D%20%24_%20%20%3C%20_r_%2C%20decimal%20point%20%27%2C%27%20and%20fractional%20part%2C%20so%20the%20value%20is%20equal%20to%3A%5Cn%5Cn_n_%20%3D%20_d_%20%24%20_%7B0%7D%20%24%20%2B%20_r_%20%5C%5C%2A%20_d_%20%24%20_%7B1%7D%20%24%20%2B%20_r%20%24%20%5E%7B2%7D%20%24_%20%20%5C%5C%2A%20_d_%20%24%20_%7B2%7D%20%24%20%2B%20_r%20%24%20%5E%7B3%7D%20%24_%20%20%5C%5C%2A%20_d_%20%24%20_%7B3%7D%20%24%20%2B%20...%20%2B%20_r%20%24%20%5E%7B-1%7D%20%24_%20%20%5C%5C%2A%20_d_%20%24%20_%7B-1%7D%20%24%20%2B%20_r%20%24%20%5E%7B-2%7D%20%24_%20%20%5C%5C%2A%20_d_%20%24%20_%7B-2%7D%20%24%20%2B%20_r%20%24%20%5E%7B-3%7D%20%24_%20%20%5C%5C%2A%20_d_%20%24%20_%7B-3%7D%20%24%20%2B%20...%5Cn%5CnYour%20task%20is%20to%20convert%20a%20given%20number%20in%20_r_-base%20represantation%20into%20_s_-base%20representation%20with%20_l_%20digits%20after%20decimal%20point%20%28no%20rounding%20-%20use%20floor%29%2C%20for%20example%3A%20decimal%20231%2C5%20into%20binary%2011100111%2C1%20with%20one%20digit%20after%20decimal%20point.%20Assume%20that%20_r_%20%3C%3D%2036%20and%20the%20digits%20are%200%2C1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%2C9%2C%20_A_%2C%20_B_%2C%20_C_%2C%20_D_%2C%20_E_%2C%20_F_%2C%20_G_%2C%20_H_%2C%20_I_%2C%20_J_%2C%20_K_%2C%20_L_%2C%20_M_%2C%20_N_%2C%20_O_%2C%20_P_%2C%20_Q_%2C%20_R_%2C%20_S_%2C%20_T_%2C%20_U_%2C%20_V_%2C%20_W_%2C%20_X_%2C%20_Y_%2C%20_Z_.%22%2C%22inputFormat%22%3A%22_N_%20%5C%5C%5Bthe%20number%20of%20series%20%3C%3D%201000%5C%5C%5D%20%20%20%5Cn_n%20r%20s%20l_%20%5C%5C%5B_n_%20%3C%2036%20%24%20%5E%7B1000%7D%20%24%20%2B%201%2C%20_r_%2C_s_%20%3C%3D%2036%2C%20l%20%3C%3D%201000%20%5C%5C%5D%22%2C%22outputFormat%22%3A%22_n_%20%5C%5C%5B_s_-base%20representation%20of%20number%20_n_%5C%5C%5D%5Cn%5CnText%20grouped%20in%20%5C%5C%5B%20%5C%5C%5D%20does%20not%20appear%20in%20the%20input%20and%20output%20file.%22%2C%22samples%22%3A%5B%5B%22%5C%5Cn10%5C%5Cn500%2C1%206%2031%203%5C%5Cn3866%2CDJ%2022%2027%201%5C%5CnEH75%2CL3%2024%204%203%5C%5CnA73C%2C10B%2013%2027%202%5C%5Cn6C6J%2CE483%2022%206%202%5C%5CnJA%2CL%2030%205%204%5C%5Cn6%2C5A%2020%2031%202%5C%5Cn1%2CC5%2014%207%201%5C%5CnHD%2C6K%2026%209%202%5C%5Cn1001%2C011%202%2010%203%5C%5Cn%5C%5Cn%22%2C%22%5C%5Cn5P%2C555%5C%5Cn1M8H%2CH%5C%5Cn301223231%2C320%5C%5Cn14MB%2C25%5C%5Cn1255211%2C35%5C%5Cn4310%2C3222%5C%5Cn6%2C8G%5C%5Cn1%2C6%5C%5Cn555%2C23%5C%5Cn9%2C375%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2500%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F449%22%2C%22id%22%3A%22449%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP449%22%2C%22title%22%3A%22TCNUMFL%20-%20Simple%20Numbers%20with%20Fractions%20Conversion%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22TCNUMFL%20-%20Simple%20Numbers%20with%20Fractions%20Conversion%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>TCNUMFL - Simple Numbers with Fractions Conversion</h1>
<h2>题目描述</h2>
<div>Every integer number _n_ is represented in positional number system of base _r_ by a sequence of digits 0 <= _d $ _{i} $_ < _r_, decimal point ',' and fractional part, so the value is equal to:
_n_ = _d_ $ _{0} $ + _r_ \* _d_ $ _{1} $ + _r $ ^{2} $_ \* _d_ $ _{2} $ + _r $ ^{3} $_ \* _d_ $ _{3} $ + ... + _r $ ^{-1} $_ \* _d_ $ _{-1} $ + _r $ ^{-2} $_ \* _d_ $ _{-2} $ + _r $ ^{-3} $_ \* _d_ $ _{-3} $ + ...
Your task is to convert a given number in _r_-base represantation into _s_-base representation with _l_ digits after decimal point (no rounding - use floor), for example: decimal 231,5 into binary 11100111,1 with one digit after decimal point. Assume that _r_ <= 36 and the digits are 0,1,2,3,4,5,6,7,8,9, _A_, _B_, _C_, _D_, _E_, _F_, _G_, _H_, _I_, _J_, _K_, _L_, _M_, _N_, _O_, _P_, _Q_, _R_, _S_, _T_, _U_, _V_, _W_, _X_, _Y_, _Z_.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>_N_ \[the number of series <= 1000\]
_n r s l_ \[_n_ < 36 $ ^{1000} $ + 1, _r_,_s_ <= 36, l <= 1000 \]</div>
<h3>输出格式</h3>
<br />
<div>_n_ \[_s_-base representation of number _n_\]
Text grouped in \[ \] does not appear in the input and output file.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>\n10\n500,1 6 31 3\n3866,DJ 22 27 1\nEH75,L3 24 4 3\nA73C,10B 13 27 2\n6C6J,E483 22 6 2\nJA,L 30 5 4\n6,5A 20 31 2\n1,C5 14 7 1\nHD,6K 26 9 2\n1001,011 2 10 3\n\n</code></pre>
<h3>输出样例 #1</h3>
<pre><code>\n5P,555\n1M8H,H\n301223231,320\n14MB,25\n1255211,35\n4310,3222\n6,8G\n1,6\n555,23\n9,375</code></pre>
</article>
</div>
</div>
</body>
</html>
