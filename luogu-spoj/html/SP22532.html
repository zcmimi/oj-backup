<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>COOLPROB - Cool Problem - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450593:xa1hBk2xpz+15ee3+skWacgHMHLicTcyEK+QgRCvfzk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Prem%20Kamal%20went%20to%20Tokyo%2C%20where%20one%20day%20he%20decided%20to%20tour%20the%20city.%20He%20will%20be%20visiting%20a%20number%20of%20regions.%20In%20each%20region%2C%20there%20are%20N%20buildings%20of%20heights%20H%20%24%20_%7B1%2C%7D%20%24%20H%20%24%20_%7B2...%7D%20%24%20H%20%24%20_%7BN%7D%20%24%20.%20%20%5CnA%20region%20is%20represtented%20across%20x-axis%20with%20buildings%20placed%20at%20positions%201..N%2C%20next%20to%20each%20other%20in%20a%20_random_%20order%20%28let%20the%20order%20be%20represented%20as%20h%20%24%20_%7B1%2C%7D%20%24%20h%20%24%20_%7B2...%7D%20%24%20h%20%24%20_%7BN%7D%20%24%20%29.%20%20%5CnPrem%20Kamal%2C%20known%20for%20his%20cool%20acts%2C%20decides%20to%20calculate%20the%20coolness%20of%20the%20region.%20Each%20position%20has%20some%20coolness%20score%20%28C%28i%29%29%20associated%20with%20it.%20But%20that%20coolness%20score%20is%20added%20only%20if%20there%20is%20a%20cool%20building%20at%20that%20position.%20A%20building%20is%20cool%20if%20it%20is%20_strictly%20taller_%20than%20its%20left%20and%20right%20neighbor%20%28_first%20and%20last%20buildings%20are%20not%20considered%20cool_%29.%20Moreover%2C%20since%20it%20gets%20boring%20going%20through%20the%20same%20region%2C%20the%20coolness%20score%20of%20later%20positions%20is%20lesser.%20%2A%2ASee%20the%20formal%20definitions%20carefully.%2A%2A%5Cn%5Cn_Formal%20Definitions%3A_%20%20%5CnC%281%29%20%3D%201%20%20%5CnC%28i%29%20%3D%20C%28i-1%29%5C%5C%2A0.99%20%20%5CnThe%20heights%20H%20%24%20_%7Bi%7D%20%24%20are%20generated%20as%20follows%3A%20%20%5CnH%20%24%20_%7B1%7D%20%24%20%3D%20X%20%20%5CnH%20%24%20_%7Bi%7D%20%24%20%3D%20%28H%20%24%20_%7Bi-1%7D%20%24%20%5C%5C%2A%20X%29%20mod%20%2A%2A10007%2A%2A%5Cn%5CnGiven%20N%20and%20X%2C%20what%20is%20the%20expected%20overall%20coolness%20of%20the%20region.%5Cn%5Cn%2A%2AConstraints%2A%2A%20T%20%3D%202000%20%20%5Cn1%3C%3DN%3C%3D10%5E3%20%20%5Cn2%3C%3DX%3C%3D10%5E3%5Cn%5Cn%2A%2AInput%2A%2A%20First%20line%20consists%20of%20the%20number%20of%20test%20cases%20%2A%2AT%2A%2A.%20%2A%2AT%2A%2A%20test%20cases%20follow.%20Each%20test%20cases%20consist%20of%20a%20space%20separated%20integers%20%2A%2AN%2A%2A%20and%20%2A%2AX%2A%2A.%5Cn%5Cn%2A%2AOutput%2A%2A%20For%20each%20teste%20case%2C%20print%20the%20expected%20overall%20coolness%20score%20of%20the%20region.%20Round%20the%20results%20and%20print%20%2A%2Aexactly%2A%2A%206%20decimal%20places.%20%28%27%25.6lf%27%20format%20specifier%20for%20double%20in%20C%29%5Cn%5Cn%20%60%60%60%5CnSample%20Input%5Cn2%5Cn3%203%5Cn2%2010%5Cn%60%60%60%5Cn%20%60%60%60%5CnSample%20Output%5Cn0.330000%5Cn0.000000%5Cn%60%60%60%5Cn%2A%2AExplanation%2A%2A%5Cn%5CnFor%20first%20sample%20case%2C%20the%20heights%20are%20%283%2C%209%2C%2027%29%20and%20position%20scores%20are%20%281%2C%200.99%2C%200.99%5C%5C%2A0.99%29%20%20%5CnHowever%20there%20are%20only%20two%20possible%20configurations%20out%20of%206%20where%20there%20exists%20a%20cool%20building.%20%20%5CnCoolness%20of%20%283%2C%2027%2C%209%29%20%3D%200.99%20%28there%20is%20a%20cool%20building%20at%20position%202%29%20%20%5CnCoolness%20of%20%289%2C%2027%2C%203%29%20%3D%200.99%20%20%5CnExpected%20coolness%20%3D%200.99%5C%5C%2A1%5C%2F6%20%2B%200.99%5C%5C%2A1%5C%2F6%20%3D%200.33%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B500%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F22532%22%2C%22id%22%3A%2222532%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP22532%22%2C%22title%22%3A%22COOLPROB%20-%20Cool%20Problem%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22COOLPROB%20-%20Cool%20Problem%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>COOLPROB - Cool Problem</h1>
<h2>题目描述</h2>
<div>Prem Kamal went to Tokyo, where one day he decided to tour the city. He will be visiting a number of regions. In each region, there are N buildings of heights H $ _{1,} $ H $ _{2...} $ H $ _{N} $ .
A region is represtented across x-axis with buildings placed at positions 1..N, next to each other in a _random_ order (let the order be represented as h $ _{1,} $ h $ _{2...} $ h $ _{N} $ ).
Prem Kamal, known for his cool acts, decides to calculate the coolness of the region. Each position has some coolness score (C(i)) associated with it. But that coolness score is added only if there is a cool building at that position. A building is cool if it is _strictly taller_ than its left and right neighbor (_first and last buildings are not considered cool_). Moreover, since it gets boring going through the same region, the coolness score of later positions is lesser. **See the formal definitions carefully.**
_Formal Definitions:_
C(1) = 1
C(i) = C(i-1)\*0.99
The heights H $ _{i} $ are generated as follows:
H $ _{1} $ = X
H $ _{i} $ = (H $ _{i-1} $ \* X) mod **10007**
Given N and X, what is the expected overall coolness of the region.
**Constraints** T = 2000
1<=N<=10^3
2<=X<=10^3
**Input** First line consists of the number of test cases **T**. **T** test cases follow. Each test cases consist of a space separated integers **N** and **X**.
**Output** For each teste case, print the expected overall coolness score of the region. Round the results and print **exactly** 6 decimal places. ('%.6lf' format specifier for double in C)
```
Sample Input
2
3 3
2 10
```
```
Sample Output
0.330000
0.000000
```
**Explanation**
For first sample case, the heights are (3, 9, 27) and position scores are (1, 0.99, 0.99\*0.99)
However there are only two possible configurations out of 6 where there exists a cool building.
Coolness of (3, 27, 9) = 0.99 (there is a cool building at position 2)
Coolness of (9, 27, 3) = 0.99
Expected coolness = 0.99\*1/6 + 0.99\*1/6 = 0.33</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
