<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>AAC2 - Atul and Aastha Chronicles 2 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450647:m6/4bJegTPDbzPWM0xq5iq1+V2xvVQhgWgqhjL0NyMo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Atul%20loves%20gifting%20choclates%20and%20Aastha%20loves%20eating%20them%20but%20excess%20of%20anything%20is%20bad%20and%20same%20goes%20for%20choclates.%20Eating%20all%20those%20chocolates%20has%20made%20Aastha%20overweight%20and%20she%20needs%20to%20watch%20her%20weight%20now.%20So%20she%20has%20to%20classify%20the%20chocolates%20based%20on%20their%20sugar%20content.%20She%20gave%20this%20task%20to%20Jaya.%20After%20completing%20the%20task%20Jaya%20is%20still%20not%20confident.%20She%20wants%20you%20to%20check%20whether%20her%20classification%20is%20correct%20or%20not.%20Basically%20if%20two%20chocolates%20have%20the%20same%20sugar%20level%20they%20are%20represented%20as%20a%3Db%20else%20they%20are%20represented%20as%20a%21%3Db.%20You%20are%20given%20a%20list%20of%20binary%20relations%2C%20equalities%20and%20inequalities%2C%20like%20a%20%3D%20b%2C%20a%20%21%3D%20d%2C%20b%20%3D%20c%20etc.%20Your%20task%20is%20to%20output%20YES%20if%20the%20classification%20is%20correct%20%2C%20that%20you%20can%20satisfy%20all%20equalities%20and%20inequalities.%20Otherwise%20you%20should%20output%20NO.%22%2C%22inputFormat%22%3A%22In%20the%20first%20line%20there%20is%20one%20integer%20T%20denoting%20the%20number%20of%20test%20cases.%20Description%20of%20T%20test%20cases%20follow.%20Each%20one%20have%20two%20integers%20N%20and%20K%20given%20in%20the%20first%20line%20denoting%20the%20number%20of%20variables%20and%20the%20number%20of%20relations%20between%20them%20for%20this%20test%20case.%20All%20variables%20are%20represented%20by%20integers%20in%20range%20%5C%5C%5B1%2C%20N%5C%5C%5D.%20K%20lines%20follow.%20Each%20of%20them%20is%20of%20the%20form%20%5C%22x1%20R%20x2%5C%22%20where%20x1%20and%20x2%20are%20integers%20representing%20variables%22%2C%22outputFormat%22%3A%22Output%20exactly%20T%20lines.%20In%20i-th%20of%20them%2C%20output%20the%20answer%20to%20the%20i-th%20test%20case.%5Cn%5Cn1%3C%3DN%2CK%3C%3D10%5E6%22%2C%22samples%22%3A%5B%5B%222%5Cr%5Cn2%202%5Cr%5Cn1%20%3D%202%5Cr%5Cn1%20%21%3D%202%5Cr%5Cn3%202%5Cr%5Cn1%20%3D%202%5Cr%5Cn2%20%21%3D%203%22%2C%22NO%5Cr%5CnYES%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F26695%22%2C%22id%22%3A%2226695%22%7D%2C%22translation%22%3A%22%2A%2A%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%2A%2A%5Cn%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%5CnAtul%5Cu559c%5Cu6b22%5Cu8d60%5Cu9001%5Cu5de7%5Cu514b%5Cu529b%5Cuff0c%5Cu800cAastha%5Cu559c%5Cu6b22%5Cu5403%5Cu5b83%5Cu4eec%5Cuff0c%5Cu4f46%5Cu8fc7%5Cu91cf%5Cu7684%5Cu4e1c%5Cu897f%5Cu90fd%5Cu5f88%5Cu7cdf%5Cu7cd5%5Cuff0c%5Cu5de7%5Cu514b%5Cu529b%5Cu4e5f%5Cu662f%5Cu5982%5Cu6b64%5Cu3002%5Cu5403%5Cu6389%5Cu6240%5Cu6709%5Cu8fd9%5Cu4e9b%5Cu5de7%5Cu514b%5Cu529b%5Cu4f7fAastha%5Cu8d85%5Cu91cd%5Cuff0c%5Cu5979%5Cu73b0%5Cu5728%5Cu9700%5Cu8981%5Cu6ce8%5Cu610f%5Cu5979%5Cu7684%5Cu4f53%5Cu91cd%5Cu3002%5Cu6240%5Cu4ee5%5Cu5979%5Cu5fc5%5Cu987b%5Cu6839%5Cu636e%5Cu7cd6%5Cu542b%5Cu91cf%5Cu5bf9%5Cu5de7%5Cu514b%5Cu529b%5Cu8fdb%5Cu884c%5Cu5206%5Cu7c7b%5Cu3002%5Cu5979%5Cu628a%5Cu8fd9%5Cu4e2a%5Cu4efb%5Cu52a1%5Cu4ea4%5Cu7ed9%5Cu4e86Jaya%5Cu3002%5Cu5b8c%5Cu6210%5Cu4efb%5Cu52a1%5Cu540e%5Cuff0cJaya%5Cu4ecd%5Cu7136%5Cu6ca1%5Cu6709%5Cu4fe1%5Cu5fc3%5Cu3002%5Cu5979%5Cu5e0c%5Cu671b%5Cu4f60%5Cu68c0%5Cu67e5%5Cu5979%5Cu7684%5Cu5206%5Cu7c7b%5Cu662f%5Cu5426%5Cu6b63%5Cu786e%5Cu3002%5Cu57fa%5Cu672c%5Cu4e0a%5Cu5982%5Cu679c%5Cu4e24%5Cu4e2a%5Cu5de7%5Cu514b%5Cu529b%5Cu5177%5Cu6709%5Cu76f8%5Cu540c%5Cu7684%5Cu7cd6%5Cu6c34%5Cu5e73%5Cuff0c%5Cu5219%5Cu5b83%5Cu4eec%5Cu88ab%5Cu8868%5Cu793a%5Cu4e3aa%20%3D%20b%5Cuff0c%5Cu5426%5Cu5219%5Cu5b83%5Cu4eec%5Cu88ab%5Cu8868%5Cu793a%5Cu4e3a%5Cuff01%3D%20b%5Cu3002%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu4e8c%5Cu5143%5Cu5173%5Cu7cfb%5Cuff0c%5Cu7b49%5Cu5f0f%5Cu548c%5Cu4e0d%5Cu7b49%5Cu5f0f%5Cu7684%5Cu5217%5Cu8868%5Cuff0c%5Cu6bd4%5Cu5982a%20%3D%20b%5Cuff0ca%5Cuff01%3D%20d%5Cuff0cb%20%3D%20c%5Cu7b49%5Cu3002%5Cu5982%5Cu679c%5Cu5206%5Cu7c7b%5Cu6b63%5Cu786e%5Cuff0c%5Cu4f60%5Cu7684%5Cu4efb%5Cu52a1%5Cu662f%5Cu8f93%5Cu51faYES%5Cuff0c%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu6ee1%5Cu8db3%5Cu6240%5Cu6709%5Cu7684%5Cu7b49%5Cu5f0f%5Cu548c%5Cu4e0d%5Cu7b49%5Cu5f0f%5Cu3002%5Cu5426%5Cu5219%5Cu4f60%5Cu5e94%5Cu8be5%5Cu8f93%5Cu51faNO%5Cu3002%5Cn%2A%2A%2A%2A%5Cu8f93%5Cu5165%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%2A%2A%2A%2A%20%20%20%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%20%20%5Cn%5Cu5728%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e2d%5Cu6709%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570T%5Cu8868%5Cu793a%5Cu6d4b%5Cu8bd5%5Cu7528%5Cu4f8b%5Cu7684%5Cu6570%5Cu91cf%5Cu3002T%5Cu6d4b%5Cu8bd5%5Cu6848%5Cu4f8b%5Cu7684%5Cu63cf%5Cu8ff0%5Cu5982%5Cu4e0b%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu5728%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e2d%5Cu7ed9%5Cu51fa%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570N%5Cu548cK%5Cuff0c%5Cu8868%5Cu793a%5Cu8be5%5Cu6d4b%5Cu8bd5%5Cu7528%5Cu4f8b%5Cu7684%5Cu53d8%5Cu91cf%5Cu6570%5Cu548c%5Cu5b83%5Cu4eec%5Cu4e4b%5Cu95f4%5Cu7684%5Cu5173%5Cu7cfb%5Cu6570%5Cu3002%5Cu6240%5Cu6709%5Cu53d8%5Cu91cf%5Cu90fd%5Cu7531%5Cu8303%5Cu56f4%5B1%5Cuff0cN%5D%5Cu4e2d%5Cu7684%5Cu6574%5Cu6570%5Cu8868%5Cu793a%5Cu3002K%5Cu7ebf%5Cu8ddf%5Cu968f%5Cu3002%5Cu5b83%5Cu4eec%5Cu4e2d%5Cu7684%5Cu6bcf%5Cu4e00%5Cu4e2a%5Cu90fd%5Cu5177%5Cu6709%5Cu201cx1%20R%20x2%5Cu201d%5Cu7684%5Cu5f62%5Cu5f0f%5Cuff0c%5Cu5176%5Cu4e2dx1%5Cu548cx2%5Cu662f%5Cu8868%5Cu793a%5Cu53d8%5Cu91cf%5Cu7684%5Cu6574%5Cu6570%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%20%20%5Cn%5Cu8f93%5Cu51fa%5Cu6b63%5Cu597dT%5Cu7ebf%5Cu3002%5Cu5728%5Cu7b2ci%5Cu4e2a%5Cu4e2d%5Cuff0c%5Cu8f93%5Cu51fa%5Cu7b2ci%5Cu4e2a%5Cu6d4b%5Cu8bd5%5Cu7528%5Cu4f8b%5Cu7684%5Cu7b54%5Cu6848%5Cu3002%5Cn%5Cn%2A%2A%2A%2A%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%2A%2A%2A%2A%20%20%20%5Cn1%20%3C%3D%20N%5Cuff0cK%20%3C%3D%2010%20%5E%206%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP26695%22%2C%22title%22%3A%22AAC2%20-%20Atul%20and%20Aastha%20Chronicles%202%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A63323%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A15443%2C%22name%22%3A%22SP26695%20AAC2%20-%20Atul%20and%20Aastha%20Chronicles%202%22%2C%22slug%22%3A%22SP26695%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22AAC2%20-%20Atul%20and%20Aastha%20Chronicles%202%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>AAC2 - Atul and Aastha Chronicles 2</h1>
<h2>题意翻译</h2>
<div>**题目描述**
Atul喜欢赠送巧克力，而Aastha喜欢吃它们，但过量的东西都很糟糕，巧克力也是如此。吃掉所有这些巧克力使Aastha超重，她现在需要注意她的体重。所以她必须根据糖含量对巧克力进行分类。她把这个任务交给了Jaya。完成任务后，Jaya仍然没有信心。她希望你检查她的分类是否正确。基本上如果两个巧克力具有相同的糖水平，则它们被表示为a = b，否则它们被表示为！= b。给出一个二元关系，等式和不等式的列表，比如a = b，a！= d，b = c等。如果分类正确，你的任务是输出YES，你可以满足所有的等式和不等式。否则你应该输出NO。
****输入输出格式****
输入格式：
在第一行中有一个整数T表示测试用例的数量。T测试案例的描述如下。每个在第一行中给出两个整数N和K，表示该测试用例的变量数和它们之间的关系数。所有变量都由范围[1，N]中的整数表示。K线跟随。它们中的每一个都具有“x1 R x2”的形式，其中x1和x2是表示变量的整数
输出格式：
输出正好T线。在第i个中，输出第i个测试用例的答案。
****数据范围****
1 <= N，K <= 10 ^ 6</div>
<h2>题目描述</h2>
<div>Atul loves gifting choclates and Aastha loves eating them but excess of anything is bad and same goes for choclates. Eating all those chocolates has made Aastha overweight and she needs to watch her weight now. So she has to classify the chocolates based on their sugar content. She gave this task to Jaya. After completing the task Jaya is still not confident. She wants you to check whether her classification is correct or not. Basically if two chocolates have the same sugar level they are represented as a=b else they are represented as a!=b. You are given a list of binary relations, equalities and inequalities, like a = b, a != d, b = c etc. Your task is to output YES if the classification is correct , that you can satisfy all equalities and inequalities. Otherwise you should output NO.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>In the first line there is one integer T denoting the number of test cases. Description of T test cases follow. Each one have two integers N and K given in the first line denoting the number of variables and the number of relations between them for this test case. All variables are represented by integers in range \[1, N\]. K lines follow. Each of them is of the form "x1 R x2" where x1 and x2 are integers representing variables</div>
<h3>输出格式</h3>
<br />
<div>Output exactly T lines. In i-th of them, output the answer to the i-th test case.
1<=N,K<=10^6</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
2 2
1 = 2
1 != 2
3 2
1 = 2
2 != 3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>NO
YES</code></pre>
</article>
</div>
</div>
</body>
</html>
