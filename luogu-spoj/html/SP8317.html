<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>SIGNGAME - Red Balls - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450088:7KoKBxoxkW2mCvLOmox/xfqNSSA+rV7g9/Rf+G9lHxE=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22After%20the%20previous%20game%20%2Ceach%20ball%20is%20either%20red%20or%20green%20in%20color.%20Dope%20tells%20you%20that%20he%20is%20changing%20the%20color%20of%20all%20balls%20in%20the%20range%20i%20to%20j%20%28both%20inclusive%29%2Cthat%20is%20red%20balls%20to%20green%20and%20green%20balls%20to%20red.And%20then%20he%20asks%20you%20to%20tell%20the%20total%20extra%20mass%20of%20red%20balls%20over%20green%20balls%20for%20some%20range%20between%20i%20to%20j%20%28inclusively%29.%20As%20you%20like%20red%20balls%2Cyou%20will%20try%20to%20maximize%20the%20total%20mass%20of%20red%20balls%20mass%20over%20the%20green%20balls.%20So%20He%20allows%20you%20to%20choose%20any%20range%20inside%20the%20range%20i%2C%20j%20inclusively%20which%20gives%20the%20maximum%20extra%20mass%20of%20red%20balls%20over%20the%20green%20balls%20.When%20you%20choose%20a%20range%2C%20you%20have%20to%20take%20all%20the%20green%20and%20red%20balls%20that%20belong%20to%20the%20range.%5Cn%5CnConvention%3A%20%20%5Cn%28%2B%29%20positive%20mass%20represents%20red%20ball%20mass%20%20%5Cn%28-%29%20negative%20mass%20represents%20green%20ball%20mass%22%2C%22inputFormat%22%3A%22T%20number%20of%20test%20cases%20%20%5Cnnext%20T%20test%20cases%20follow%20each%20contains%3A%20%20%5CnN%20number%20of%20balls%20%20%20%5Cnnext%20line%20contains%20N%20mass%20of%20ball%20%28%20positive%20or%20negative%29%20%20%5Cnnext%20line%20Q%20number%20of%20operation%20and%20query%20next%20Q%20lines%20contain%20%20%5Cnc%20a%20b%20%20%5Cnc%20%3D0%20change%20the%20color%20of%20balls%20in%20range%20a%2C%20b%20inclusively%20%20%5Cnc%20%3D1%20print%20the%20maximum%20extra%20mass%20of%20red%20bass%20over%20green%20in%20the%20range%20a%2Cb%20inclusively%22%2C%22outputFormat%22%3A%22each%20line%20for%20print%20query%5Cn%5Cnlimit%3A%20%20%5Cn1%3C%3DT%3C10%20%20%5Cn1%3C%3DN%3C100000%20%20%5Cn1%3C%3DQ%3C100000%20%20%5Cn0%3C%3Da%3C%3Db%3CN%20%20%5Cnc%20%3D%200%20or%201%20%20%5Cnabs%28individual%20mass%20%29%3C1000%22%2C%22samples%22%3A%5B%5B%22%5C%5Cn1%5C%5Cn5%5C%5Cn2%20-3%204%205%20-2%5C%5Cn4%5C%5Cn0%200%202%5C%5Cn1%200%202%5C%5Cn1%201%203%5C%5Cn0%201%201%5C%5Cn%5C%5Cn%22%2C%22%5C%5Cn3%5C%5Cn5%5C%5Cn%5C%5Cn%5Byou%20have%20to%20choose%20a%20range%2C%20if%20all%20balls%20are%20green%20in%20the%20range%20you%20have%20to%20print%20%28-%29ve%20answer%5D%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B735%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F8317%22%2C%22id%22%3A%228317%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP8317%22%2C%22title%22%3A%22SIGNGAME%20-%20Red%20Balls%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22SIGNGAME%20-%20Red%20Balls%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>SIGNGAME - Red Balls</h1>
<h2>题目描述</h2>
<div>After the previous game ,each ball is either red or green in color. Dope tells you that he is changing the color of all balls in the range i to j (both inclusive),that is red balls to green and green balls to red.And then he asks you to tell the total extra mass of red balls over green balls for some range between i to j (inclusively). As you like red balls,you will try to maximize the total mass of red balls mass over the green balls. So He allows you to choose any range inside the range i, j inclusively which gives the maximum extra mass of red balls over the green balls .When you choose a range, you have to take all the green and red balls that belong to the range.
Convention:
(+) positive mass represents red ball mass
(-) negative mass represents green ball mass</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>T number of test cases
next T test cases follow each contains:
N number of balls
next line contains N mass of ball ( positive or negative)
next line Q number of operation and query next Q lines contain
c a b
c =0 change the color of balls in range a, b inclusively
c =1 print the maximum extra mass of red bass over green in the range a,b inclusively</div>
<h3>输出格式</h3>
<br />
<div>each line for print query
limit:
1<=T<10
1<=N<100000
1<=Q<100000
0<=a<=b<N c=0 or 1 abs(individual mass )<1000</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>\n1\n5\n2 -3 4 5 -2\n4\n0 0 2\n1 0 2\n1 1 3\n0 1 1\n\n</code></pre>
<h3>输出样例 #1</h3>
<pre><code>\n3\n5\n\n[you have to choose a range, if all balls are green in the range you have to print (-)ve answer]</code></pre>
</article>
</div>
</div>
</body>
</html>
