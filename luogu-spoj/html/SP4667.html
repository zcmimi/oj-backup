<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>GREMLINS - Gremlins - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449893:xWC0LZGzDq8pzAb6iPGUsxN7N1W6RKeCRxCva2EZhaw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Gremlins%20are%20small%20funny%20furry%20creatures.%20Once%20they%20were%20considered%20to%20be%20evil%20but%20that%20time%20has%20past%20and%20most%20gremlins%20live%20a%20decent%20family%20life%20now.%20There%20are%20N%20distinct%20types%20of%20gremlins.%5Cn%5CnTheir%20origin%20is%20rather%20mysterious.%20Legend%20says%20that%20T%20years%20ago%2C%20N%20gremlins%2C%20one%20of%20each%20type%2C%20were%20born%20in%20a%20lab%20accident.%5Cn%5CnTheir%20reproduction%20method%20is%2C%20however%2C%20well%20studied.%20No%20mating%20ritual%20is%20required%20for%20gremlins%20to%20multiply.%20All%20they%20need%20is%20a%20few%20drops%20of%20water%20and%20the%20magic%20happens.%5Cn%5CnOnce%20a%20_type%20i_%20gremlin%20starts%20its%20reproduction%20process%2C%20K%20%24%20_%7Bi%7D%20%24%20small%20furry%20balls%20are%20created.%20For%20each%20furry%20ball%20we%20know%20what%20is%20the%20type%20of%20gremlin%20that%20will%20hatch%20from%20the%20furry%20ball%20and%20how%20long%20will%20it%20take%20for%20that%20to%20happen.%20Unfortunately%2C%20the%20original%20gremlin%20dies%20in%20the%20process.%20A%20_type%20i_%20gremlin%20will%20start%20its%20reproduction%20process%20exactly%20Y%20%24%20_%7Bi%7D%20%24%20years%20after%20it%20is%20%2A%2Aborn%2A%2A%20%28ie.%20hatched%20from%20the%20furry%20ball%29.%5Cn%5CnKnowledge%20about%20the%20ancestors%20of%20a%20gremlin%20is%20passed%20on%20genetically%2C%20so%20each%20gremlin%20knows%20a%20list%20of%20his%20ancestors%20as%20soon%20as%20it%20is%20born.%5Cn%5CnWrite%20a%20program%20that%20will%20find%20the%20length%20of%20the%20longest%20list%20of%20ancestors%20among%20all%20gremlins%20that%20ever%20lived%20%28gremlins%20that%20still%20live%20are%20included%2C%20but%20unhatched%20furry%20balls%20are%20not%29%2C%20given%20the%20information%20about%20reproduction%20process%20and%20time%20elapsed%20since%20the%20lab%20accident%20that%20created%20initial%20gremlins%2C%20assuming%20%2A%2Aall%20gremlins%20that%20were%20supposed%20to%20hatch%20this%20year%20have%20already%20hatched%2A%2A.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20N%20and%20T%20%281%5Cn%5CnThe%20next%203%5Cu00b7N%20lines%20give%20reproduction%20details%20for%20each%20gremlin%20type.%5Cn%5CnThe%20first%20line%20of%20i-th%20block%20contains%20two%20integers%20K%20%24%20_%7Bi%7D%20%24%20and%20Y%20%24%20_%7Bi%7D%20%24%20%20%281%5Cn%5CnThe%20second%20line%20contains%20K%20%24%20_%7Bi%7D%20%24%20integers%20representing%20gremlin%20type%20for%20each%20furry%20ball.%5Cn%5CnThe%20third%20line%20contain%20K%20%24%20_%7Bi%7D%20%24%20integers%20between%201%20and%201000%20representing%20hatching%20time%20for%20each%20furry%20ball%2C%20in%20years.%22%2C%22outputFormat%22%3A%22Output%20the%20length%20of%20the%20longest%20list%20of%20ancestors%20among%20all%20gremlins%20that%20ever%20lived%20in%20a%20single%20line.%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B709%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F4667%22%2C%22id%22%3A%224667%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP4667%22%2C%22title%22%3A%22GREMLINS%20-%20Gremlins%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22GREMLINS%20-%20Gremlins%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>GREMLINS - Gremlins</h1>
<h2>题目描述</h2>
<div>Gremlins are small funny furry creatures. Once they were considered to be evil but that time has past and most gremlins live a decent family life now. There are N distinct types of gremlins.
Their origin is rather mysterious. Legend says that T years ago, N gremlins, one of each type, were born in a lab accident.
Their reproduction method is, however, well studied. No mating ritual is required for gremlins to multiply. All they need is a few drops of water and the magic happens.
Once a _type i_ gremlin starts its reproduction process, K $ _{i} $ small furry balls are created. For each furry ball we know what is the type of gremlin that will hatch from the furry ball and how long will it take for that to happen. Unfortunately, the original gremlin dies in the process. A _type i_ gremlin will start its reproduction process exactly Y $ _{i} $ years after it is **born** (ie. hatched from the furry ball).
Knowledge about the ancestors of a gremlin is passed on genetically, so each gremlin knows a list of his ancestors as soon as it is born.
Write a program that will find the length of the longest list of ancestors among all gremlins that ever lived (gremlins that still live are included, but unhatched furry balls are not), given the information about reproduction process and time elapsed since the lab accident that created initial gremlins, assuming **all gremlins that were supposed to hatch this year have already hatched**.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers N and T (1
The next 3·N lines give reproduction details for each gremlin type.
The first line of i-th block contains two integers K $ _{i} $ and Y $ _{i} $ (1
The second line contains K $ _{i} $ integers representing gremlin type for each furry ball.
The third line contain K $ _{i} $ integers between 1 and 1000 representing hatching time for each furry ball, in years.</div>
<h3>输出格式</h3>
<br />
<div>Output the length of the longest list of ancestors among all gremlins that ever lived in a single line.</div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
