<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>CAVLI - Cavli - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449792:PAbWe+r8mk8DF/wFh6EQeFig75of687DJmAmGPmytz4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BEnglish%5D%28%5C%2Fproblems%5C%2FCAVLI%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FCAVLI%5C%2Fvn%5C%2F%29Mirko%20found%20a%20wooden%20board%20and%20N%20nails%20in%20his%20attic.%20Mirko%20hammered%20the%20nails%20into%20the%20board%20as%20fast%20as%20possible.%20The%20board%20can%20be%20modeled%20by%20a%20coordinate%20plane%20and%20the%20nails%20as%20points%20in%20it.%20No%20two%20nails%20have%20the%20same%20x%20or%20the%20same%20y%20coordinate.%5Cn%5Cn%20In%20order%20to%20keep%20having%20fun%2C%20Mirko%20stole%20his%20sister%27s%20elastic%20hair%20band%2C%20spread%20it%20over%20all%20nails%20and%20then%20let%20go.The%20elastic%2C%20naturally%2C%20tightened%20around%20the%20nails.%5Cn%5Cn%20Mirko%20then%20repeats%20these%20steps%20while%20there%20are%20at%20least%20three%20nails%20in%20the%20board%3A%5Cn%5Cn-%201.%20Write%20down%20the%20area%20of%20the%20shape%20enclosed%20by%20the%20hair%20band.%5Cn-%202.%20Picks%20the%20leftmost%2C%20rightmost%2C%20topmost%20or%20bottommost%20nail%20in%20the%20board.%5Cn-%203.%20Remove%20the%20chosen%20nail%20from%20the%20board%3B%20the%20elastic%20tightens%20again%20around%20the%20remaining%20nails.%5Cn%5Cn%20Write%20a%20program%20that%20calculates%20the%20numbers%20written%20in%20step%201%20of%20each%20iteration%2Cif%20we%20know%20the%20nail%20Mirko%20picks%20in%20step%202%20of%20each%20iteration.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20the%20integer%20N%20%283%20%5Cu2264%20N%20%5Cu2264%20300%20000%29%2C%20the%20number%20of%20nails.%5Cn%5Cn%20Each%20of%20the%20following%20N%20lines%20contains%20two%20integers%20separated%20by%20a%20space%2C%20the%20coordinates%20of%20a%20nail.%20All%20coordinates%20will%20be%20between%201%20and%201%20000%20000%20000.%20No%20two%20nails%20will%20share%20the%20same%20x%20or%20y%20coordinate.%5Cn%5Cn%20The%20next%20line%20contains%20N-2%20letters%20%27L%27%2C%20%27R%27%2C%20%27U%27%20or%20%27D%27.%20The%20letters%20represent%20the%20nails%20Mirko%20picked%20in%20order%3A%5Cn%5Cn-%20%27L%27%20for%20the%20leftmost%20nail%20%28smallest%20x%20coordinate%29%2C%5Cn-%20%27R%27%20for%20the%20rightmost%20nail%20%28largest%20x%20coordinate%29%2C%5Cn-%20%27U%27%20for%20the%20topmost%20nail%20%28largest%20y%20coordinate%29%2C%5Cn-%20%27D%27%20for%20the%20bottommost%20nail%20%28smallest%20y%20coordinate%29.%22%2C%22outputFormat%22%3A%22%20Output%20N-2%20numbers%2C%20each%20on%20a%20separate%20line.%20The%20numbers%20are%2C%20in%20order%2C%20the%20areas%20that%20Mirko%20wrote%20down.%20Output%20numbers%20with%20one%20digit%20after%20the%20decimal%20point.%22%2C%22samples%22%3A%5B%5B%228%5Cr%5Cn1%206%5Cr%5Cn2%204%5Cr%5Cn3%201%5Cr%5Cn4%202%5Cr%5Cn5%207%5Cr%5Cn6%205%5Cr%5Cn7%209%5Cr%5Cn8%203%5Cr%5CnURDLUU%22%2C%2234.0%5Cr%5Cn24.0%5Cr%5Cn16.5%5Cr%5Cn14.0%5Cr%5Cn9.5%5Cr%5Cn5.0%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B623%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3361%22%2C%22id%22%3A%223361%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP3361%22%2C%22title%22%3A%22CAVLI%20-%20Cavli%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22CAVLI%20-%20Cavli%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>CAVLI - Cavli</h1>
<h2>题目描述</h2>
<div>[English](/problems/CAVLI/en/) [Vietnamese](/problems/CAVLI/vn/)Mirko found a wooden board and N nails in his attic. Mirko hammered the nails into the board as fast as possible. The board can be modeled by a coordinate plane and the nails as points in it. No two nails have the same x or the same y coordinate.
In order to keep having fun, Mirko stole his sister's elastic hair band, spread it over all nails and then let go.The elastic, naturally, tightened around the nails.
Mirko then repeats these steps while there are at least three nails in the board:
- 1. Write down the area of the shape enclosed by the hair band.
- 2. Picks the leftmost, rightmost, topmost or bottommost nail in the board.
- 3. Remove the chosen nail from the board; the elastic tightens again around the remaining nails.
Write a program that calculates the numbers written in step 1 of each iteration,if we know the nail Mirko picks in step 2 of each iteration.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains the integer N (3 ≤ N ≤ 300 000), the number of nails.
Each of the following N lines contains two integers separated by a space, the coordinates of a nail. All coordinates will be between 1 and 1 000 000 000. No two nails will share the same x or y coordinate.
The next line contains N-2 letters 'L', 'R', 'U' or 'D'. The letters represent the nails Mirko picked in order:
- 'L' for the leftmost nail (smallest x coordinate),
- 'R' for the rightmost nail (largest x coordinate),
- 'U' for the topmost nail (largest y coordinate),
- 'D' for the bottommost nail (smallest y coordinate).</div>
<h3>输出格式</h3>
<br />
<div> Output N-2 numbers, each on a separate line. The numbers are, in order, the areas that Mirko wrote down. Output numbers with one digit after the decimal point.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>8
1 6
2 4
3 1
4 2
5 7
6 5
7 9
8 3
URDLUU</code></pre>
<h3>输出样例 #1</h3>
<pre><code>34.0
24.0
16.5
14.0
9.5
5.0</code></pre>
</article>
</div>
</div>
</body>
</html>
