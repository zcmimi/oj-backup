<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>SPAMD - Spam Detection - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449904:oR131lxSsFMVKfIrK0k4pW/w1xVXeHzE4Q6s/6n4Usg=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22It%20is%20well-known%20that%20the%20number%20of%20occurrences%20of%20the%20term%20%5C%22free%5C%22%20can%20distinguish%20spam%20and%20non-spam%20emails.%20%20%20%5CnYour%20task%20is%20to%20build%20a%20spam%20detection%20module%2C%20based%20on%20the%20number%20of%20term%20%5C%22free%5C%22%20in%20an%20email.%20%20%20%5CnThe%20core%20of%20this%20detection%20module%20is%20a%20spam%20classifier%2C%20which%20is%20represented%20by%20two%20variables%3A%20Low%20and%20High.%20%20%20%5CnAn%20email%20that%20contains%20X%20%5C%22free%5C%22%20words%20is%20classified%20by%20this%20module%20as%20a%20spam%20if%20Low%20To%20measure%20the%20goodness%20of%20a%20classifier%2C%20we%20introduce%20several%20information-retrieval%20terminologies%3A%20%20%20%5Cn%20%20%5CnActual%20%20%20%5CnSpam%20Non-Spam%20%20%20%5CnPredicted%20Spam%20TP%20FP%20%20%20%5CnNon-Spam%20FN%20TN%20%20%20%5Cn%20%20%5CnTP%20%28true%20positive%29%20is%20the%20number%20of%20emails%20which%20are%20truly%20predicted%20as%20spam%3B%20FN%20%28false%20negative%29%20is%20the%20number%20of%20emails%20which%20are%20wrongly%20predicted%20as%20non-spam%2C%20and%20so%20on.%20%20%20%5CnThe%20portion%20of%20emails%20that%20are%20correctly%20identified%20as%20spam%20is%20denoted%20as%20precision%20%28P%29%2C%20which%20is%20formulated%20as%20P%20%3D%20TP%20%5C%2F%20%28TP%20%2B%20FP%29.%20%20%20%5CnThe%20portion%20of%20spam%20emails%20that%20are%20successfully%20identified%20is%20denoted%20as%20recall%20%28R%29%2C%20which%20is%20formulated%20as%20R%20%3D%20TP%20%5C%2F%20%28TP%20%2B%20FN%29.%20%20%20%5CnTo%20balance%20between%20precision%20and%20recall%2C%20we%20use%20the%20F-measure%20which%20is%20formulated%20as%20F%20%3D%202%20x%20P%20x%20R%20%5C%2F%20%28P%20%2B%20R%29.%20%20%20%5CnFor%20example%2C%20when%20TP%20%3D%205%2C%20FP%20%3D%203%2C%20FN%20%3D%202%2C%20TN%20%3D%204%2C%20we%20have%20R%20%3D%205%5C%2F7%2C%20P%20%3D%205%5C%2F8%2C%20and%20F%20%3D%202%5C%2F3.%20%20%20%5CnWhen%20there%20is%20no%20spam%2C%20we%20can%20report%20all%20emails%20as%20non-spam%20with%20F%20%3D%201.0%20%28perfect%20classifier%29.%20%20%20%5CnOur%20data%20mining%20team%20has%20manually%20analyzed%20several%20emails%20and%20labeled%20them%20as%20spam%20or%20non-spam.%20%20%20%5CnYour%20task%20is%20to%20find%20the%20values%20of%20Low%20and%20High%20that%20yield%20the%20best%20classifier%2C%20i.e.%2C%20the%20one%20that%20maximizes%20the%20F-measure.%20%20%20%5Cn%20%20%5Cn%2A%2AInput%2A%2A%20%20%20%5Cn%20%20%5CnThe%20input%20consists%20of%20several%20test%20cases%2C%20where%20each%20case%20contains%20of%20two%20lines%3A%20%20%20%5Cn%20%20%5CnN%20%3A%20The%20maximum%20number%20of%20term%20%5Cu201cfree%5Cu201d%20in%20any%20emails%20%281%20a0%20A%20B%20M%20%3A%20parameters%20of%20random%20number%20generator.%20%282%20%20%20%5CnThis%20random%20number%20generator%20generates%20a%20sequence%20of%20number%3A%20%20%20%5Cnai%20%3D%20%28A%20%5C%5C%2A%20ai-1%20%2B%20B%29%20MOD%20M%20for%20i%20%3E%3D%201%20%20%20%5Cn%20%20%5CnSpecifying%3A%20%20%20%5Cnposi%20%3D%20a2i%20%280%20%20%20%5Cnnegi%20%3D%20a2i%2B1%20%280%20%20%20%5Cn%2A%2AOutput%2A%2A%5Cn%5CnFor%20each%20simulation%20print%20the%20F-measure%20of%20the%20best%20classifier%20%28accurate%20to%206%20decimal%20places%29.%20%20%20%5Cn%20%20%5Cn%2A%2ASample%20Input%2A%2A%20%20%20%5Cn3%20%20%20%5Cn1%201%201%203%20%20%20%5Cn5%20%20%20%5Cn2%203%204%205%5Cn%5Cn%2A%2AOutput%20for%20Sample%20Input%2A%2A%5Cn%5Cn0.666667%20%20%20%5Cn0.923077%20%20%20%5Cn%20%20%5CnExplanation%20for%20the%201st%20case%3A%20This%20random%20number%20generator%20generates%20a%20sequence%20of%201%2C%202%2C%200%2C%201%2C%202%2C%20%5Cu2026%20The%20number%20of%20spam%20emails%20is%3A%20posi%20%3D%20%7B1%2C%200%2C%202%2C%201%7D%2C%20and%20the%20number%20of%20non-spam%20emails%20is%20negi%20%3D%20%7B2%2C%201%2C%200%2C%202%7D.%20%20%20%5Cn%20%20%5CnThe%20optimal%20classifier%20treats%20emails%20with%20number%20of%20term%20%5Cu201cfree%5Cu201d%20between%202%20and%203%20as%20spam%2C%20with%20R%20%3D%203%5C%2F4%20and%20P%20%3D%203%5C%2F5%2C%20resulting%20F%20%3D%202%5C%2F3.%20Another%20way%20of%20producing%20optimal%20classifier%20is%20to%20consider%20emails%20with%20number%20of%20term%20%5Cu201cfree%5Cu201d%20equals%20to%202%20as%20spam.%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F5104%22%2C%22id%22%3A%225104%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP5104%22%2C%22title%22%3A%22SPAMD%20-%20Spam%20Detection%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22SPAMD%20-%20Spam%20Detection%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>SPAMD - Spam Detection</h1>
<h2>题目描述</h2>
<div>It is well-known that the number of occurrences of the term "free" can distinguish spam and non-spam emails.
Your task is to build a spam detection module, based on the number of term "free" in an email.
The core of this detection module is a spam classifier, which is represented by two variables: Low and High.
An email that contains X "free" words is classified by this module as a spam if Low To measure the goodness of a classifier, we introduce several information-retrieval terminologies:
Actual
Spam Non-Spam
Predicted Spam TP FP
Non-Spam FN TN
TP (true positive) is the number of emails which are truly predicted as spam; FN (false negative) is the number of emails which are wrongly predicted as non-spam, and so on.
The portion of emails that are correctly identified as spam is denoted as precision (P), which is formulated as P = TP / (TP + FP).
The portion of spam emails that are successfully identified is denoted as recall (R), which is formulated as R = TP / (TP + FN).
To balance between precision and recall, we use the F-measure which is formulated as F = 2 x P x R / (P + R).
For example, when TP = 5, FP = 3, FN = 2, TN = 4, we have R = 5/7, P = 5/8, and F = 2/3.
When there is no spam, we can report all emails as non-spam with F = 1.0 (perfect classifier).
Our data mining team has manually analyzed several emails and labeled them as spam or non-spam.
Your task is to find the values of Low and High that yield the best classifier, i.e., the one that maximizes the F-measure.
**Input**
The input consists of several test cases, where each case contains of two lines:
N : The maximum number of term “free” in any emails (1 a0 A B M : parameters of random number generator. (2
This random number generator generates a sequence of number:
ai = (A \* ai-1 + B) MOD M for i >= 1
Specifying:
posi = a2i (0
negi = a2i+1 (0
**Output**
For each simulation print the F-measure of the best classifier (accurate to 6 decimal places).
**Sample Input**
3
1 1 1 3
5
2 3 4 5
**Output for Sample Input**
0.666667
0.923077
Explanation for the 1st case: This random number generator generates a sequence of 1, 2, 0, 1, 2, … The number of spam emails is: posi = {1, 0, 2, 1}, and the number of non-spam emails is negi = {2, 1, 0, 2}.
The optimal classifier treats emails with number of term “free” between 2 and 3 as spam, with R = 3/4 and P = 3/5, resulting F = 2/3. Another way of producing optimal classifier is to consider emails with number of term “free” equals to 2 as spam.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
