<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>PUZZLE24 - 24-Puzzle - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450155:v/Xp9Wmkw0b915mbSMm3cCOQE+RGny+bwKBhZi7EpJE=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Daniel%20likes%20to%20play%20a%20special%20board%20game%2C%20called%2024%20puzzle.%2024%20puzzle%20is%20such%20a%20game%20that%20there%20are%20tiles%20with%20the%20number%201%20to%2023%20in%20a%20play%20board%20like%20the%20follows%3A%5Cn%5Cn%20%60%60%60%5Cn%20%23%20%20%23%5Cn%23%23%23%23%23%23%5Cn%20%23%23%23%23%5Cn%20%23%23%23%23%5Cn%23%23%23%23%23%23%5Cn%20%23%20%20%23%5Cn%60%60%60%5CnThe%20%5Cu2018%23%5Cu2019%20denotes%20the%20positions%20that%20the%20tiles%20may%20be%20placed%20on.%20There%20are%2024%20possible%20positions%20in%20total%2C%20so%20one%20of%20them%20is%20not%20occupied%20with%20the%20tile.%20We%20denote%20the%20empty%20position%20by%20zero.%5Cn%5CnDaniel%20could%20move%20the%20tiles%20adjacent%20to%20the%20empty%20position%20to%20it.%20In%20this%20way%20Daniel%20can%20reorder%20the%20number%20tiles%20of%20the%20game.%20He%20plays%20with%20this%20game%20by%20setting%20up%20a%20target%20states%20initially%2C%20and%20then%20trying%20to%20do%20some%20move%20to%20achieve%20the%20target.%20Soon%20he%20finds%20that%20not%20all%20target%20states%20can%20be%20achieved%20by%20the%20move.%5Cn%5CnHe%20asks%20for%20your%20help%2C%20to%20determine%20whether%20he%20set%20up%20an%20impossible%20target%20or%20not.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20an%20integer%20denoting%20the%20number%20of%20test%20cases.%5Cn%5CnFor%20each%20test%20case%2C%20the%20first%20line%20contains%2024%20integers%20denoting%20the%20initial%20states%20of%20the%20game%20board.%20The%20numbers%20describes%20the%20tiles%20from%20top%20to%20bottom%2C%20left%20to%20right.%20And%20the%20empty%20position%20is%20indicated%20by%20zero.%20You%20can%20assume%20that%20the%20number%20of%20each%20tiles%20are%20different%2C%20and%20there%20must%20be%20exactly%20one%20empty%20position.%20The%20second%20line%20of%20test%20case%20also%20contains%2024%20integers%20denoting%20the%20target%20states.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%2C%20if%20the%20target%20is%20impossible%20to%20achieve%2C%20output%20%2A%2AY%2A%2A%20in%20a%20single%20line%2C%20otherwise%2C%20output%20%2A%2AN%2A%2A.%22%2C%22samples%22%3A%5B%5B%222%5Cr%5Cn0%201%202%203%204%205%206%207%208%209%2010%2011%2012%2013%2014%2015%2016%2017%2018%2019%2020%2021%2022%2023%5Cr%5Cn3%201%202%200%204%205%206%207%208%209%2010%2011%2012%2013%2014%2015%2016%2017%2018%2019%2020%2021%2022%2023%5Cr%5Cn0%201%202%203%204%205%206%207%208%209%2010%2011%2012%2013%2014%2015%2016%2017%2018%2019%2020%2021%2022%2023%5Cr%5Cn3%200%202%201%204%205%206%207%208%209%2010%2011%2012%2013%2014%2015%2016%2017%2018%2019%2020%2021%2022%2023%22%2C%22N%5Cr%5CnY%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F9511%22%2C%22id%22%3A%229511%22%7D%2C%22translation%22%3A%22%23%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cr%5Cn%5Cu6709%5Cu4e24%5Cu4e2a4%5Cu884c6%5Cu5217%5Cu7684%5Cu77e9%5Cu9635%5Cuff0c%5Cu5305%5Cu62ec0~23%5Cu7684%5Cu6570%5Cu3002%5Cu53ef%5Cu4ee5%5Cu8fdb%5Cu884c%5Cu4efb%5Cu610f%5Cu6b21%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu628a%5Cu201c0%5Cu201d%5Cu548c%5Cu5b83%5Cu4e0a%5Cu4e0b%5Cu5de6%5Cu53f3%5Cu7684%5Cu4e00%5Cu4e2a%5Cu6570%5Cu8c03%5Cu4f4d%5Cu7f6e%5Cu3002%5Cu95ee%5Cu80fd%5Cu5426%5Cu5c3d%5Cu8fc7%5Cu82e5%5Cu5e72%5Cu6b21%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu628a%5Cu77e9%5Cu96351%5Cu53d8%5Cu4e3a%5Cu77e9%5Cu96352%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cuff08%5Cu5176%5Cu5b9e%5Cu5c31%5Cu662fWindows%5Cu4e2d%5Cu53f3%5Cu952e%5Cu5355%5Cu51fb%5Cu684c%5Cu9762%5Cu70b9%5Cu201c%5Cu5c0f%5Cu5de5%5Cu5177%5Cu201d%5Cuff0c%5Cu5f39%5Cu51fa%5Cu7684%5Cu90a3%5Cu4e2a%5Cu201c%5Cu56fe%5Cu7247%5Cu62fc%5Cu56fe%5Cu677f%5Cu201d%5Cuff09%5Cr%5Cn%5Cr%5Cn%23%23%20%5Cu8f93%5Cu5165%5Cu63cf%5Cu8ff0%5Cr%5Cn%5Cu8f93%5Cu5165n%5Cu8868%5Cu793a%5Cu6709n%5Cu7ec4%5Cu6570%5Cu636e%5Cu3002%5Cu63a5%5Cu7740%5Cu8f93%5Cu5165n%5Cu7ec4%5Cu6570%5Cu636e%5Cuff0c%5Cu6bcf%5Cu7ec4%5Cu662f%5Cu7531%5Cu4e24%5Cu4e2a%5Cu5e8f%5Cu5217%5Cu7ec4%5Cu6210%5Cu7684%5Cu3002%5Cu4e00%5Cu4e2a%5Cu5e8f%5Cu5217%5Cu670924%5Cu4e2a%5Cu6570%5Cuff0c%5Cu6309%5Cu4ece%5Cu4e0a%5Cu5230%5Cu4e0b%5Cu3001%5Cu4ece%5Cu5de6%5Cu5230%5Cu53f3%5Cu7684%5Cu987a%5Cu5e8f%5Cu63cf%5Cu8ff0%5Cu4e00%5Cu4e2a%5Cu77e9%5Cu9635%5Cu3002%5Cu8981%5Cu5bf9%5Cu77e9%5Cu96351%5Cu8fdb%5Cu884c%5Cu82e5%5Cu5e72%5Cu6b21%5Cu64cd%5Cu4f5c%5Cu53d8%5Cu6210%5Cu77e9%5Cu96352%5Cu3002%5Cr%5Cn%5Cr%5Cn%23%23%20%5Cu8f93%5Cu51fa%5Cu63cf%5Cu8ff0%5Cr%5Cn%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu67e5%5Cu8be2%5Cuff0c%5Cu8f93%5Cu51fa%5Cu4e00%5Cu884c%5Cuff0c%5Cu80fd%5Cu8fbe%5Cu5230%5Cu76ee%5Cu6807%5Cu8f93%5Cu51fa%5Cu201cY%5Cu201d%5Cuff0c%5Cu4e0d%5Cu80fd%5Cu8f93%5Cu51fa%5Cu201cN%5Cu201d%5Cu3002%5Cuff08%5Cu65e0%5Cu5f15%5Cu53f7%5Cuff09%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP9511%22%2C%22title%22%3A%22PUZZLE24%20-%2024-Puzzle%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A40858%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A16435%2C%22name%22%3A%22SP9511%20PUZZLE24%20-%2024-Puzzle%22%2C%22slug%22%3A%22SP9511%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22PUZZLE24%20-%2024-Puzzle%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>PUZZLE24 - 24-Puzzle</h1>
<h2>题意翻译</h2>
<div>## 题目描述
有两个4行6列的矩阵，包括0~23的数。可以进行任意次操作，把“0”和它上下左右的一个数调位置。问能否尽过若干次操作，把矩阵1变为矩阵2。
（其实就是Windows中右键单击桌面点“小工具”，弹出的那个“图片拼图板”）
## 输入描述
输入n表示有n组数据。接着输入n组数据，每组是由两个序列组成的。一个序列有24个数，按从上到下、从左到右的顺序描述一个矩阵。要对矩阵1进行若干次操作变成矩阵2。
## 输出描述
对于每个查询，输出一行，能达到目标输出“Y”，不能输出“N”。（无引号）</div>
<h2>题目描述</h2>
<div>Daniel likes to play a special board game, called 24 puzzle. 24 puzzle is such a game that there are tiles with the number 1 to 23 in a play board like the follows:
```
# #
######
####
####
######
# #
```
The ‘#’ denotes the positions that the tiles may be placed on. There are 24 possible positions in total, so one of them is not occupied with the tile. We denote the empty position by zero.
Daniel could move the tiles adjacent to the empty position to it. In this way Daniel can reorder the number tiles of the game. He plays with this game by setting up a target states initially, and then trying to do some move to achieve the target. Soon he finds that not all target states can be achieved by the move.
He asks for your help, to determine whether he set up an impossible target or not.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains an integer denoting the number of test cases.
For each test case, the first line contains 24 integers denoting the initial states of the game board. The numbers describes the tiles from top to bottom, left to right. And the empty position is indicated by zero. You can assume that the number of each tiles are different, and there must be exactly one empty position. The second line of test case also contains 24 integers denoting the target states.</div>
<h3>输出格式</h3>
<br />
<div>For each test case, if the target is impossible to achieve, output **Y** in a single line, otherwise, output **N**.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
3 1 2 0 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
3 0 2 1 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23</code></pre>
<h3>输出样例 #1</h3>
<pre><code>N
Y</code></pre>
</article>
</div>
</div>
</body>
</html>
