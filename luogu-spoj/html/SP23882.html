<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>DCEPC14H - Watchers On The Wall - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450608:x/u6N8tJZb3scv4WAYQJVMEQ7VWhTHmfnJyODNhwHlw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22John%20Snow%20has%20been%20recently%20appointed%20commander%20of%20the%20nights%20watch%2C%20And%20as%20his%20first%20task%20he%20needs%20to%20defend%20castle%20black%20against%20the%20wildlings%20army%20again.%5Cn%5CnMance%20Rayder%2C%20commander%20of%20the%20wildlings%20has%20assembled%20a%20fierce%20army%20consisting%20of%20Giants%2C%20Thenns%2C%20Hornfoots%2C%20Ice-river%20clans%2C%20cave%20people%20each%20having%20different%20fighting%20abilities%5Cn%5CnJohn%20has%20built%20various%20towers%20in%20the%20area.%5Cn%5CnFrom%20a%20tower%20a%20cannon%20can%20be%20fired%20in%20all%20or%20some%20of%20the%20four%20direction%28N%2CW%2CE%2CS%29%20which%20destroys%20all%20enemies%20in%20its%20way%20until%20it%20is%20blocked%20by%20a%20wall%20or%20a%20tower.%5Cn%5CnJohn%20has%20only%20one%20shot%20before%20the%20sunrise%20so%20he%20want%20to%20cause%20maximum%20damage.%5Cn%5CnYour%20task%20is%20to%20help%20john%20assign%20directions%20%28possibly%20all%20%5C%2F%20none%29%20to%20shoot%20cannons%20for%20each%20tower%20such%20that%20total%20damage%20is%20maximized.%20However%20no%20two%20cannons%20should%20cross%20paths%20without%20any%20wall%20or%20tower%20in%20between.%5Cn%5CnJohn%20can%20also%20choose%20not%20to%20the%20shoot%20any%20cannons%20from%20any%20tower%5Cn%5CnAll%20cannons%20are%20fired%20simultaneously.%22%2C%22inputFormat%22%3A%22A%20grid%20of%20size%20N%20each%20position%20in%20grid%20can%20be%5Cn%5Cn%27%23%27%20wall%5Cn%5Cn%27T%27%20tower%5Cn%5Cn%5Cu20180%5Cu2019%20denoting%20empty%20space%5Cn%5Cninteger%281-9%29%20denoting%20the%20ability%20of%20enemy%5Cn%5CnFirst%20line%20is%20N%20size%20of%20the%20grid%5Cn%5Cnnext%20n%20lines%20specifies%20the%20grid%22%2C%22outputFormat%22%3A%22Out%20put%20a%20single%20integer-%20maximum%20possible%20damage%20in%20one%20shot.%5Cn%5CnConstraints%5Cn%5CnN%3C%3D500%5Cn%5Cnnumber%20of%20cannons%20%3C%3D%20200%22%2C%22samples%22%3A%5B%5B%224%5Cr%5CnT000%5Cr%5Cn1%23T3%5Cr%5Cn292T%5Cr%5Cn9000%22%2C%2217%5C%5Cn%5C%5CnInput%3A%20%5C%5Cn4%5Cr%5CnT000%5Cr%5Cn1003%5Cr%5Cn292T%5Cr%5Cn9000%26nbsp%3BOutput%3A16%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B500%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F23882%22%2C%22id%22%3A%2223882%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP23882%22%2C%22title%22%3A%22DCEPC14H%20-%20Watchers%20On%20The%20Wall%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22DCEPC14H%20-%20Watchers%20On%20The%20Wall%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>DCEPC14H - Watchers On The Wall</h1>
<h2>题目描述</h2>
<div>John Snow has been recently appointed commander of the nights watch, And as his first task he needs to defend castle black against the wildlings army again.
Mance Rayder, commander of the wildlings has assembled a fierce army consisting of Giants, Thenns, Hornfoots, Ice-river clans, cave people each having different fighting abilities
John has built various towers in the area.
From a tower a cannon can be fired in all or some of the four direction(N,W,E,S) which destroys all enemies in its way until it is blocked by a wall or a tower.
John has only one shot before the sunrise so he want to cause maximum damage.
Your task is to help john assign directions (possibly all / none) to shoot cannons for each tower such that total damage is maximized. However no two cannons should cross paths without any wall or tower in between.
John can also choose not to the shoot any cannons from any tower
All cannons are fired simultaneously.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>A grid of size N each position in grid can be
'#' wall
'T' tower
‘0’ denoting empty space
integer(1-9) denoting the ability of enemy
First line is N size of the grid
next n lines specifies the grid</div>
<h3>输出格式</h3>
<br />
<div>Out put a single integer- maximum possible damage in one shot.
Constraints
N<=500
number of cannons <= 200</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
T000
1#T3
292T
9000</code></pre>
<h3>输出样例 #1</h3>
<pre><code>17\n\nInput: \n4
T000
1003
292T
9000&amp;nbsp;Output:16</code></pre>
</article>
</div>
</div>
</body>
</html>
