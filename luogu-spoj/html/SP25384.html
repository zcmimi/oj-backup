<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>SHUFFLES - Shuffles - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450620:dk5L6nCZtSB0M7dovgPqKlKyC9cL3Ko3ZXYQ8q98rJE=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22The%20most%20common%20technique%20for%20shuffling%20a%20deck%20of%20cards%20is%20called%20the%20Riffle%20or%20Dovetail%20shuffle.%20The%20deck%20is%20split%20into%20two%20stacks%2C%20which%20are%20then%20interleaved%20with%20each%20other.%20The%20deck%20can%20be%20split%20anywhere%2C%20and%20the%20two%20stacks%20can%20be%20interleaved%20in%20any%20way.%5Cn%5CnFor%20example%2C%20consider%20a%20deck%20with%2010%20unique%20cards%3A%5Cn%5Cn%2A%2A1%202%203%204%205%206%207%208%209%2010%2A%2A%5Cn%5CnSplit%20them%20somewhere%3A%5Cn%5Cn1%202%203%204%205%206%207%208%209%2010%5Cn%5CnAnd%20interleave%20them%20in%20some%20way%3A%5Cn%5Cn1%202%207%203%208%209%204%205%2010%206%5Cn%5CnDo%20it%20again.%20Split%20them%20somewhere%3A%5Cn%5Cn1%202%207%203%208%209%204%205%2010%206%5Cn%5CnAnd%20interleave%20them%20in%20some%20way%3A%5Cn%5Cn3%208%201%209%204%205%202%207%2010%206%5Cn%5CnThis%20is%20one%20possible%20ordering%20after%202%20shuffles.%20Suppose%20there%20are%20%2A%2An%2A%2A%20unique%20cards%2C%20and%20that%20they%20start%20out%20perfectly%20ordered%3A%201%2C%202%2C%203%2C%20...%2C%20%2A%2An%2A%2A.%20Given%20an%20ordering%20of%20the%20deck%2C%20what%20is%20the%20smallest%20number%20of%20shuffles%20that%20could%20possibly%20put%20the%20deck%20in%20that%20order%3F%22%2C%22inputFormat%22%3A%22Each%20input%20will%20consist%20of%20a%20single%20test%20case.%20Note%20that%20your%20program%20may%20be%20run%20multiple%20times%20on%20different%20inputs.%20Each%20test%20case%20will%20begin%20with%20a%20single%20integer%20%2A%2An%2A%2A%20%281nn%20unique%20integers%20%2A%2Ac%2A%2A%20%281cn%29%2C%20with%20a%20single%20space%20between%20them%2C%20indicating%20an%20ordering%20of%20the%20%2A%2An%2A%2A%20cards.%20The%20values%20%2A%2Ac%2A%2A%20are%20guaranteed%20to%20be%20a%20permutation%20of%20the%20numbers%201..%2A%2An%2A%2A.%22%2C%22outputFormat%22%3A%22Output%20a%20single%20line%20with%20a%20single%20integer%20indicating%20the%20minimum%20number%20of%20shuffles%20that%20could%20possibly%20put%20the%20deck%20in%20the%20given%20order.%20Output%20no%20spaces.%22%2C%22samples%22%3A%5B%5B%2210%20%5C%5Cn1%202%207%203%208%209%204%205%2010%206%22%2C%221%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F25384%22%2C%22id%22%3A%2225384%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP25384%22%2C%22title%22%3A%22SHUFFLES%20-%20Shuffles%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22SHUFFLES%20-%20Shuffles%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>SHUFFLES - Shuffles</h1>
<h2>题目描述</h2>
<div>The most common technique for shuffling a deck of cards is called the Riffle or Dovetail shuffle. The deck is split into two stacks, which are then interleaved with each other. The deck can be split anywhere, and the two stacks can be interleaved in any way.
For example, consider a deck with 10 unique cards:
**1 2 3 4 5 6 7 8 9 10**
Split them somewhere:
1 2 3 4 5 6 7 8 9 10
And interleave them in some way:
1 2 7 3 8 9 4 5 10 6
Do it again. Split them somewhere:
1 2 7 3 8 9 4 5 10 6
And interleave them in some way:
3 8 1 9 4 5 2 7 10 6
This is one possible ordering after 2 shuffles. Suppose there are **n** unique cards, and that they start out perfectly ordered: 1, 2, 3, ..., **n**. Given an ordering of the deck, what is the smallest number of shuffles that could possibly put the deck in that order?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Each input will consist of a single test case. Note that your program may be run multiple times on different inputs. Each test case will begin with a single integer **n** (1nn unique integers **c** (1cn), with a single space between them, indicating an ordering of the **n** cards. The values **c** are guaranteed to be a permutation of the numbers 1..**n**.</div>
<h3>输出格式</h3>
<br />
<div>Output a single line with a single integer indicating the minimum number of shuffles that could possibly put the deck in the given order. Output no spaces.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>10 \n1 2 7 3 8 9 4 5 10 6</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1</code></pre>
</article>
</div>
</div>
</body>
</html>
