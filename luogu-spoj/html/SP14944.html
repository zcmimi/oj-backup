<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>SANTA1 - Reindeer Games - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450400:iGnaG37aAw7yEE+IsDrgAI8jwbYVLn4AZMQ87WJf3wI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22With%20the%20presents%20all%20crafted%20and%20packed%20into%20Santa%27s%20sack%2C%20it%27s%20almost%20time%20for%20his%20annual%20trip%20across%20the%20world%2C%20spreading%20cheer%20to%20all%21%20However%2C%20he%27s%20first%20taking%20the%20time%20to%20experiment%20with%20various%20combinations%20of%20reindeer%20to%20pull%20his%20sleigh.%20For%20a%20successful%20journey%2C%20they%27ll%20have%20to%20work%20productively%21%5Cn%5CnEvery%20reindeer%20has%20a%20unique%20name%20%28a%20string%20of%20up%20to%2020%20case-sensitive%20letters%29%2C%20as%20well%20as%20a%20seniority%20and%20a%20productivity%20value%20%28both%20positive%20integers%20no%20larger%20than%20%24%2010%5E6%20%24%20%29.%20When%20a%20group%20of%20reindeer%20is%20chosen%20to%20pull%20the%20sleigh%2C%20they%20line%20up%20in%20single%20file%2C%20always%20in%20descending%20order%20of%20seniority%20from%20the%20front.%20If%20multiple%20reindeer%20have%20the%20same%20seniority%2C%20they%20line%20up%20in%20descending%20order%20of%20productivity%20within%20themselves%20%28no%20two%20reindeer%20have%20both%20the%20same%20seniority%20and%20the%20same%20productivity%29.%20The%20productivity%20of%20a%20pair%20of%20adjacent%20reindeer%20in%20the%20lineup%20is%20the%20product%20of%20their%20individual%20productivity%20values%2C%20and%20the%20total%20productivity%20of%20the%20lineup%20is%20the%20sum%20of%20all%20such%20productivities.%20The%20total%20productivity%20of%20a%20group%20of%20fewer%20than%202%20reindeer%20is%200.%5Cn%5CnStarting%20with%20an%20empty%20group%20of%20reindeer%2C%20Santa%20will%20perform%20%24%20M%20%24%20%28%20%24%201%20%5C%5Cleq%20M%20%5C%5Cleq%2010%5E5%20%24%20%29%20modifications.%20The%20%24%20i%20%24%20th%20modification%20will%20involve%20the%20reindeer%20with%20name%20%24%20N_i%20%24%20.%20If%20%24%20A_i%3D%20%24%20%27A%27%2C%20then%20this%20reindeer%20will%20be%20added%20to%20the%20lineup%20%28in%20its%20correct%20spot%29%20-%20in%20this%20case%2C%20its%20seniority%20and%20productivity%20values%2C%20%24%20S_i%20%24%20and%20%24%20P_i%20%24%20%2C%20will%20be%20given.%20Otherwise%2C%20if%20%24%20A_i%3D%20%24%20%27R%27%2C%20then%20this%20reindeer%20will%20be%20removed%20from%20the%20lineup.%20Each%20reindeer%20will%20only%20be%20added%20once%2C%20and%20will%20only%20be%20removed%20if%20it%27s%20currently%20in%20the%20lineup.%5Cn%5CnTo%20track%20which%20combinations%20of%20reindeer%20are%20more%20effective%20than%20others%2C%20Santa%20would%20like%20you%20to%20calculate%20the%20total%20productivity%20of%20the%20lineup%20after%20every%20modification%20made%20to%20it.%20Quickly%2C%20now%2C%20Christmas%20won%27t%20wait%21%22%2C%22inputFormat%22%3A%22First%20line%3A%20%24%20M%20%24%5Cn%5CnNext%20%24%20M%20%24%20lines%3A%20%24%20A_i%20%24%20and%20%24%20N_i%20%24%20%2C%20followed%20by%20%24%20S_i%20%24%20and%20%24%20P_i%20%24%20if%20%24%20A_i%3D%20%24%20%27A%27%2C%20for%20%24%20i%20%3D%201%20..%20M%20%24%22%2C%22outputFormat%22%3A%22%20%24%20M%20%24%20lines%3A%20The%20total%20productivity%20of%20the%20reindeer%20lineup%20after%20every%20modification%22%2C%22samples%22%3A%5B%5B%225%5Cr%5CnA%20Dancer%205%202%5Cr%5CnA%20Prancer%203%208%5Cr%5CnA%20Vixen%2010%209%5Cr%5CnR%20Dancer%5Cr%5CnA%20Rudolph%203%201%22%2C%22%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F14944%22%2C%22id%22%3A%2214944%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP14944%22%2C%22title%22%3A%22SANTA1%20-%20Reindeer%20Games%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22SANTA1%20-%20Reindeer%20Games%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>SANTA1 - Reindeer Games</h1>
<h2>题目描述</h2>
<div>With the presents all crafted and packed into Santa's sack, it's almost time for his annual trip across the world, spreading cheer to all! However, he's first taking the time to experiment with various combinations of reindeer to pull his sleigh. For a successful journey, they'll have to work productively!
Every reindeer has a unique name (a string of up to 20 case-sensitive letters), as well as a seniority and a productivity value (both positive integers no larger than $ 10^6 $ ). When a group of reindeer is chosen to pull the sleigh, they line up in single file, always in descending order of seniority from the front. If multiple reindeer have the same seniority, they line up in descending order of productivity within themselves (no two reindeer have both the same seniority and the same productivity). The productivity of a pair of adjacent reindeer in the lineup is the product of their individual productivity values, and the total productivity of the lineup is the sum of all such productivities. The total productivity of a group of fewer than 2 reindeer is 0.
Starting with an empty group of reindeer, Santa will perform $ M $ ( $ 1 \leq M \leq 10^5 $ ) modifications. The $ i $ th modification will involve the reindeer with name $ N_i $ . If $ A_i= $ 'A', then this reindeer will be added to the lineup (in its correct spot) - in this case, its seniority and productivity values, $ S_i $ and $ P_i $ , will be given. Otherwise, if $ A_i= $ 'R', then this reindeer will be removed from the lineup. Each reindeer will only be added once, and will only be removed if it's currently in the lineup.
To track which combinations of reindeer are more effective than others, Santa would like you to calculate the total productivity of the lineup after every modification made to it. Quickly, now, Christmas won't wait!</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>First line: $ M $
Next $ M $ lines: $ A_i $ and $ N_i $ , followed by $ S_i $ and $ P_i $ if $ A_i= $ 'A', for $ i = 1 .. M $</div>
<h3>输出格式</h3>
<br />
<div> $ M $ lines: The total productivity of the reindeer lineup after every modification</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
A Dancer 5 2
A Prancer 3 8
A Vixen 10 9
R Dancer
A Rudolph 3 1</code></pre>
<h3>输出样例 #1</h3>
<pre><code></code></pre>
</article>
</div>
</div>
</body>
</html>
