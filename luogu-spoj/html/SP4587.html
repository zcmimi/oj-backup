<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>FENCE3 - Electric Fences - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449891:hn+6hVqbQn8/ssMyC1TtdaQEaPrqKcAFzegT49eM5qE=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20Farmer%20John%20has%20decided%20to%20construct%20electric%20fences.%20He%20has%20fenced%20his%20fields%20into%20a%20number%20of%20bizarre%20shapes%20and%20now%20must%20find%20the%20optimal%20place%20to%20locate%20the%20electrical%20supply%20to%20each%20of%20the%20fences.%20%20%20%5Cn%20%20%5Cn%20A%20single%20wire%20must%20run%20from%20some%20point%20on%20each%20and%20every%20fence%20to%20the%20source%20of%20electricity.%20Wires%20can%20run%20through%20other%20fences%20or%20across%20other%20wires.%20Wires%20can%20run%20at%20any%20angle.%20Wires%20can%20run%20from%20any%20point%20on%20a%20fence%20%28i.e.%2C%20the%20ends%20or%20anywhere%20in%20between%29%20to%20the%20electrical%20supply.%20%20%20%5Cn%20%20%5Cn%20Given%20the%20locations%20of%20all%20F%20%281%20%3C%3D%20F%20%3C%3D%20150%29%20fences%20%28fences%20are%20always%20parallel%20to%20a%20grid%20axis%20and%20run%20from%20one%20integer%20gridpoint%20to%20another%2C%200%20%3C%3D%20X%2CY%20%3C%3D%20100%29%2C%20your%20program%20must%20calculate%20both%20the%20total%20length%20of%20wire%20required%20to%20connect%20every%20fence%20to%20the%20central%20source%20of%20electricity%20and%20also%20the%20optimal%20location%20for%20the%20electrical%20source.%20%20%20%5Cn%20%20%5Cn%20The%20optimal%20location%20for%20the%20electrical%20source%20might%20be%20anywhere%20in%20Farmer%20John%27s%20field%2C%20not%20necessarily%20on%20a%20grid%20point.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20F%2C%20the%20number%20of%20fences.%20%20%20%5CnF%20subsequent%20lines%20each%20contain%20two%20X%2CY%20pairs%20each%20of%20which%20denotes%20the%20endpoints%20of%20a%20fence.%22%2C%22outputFormat%22%3A%22%20On%20a%20single%20line%2C%20print%20three%20space-separated%20floating%20point%20numbers%2C%20each%20with%20a%20single%20decimal%20place.%20Presume%20that%20your%20computer%27s%20output%20library%20will%20round%20the%20number%20correctly.%20%20%20%5Cn%20%20%5Cn%20The%20three%20numbers%20are%3A%20%20%20%5Cn%20%20%5Cn%20%5C%5C%2A%20the%20X%20value%20of%20the%20optimal%20location%20for%20the%20electricity%2C%20%20%20%5Cn%5C%5C%2A%20the%20Y%20value%20for%20the%20optimal%20location%20for%20the%20electricity%2C%20and%20%20%20%5Cn%5C%5C%2A%20the%20total%20%28minimum%29%20length%20of%20the%20wire%20required.%22%2C%22samples%22%3A%5B%5B%223%5Cr%5Cn0%200%200%201%5Cr%5Cn2%200%202%201%5Cr%5Cn0%203%202%203%22%2C%221.0%201.6%203.7%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B181%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F4587%22%2C%22id%22%3A%224587%22%7D%2C%22translation%22%3A%22%5Cu3000%5Cu3000%5Cu519c%5Cu592b%5Cu7ea6%5Cu7ff0%5Cu5df2%5Cu7ecf%5Cu51b3%5Cu5b9a%5Cu5efa%5Cu9020%5Cu7535%5Cu7f51%5Cu3002%5Cu4ed6%5Cu5df2%5Cu7ecf%5Cu628a%5Cu4ed6%5Cu7684%5Cu519c%5Cu7530%5Cu56f4%5Cu6210%5Cu4e00%5Cu4e9b%5Cu5947%5Cu602a%5Cu7684%5Cu5f62%5Cu72b6%5Cuff0c%5Cu73b0%5Cu5728%5Cu5fc5%5Cu987b%5Cu627e%5Cu51fa%5Cu5b89%5Cu653e%5Cu7535%5Cu6e90%5Cu7684%5Cu6700%5Cu4f73%5Cu4f4d%5Cu7f6e%5Cu3002%5Cr%5Cn%20%20%5Cr%5Cn%5Cu3000%5Cu3000%5Cu5bf9%5Cu4e8e%5Cu6bb5%5Cu7535%5Cu7f51%5Cu90fd%5Cu5fc5%5Cu987b%5Cu4ece%5Cu7535%5Cu6e90%5Cu62c9%5Cu51fa%5Cu4e00%5Cu6761%5Cu7535%5Cu7ebf%5Cu3002%5Cu7535%5Cu7ebf%5Cu53ef%5Cu4ee5%5Cu7a7f%5Cu8fc7%5Cu5176%5Cu4ed6%5Cu7535%5Cu7f51%5Cu6216%5Cu8005%5Cu8de8%5Cu8fc7%5Cu5176%5Cu4ed6%5Cu7535%5Cu7ebf%5Cu3002%5Cu7535%5Cu7ebf%5Cu80fd%5Cu591f%5Cu4ee5%5Cu4efb%5Cu610f%5Cu89d2%5Cu5ea6%5Cu94fa%5Cu8bbe%5Cuff0c%5Cu4ece%5Cu7535%5Cu6e90%5Cu8fde%5Cu63a5%5Cu5230%5Cu4e00%5Cu6bb5%5Cu7535%5Cu7f51%5Cu7684%5Cu4efb%5Cu610f%5Cu4e00%5Cu70b9%5Cu4e0a%5Cuff08%5Cu4e5f%5Cu5c31%5Cu662f%5Cuff0c%5Cu8fd9%5Cu6bb5%5Cu7535%5Cu7f51%5Cu7684%5Cu7aef%5Cu70b9%5Cu4e0a%5Cu6216%5Cu8005%5Cu5728%5Cu5176%5Cu4e4b%5Cu95f4%5Cu7684%5Cu4efb%5Cu610f%5Cu4e00%5Cu70b9%5Cu4e0a%5Cuff09%5Cu3002%5Cu8fd9%5Cu91cc%5Cu6240%5Cu8bf4%5Cu7684%5Cu201c%5Cu4e00%5Cu6bb5%5Cu7535%5Cu7f51%5Cu201d%5Cu6307%5Cu7684%5Cu662f%5Cu5448%5Cu4e00%5Cu6761%5Cu7ebf%5Cu6bb5%5Cu72b6%5Cu7684%5Cu7535%5Cu7f51%5Cuff0c%5Cu5e76%5Cu4e0d%5Cu662f%5Cu8fde%5Cu5728%5Cu4e00%5Cu8d77%5Cu7684%5Cu51e0%5Cu6bb5%5Cu7535%5Cu7f51%5Cu3002%5Cu82e5%5Cu51e0%5Cu6bb5%5Cu7535%5Cu7f51%5Cu8fde%5Cu5728%5Cu4e00%5Cu8d77%5Cuff0c%5Cu90a3%5Cu4e48%5Cu4e5f%5Cu8981%5Cu5206%5Cu522b%5Cu7ed9%5Cu8fd9%5Cu4e9b%5Cu7535%5Cu7f51%5Cu63d0%5Cu4f9b%5Cu7535%5Cu529b%5Cu3002%5Cr%5Cn%20%20%5Cr%5Cn%5Cu3000%5Cu3000%5Cu5df2%5Cu77e5%5Cu6240%5Cu6709%5Cu7684%20F%5Cuff081%20%3C%3D%20F%20%3C%3D%20150%5Cuff09%5Cu6bb5%5Cu7535%5Cu7f51%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff08%5Cu7535%5Cu7f51%5Cu603b%5Cu662f%5Cu548c%5Cu5750%5Cu6807%5Cu8f74%5Cu5e73%5Cu884c%5Cuff0c%5Cu5e76%5Cu4e14%5Cu7aef%5Cu70b9%5Cu7684%5Cu5750%5Cu6807%5Cu603b%5Cu662f%5Cu6574%5Cu6570%5Cuff0c0%20%3C%3D%20X%2CY%20%3C%3D%20100%5Cuff09%5Cu3002%5Cu4f60%5Cu7684%5Cu7a0b%5Cu5e8f%5Cu8981%5Cu8ba1%5Cu7b97%5Cu8fde%5Cu63a5%5Cu7535%5Cu6e90%5Cu548c%5Cu6bcf%5Cu6bb5%5Cu7535%5Cu7f51%5Cu6240%5Cu9700%5Cu7684%5Cu7535%5Cu7ebf%5Cu7684%5Cu6700%5Cu5c0f%5Cu603b%5Cu957f%5Cu5ea6%5Cuff0c%5Cu8fd8%5Cu6709%5Cu7535%5Cu6e90%5Cu7684%5Cu6700%5Cu4f73%5Cu5750%5Cu6807%5Cu3002%5Cr%5Cn%20%20%5Cr%5Cn%5Cu3000%5Cu3000%5Cu7535%5Cu6e90%5Cu7684%5Cu6700%5Cu4f73%5Cu5750%5Cu6807%5Cu53ef%5Cu80fd%5Cu5728%5Cu519c%5Cu592b%5Cu7ea6%5Cu7ff0%5Cu7684%5Cu519c%5Cu7530%5Cu4e2d%5Cu7684%5Cu4efb%5Cu4f55%5Cu4e00%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu5e76%5Cu4e0d%5Cu4e00%5Cu662f%5Cu6574%5Cu6570%5Cu3002%5Cr%5Cn%20%20%5Cr%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cr%5Cn%5Cu3000%5Cu3000%5Cu7b2c%5Cu4e00%5Cu884c%5Cu5305%5Cu62ec%20F%20%5Cu2014%5Cu2014%5Cu7535%5Cu7f51%5Cu7684%5Cu6570%5Cu91cf%5Cu3002%5Cr%5Cn%5Cu3000%5Cu3000%5Cu4e0b%5Cu9762%5Cu7684%20F%20%5Cu884c%5Cu6bcf%5Cu884c%5Cu5305%5Cu62ec%5Cu4e24%5Cu4e2a%20X%5Cuff0cY%20%5Cu5bf9%5Cuff0c%5Cu8868%5Cu793a%5Cu8fd9%5Cu6bb5%5Cu7535%5Cu7f51%5Cu7684%5Cu4e24%5Cu4e2a%5Cu7aef%5Cu70b9%5Cu3002%5Cr%5Cn%20%20%5Cr%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%3A%5Cr%5Cn%5Cu53ea%5Cu6709%5Cu4e00%5Cu884c%5Cuff0c%5Cu8f93%5Cu51fa%5Cu4e09%5Cu4e2a%5Cu6d6e%5Cu70b9%5Cu6570%5Cuff0c%5Cu76f8%5Cu90bb%5Cu4e24%5Cu4e2a%5Cu4e4b%5Cu95f4%5Cu7559%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu683c%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu5047%5Cu5b9a%5Cu4f60%5Cu7684%5Cu7535%5Cu8111%5Cu7684%5Cu8f93%5Cu51fa%5Cu5e93%5Cu4f1a%5Cu6b63%5Cu786e%5Cu5730%5Cu5bf9%5Cu5c0f%5Cu6570%5Cu8fdb%5Cu884c%5Cu56db%5Cu820d%5Cu4e94%5Cu5165%5Cu3002%5Cr%5Cn%5Cu8fd9%5Cu4e09%5Cu4e2a%5Cu6570%5Cu662f%5Cuff1a%20%5Cu7535%5Cu6e90%5Cu6700%5Cu4f73%5Cu5750%5Cu6807%5Cu7684%20X%20%5Cu503c%5Cuff0c%5Cr%5Cn%5Cu7535%5Cu6e90%5Cu6700%5Cu4f73%5Cu5750%5Cu6807%5Cu7684%20Y%20%5Cu503c%5Cuff0c%5Cu548c%5Cr%5Cn%5Cu9700%5Cu8981%5Cu7684%5Cu7535%5Cu7ebf%5Cu7684%5Cu603b%5Cu957f%5Cu5ea6%5Cuff08%5Cu8981%5Cu6700%5Cu5c0f%5Cuff09%5Cu3002%5Cr%5Cn%22%2C%22tags%22%3A%5B1%2C111%2C135%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A55%2C%22totalAccepted%22%3A12%2C%22pid%22%3A%22SP4587%22%2C%22title%22%3A%22FENCE3%20-%20Electric%20Fences%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A46473%2C%22title%22%3A%22Electric%20Fences%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%22%2C%22forum%22%3A%7B%22id%22%3A14138%2C%22name%22%3A%22SP4587%20FENCE3%20-%20Electric%20Fences%22%2C%22slug%22%3A%22SP4587%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1337%22%2C%22title%22%3A%22%5BJSOI2004%5D%5Cu5e73%5Cu8861%5Cu70b9%20%5C%2F%20%5Cu540a%5Cu6253XXX%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3379%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu6700%5Cu8fd1%5Cu516c%5Cu5171%5Cu7956%5Cu5148%5Cuff08LCA%5Cuff09%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF2C%22%2C%22title%22%3A%22Commentator%20problem%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P5005%22%2C%22title%22%3A%22%5Cu4e2d%5Cu56fd%5Cu8c61%5Cu68cb%20-%20%5Cu6446%5Cu4e0a%5Cu9a6c%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5544%22%2C%22title%22%3A%22%5BJSOI2016%5D%5Cu70b8%5Cu5f39%5Cu653b%5Cu51fb1%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22FENCE3%20-%20Electric%20Fences%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>FENCE3 - Electric Fences</h1>
<h2>题意翻译</h2>
<div>　　农夫约翰已经决定建造电网。他已经把他的农田围成一些奇怪的形状，现在必须找出安放电源的最佳位置。
　　对于段电网都必须从电源拉出一条电线。电线可以穿过其他电网或者跨过其他电线。电线能够以任意角度铺设，从电源连接到一段电网的任意一点上（也就是，这段电网的端点上或者在其之间的任意一点上）。这里所说的“一段电网”指的是呈一条线段状的电网，并不是连在一起的几段电网。若几段电网连在一起，那么也要分别给这些电网提供电力。
　　已知所有的 F（1 <= F <= 150）段电网的位置（电网总是和坐标轴平行，并且端点的坐标总是整数，0 <= X,Y <= 100）。你的程序要计算连接电源和每段电网所需的电线的最小总长度，还有电源的最佳坐标。
　　电源的最佳坐标可能在农夫约翰的农田中的任何一个位置，并不一是整数。
输入格式
　　第一行包括 F ——电网的数量。
　　下面的 F 行每行包括两个 X，Y 对，表示这段电网的两个端点。
输出格式:
只有一行，输出三个浮点数，相邻两个之间留一个空格。
假定你的电脑的输出库会正确地对小数进行四舍五入。
这三个数是： 电源最佳坐标的 X 值，
电源最佳坐标的 Y 值，和
需要的电线的总长度（要最小）。
</div>
<h2>题目描述</h2>
<div> Farmer John has decided to construct electric fences. He has fenced his fields into a number of bizarre shapes and now must find the optimal place to locate the electrical supply to each of the fences.
A single wire must run from some point on each and every fence to the source of electricity. Wires can run through other fences or across other wires. Wires can run at any angle. Wires can run from any point on a fence (i.e., the ends or anywhere in between) to the electrical supply.
Given the locations of all F (1 <= F <= 150) fences (fences are always parallel to a grid axis and run from one integer gridpoint to another, 0 <= X,Y <= 100), your program must calculate both the total length of wire required to connect every fence to the central source of electricity and also the optimal location for the electrical source.
The optimal location for the electrical source might be anywhere in Farmer John's field, not necessarily on a grid point.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains F, the number of fences.
F subsequent lines each contain two X,Y pairs each of which denotes the endpoints of a fence.</div>
<h3>输出格式</h3>
<br />
<div> On a single line, print three space-separated floating point numbers, each with a single decimal place. Presume that your computer's output library will round the number correctly.
The three numbers are:
\* the X value of the optimal location for the electricity,
\* the Y value for the optimal location for the electricity, and
\* the total (minimum) length of the wire required.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
0 0 0 1
2 0 2 1
0 3 2 3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1.0 1.6 3.7</code></pre>
</article>
</div>
</div>
</body>
</html>
