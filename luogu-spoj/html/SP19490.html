<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>PAUWS - Pair and unpair weightest string - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450534:TDV4t/f9BJGIVK4xfsaLDBKDkIsI+fjc+GWS+5Hpwds=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Once%20I%20went%20market%20to%20buy%20a%20teddy.%20The%20shopkepper%20offered%20a%20puzzle%20and%20said%20he%27ll%20give%20me%20whatever%20i%20wish%20at%20a%20huge%20discount%20if%20i%20give%20him%20the%20working%20piece%20of%20code%20for%20following%20problem.%20%20%5Cn%20You%20will%20be%20given%20a%20string%20S%20of%20length%20N%2C%20containing%20either%20%27A%27%20or%20%27B%27.%20Make%20all%20the%20possible%20lists%20from%20the%20given%20list%2C%20with%20the%20given%20operation%20that%20you%20are%20allowed%20to%20change%20one%20symbol%20into%20another.%20Then%20assign%20maximum%20weight%20to%20each%20of%20the%20string%20and%20get%20the%20string%20with%20maximum%20weight%20%26%26%20return%20the%20weight.%20%20%5Cn%20%20%5CnYou%20have%20only%20following%20two%20ways%20to%20assign%20weight%20to%20symbol%20%3A%20%20%20%5Cn1%5C%5C.%20Pair%20a%20S%5C%5C%5Bi%5C%5C%5D%20symbol%20with%20adjacent%20one%20%28S%5C%5C%5Bi%5C%5C%5D%20or%20S%5C%5C%5Bi-1%5C%5C%5D%29.%20Each%20symbol%20can%20only%20be%20paired%20with%20exactly%20one%20symbol.%20Weight%20of%20a%20pair%20is%204.%20Pair%20will%20be%20either%20%27AB%27%20or%20%27BA%27.%20%20%5Cn2%5C%5C.%20Keep%20a%20S%5C%5C%5Bi%5C%5C%5D%20Symbol%20indepedent.%20Weight%20of%20unpaired%20symbol%20is%201.%20%20%5Cn3%5C%5C.%20Each%20symbol%20is%20either%20involved%20in%20exactly%20one%20either%20pair%20or%20unpaired%20status.%20%20%5Cn4%5C%5C.%20For%20each%20string%2C%20Keep%20in%20mind%20the%20number%20of%20symbols%28K%29%20with%20index%20i%2C%201%3C%3Di%3C%3DN%2C%20which%20are%20changed%20from%20original%20symbol%20S%5C%5C%5Bi%5C%5C%5D.%20%20%5Cn5%5C%5C.%20For%20each%20of%20the%20possible%20lists%2C%20Add%20all%20the%20weight%20assigned%20as%20a%20pair%20and%20unpair%2C%20then%20subtract%20K%20from%20it.%20assign%20this%20final%20value%20as%20string%20weight.%20Add%20each%20paired%20weight%20once%20exactly.%20%20%5Cn%20%20%5CnThe%20Task%20is%20to%20maximize%20the%20weight%20of%20the%20string.%20Suppose%20S%3D%5C%22ABB%5C%22%2C%20possible%20transforms%20can%20be%20%7B%5C%22ABB%5C%22%2C%20%5C%22ABA%5C%22%2C%20%5C%22AAB%5C%22%2C%20%5C%22AAA%5C%22%2C%20%5C%22BBB%5C%22%2C%20%5C%22BBA%5C%22%2C%20%5C%22BAB%5C%22%2C%20%5C%22BAA%5C%22%7D%20with%20respective%20weight%20%7B5%2C4%2C4%2C1%2C2%2C3%2C3%2C2%7D.%20Maximum%20weight%20is%20found%205%20in%20string%201.%20%20%5Cn%20%20%5Cn%2A%2AConstraints%3A%2A%2A%201%3C%3DN%3C%3D10%5E5%2C%201%3C%3DT%3C%3D500.%20%20%5Cn%20%20%5Cn%2A%2AInput%20%3A%2A%2A%20%20%20%5CnFirst%20line%20contains%20t%2C%20number%20of%20testcases.%20For%20each%20testcase%2C%20first%20line%20contains%20N%2C%20length%20of%20the%20string.%20Second%20line%20contains%20string%20itself.%20%20%5Cn%2A%2AOutput%3A%2A%2A%20%20%5CnFor%20Each%20testcase%2C%20Output%20maximum%20weight%20of%20a%20string%20that%20can%20be%20obtained.%20%20%5Cn%20%20%5Cn%20%20%5Cn%20%2A%2AExample%2A%2A%20%20%5Cn%2A%2AInput%3A%2A%2A%20%20%5Cn5%20%20%5Cn3%20%20%5CnABB%20%20%5Cn7%20%20%5CnABBBAAA%20%20%5Cn8%20%20%5CnBAAAAAAA%20%20%5Cn12%20%20%5CnAAAAAAAAAAAA%20%20%5Cn11%20%20%5CnABABBBABABA%5Cn%5Cn%20%20%5Cn%2A%2AOutput%3A%2A%2A%20%20%5Cn5%20%20%5Cn12%20%20%5Cn13%20%20%5Cn18%20%20%5Cn21%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F19490%22%2C%22id%22%3A%2219490%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP19490%22%2C%22title%22%3A%22PAUWS%20-%20Pair%20and%20unpair%20weightest%20string%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22PAUWS%20-%20Pair%20and%20unpair%20weightest%20string%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>PAUWS - Pair and unpair weightest string</h1>
<h2>题目描述</h2>
<div>Once I went market to buy a teddy. The shopkepper offered a puzzle and said he'll give me whatever i wish at a huge discount if i give him the working piece of code for following problem.
You will be given a string S of length N, containing either 'A' or 'B'. Make all the possible lists from the given list, with the given operation that you are allowed to change one symbol into another. Then assign maximum weight to each of the string and get the string with maximum weight && return the weight.
You have only following two ways to assign weight to symbol :
1\. Pair a S\[i\] symbol with adjacent one (S\[i\] or S\[i-1\]). Each symbol can only be paired with exactly one symbol. Weight of a pair is 4. Pair will be either 'AB' or 'BA'.
2\. Keep a S\[i\] Symbol indepedent. Weight of unpaired symbol is 1.
3\. Each symbol is either involved in exactly one either pair or unpaired status.
4\. For each string, Keep in mind the number of symbols(K) with index i, 1<=i<=N, which are changed from original symbol S\[i\].
5\. For each of the possible lists, Add all the weight assigned as a pair and unpair, then subtract K from it. assign this final value as string weight. Add each paired weight once exactly.
The Task is to maximize the weight of the string. Suppose S="ABB", possible transforms can be {"ABB", "ABA", "AAB", "AAA", "BBB", "BBA", "BAB", "BAA"} with respective weight {5,4,4,1,2,3,3,2}. Maximum weight is found 5 in string 1.
**Constraints:** 1<=N<=10^5, 1<=T<=500.
**Input :**
First line contains t, number of testcases. For each testcase, first line contains N, length of the string. Second line contains string itself.
**Output:**
For Each testcase, Output maximum weight of a string that can be obtained.
**Example**
**Input:**
5
3
ABB
7
ABBBAAA
8
BAAAAAAA
12
AAAAAAAAAAAA
11
ABABBBABABA
**Output:**
5
12
13
18
21</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
