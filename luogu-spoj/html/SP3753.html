<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>GONDOR - GONDOR - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449821:zVsfPVOtDnybFP1l08HblxwK4F2m9tAAr5EarjEnzxk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20%5BEnglish%5D%28%5C%2Fproblems%5C%2FGONDOR%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FGONDOR%5C%2Fvn%5C%2F%29The%20legendary%20land%20of%20Gondor%20had%20a%20network%20of%20sparks%20to%20quickly%20alert%20the%20entire%20land%20of%20an%20emergency.%5Cn%5CnEvery%20spark%20is%20manned%20by%20an%20archer%20with%20several%20arrows%20and%20instruction%20in%20which%20order%20to%20light%20the%20other%20sparks.%5Cn%5CnMore%20precisely%2Cwhen%20his%20own%20spark%20is%20lit%2Cthe%20archer%20next%20to%20it%20lights%20his%20arrows%20and%20shoots%20one%20at%20every%20other%20spark%20that%20has%20not%20yet%20been%20lit%2C%20in%20the%20order%20in%20which%20his%20instructions%20say.%20The%20archer%20does%20so%20until%20he%20is%20out%20of%20arrows%20%28or%20sparks%20to%20shoot%20at%29.The%20archers%20are%20very%20precise%20so%20every%20arrow%20hits%20its%20target.%20The%20time%20or%20an%20arrow%20to%20travel%20some%20distance%20is%20equal%20to%20that%20distance%2Cwhile%20the%20time%20or%20an%20archer%20to%20shoot%20all%20his%20arrows%20is%20negligible.%20Sauron%27s%20army%20is%20approaching%20Gondor%20so%20the%20spark%20at%20Minas%20Tirith%20has%20been%20lit.%20Write%20a%20program%20that%2C%20given%20the%20layout%20o%20sparks%20in%20the%20coordinate%20plane%2C%20the%20number%20of%20arrows%20and%20instructions%20or%20every%20archer%2Ccalculates%20the%20time%20indices%20at%20which%20each%20of%20the%20sparks%20will%20be%20lit.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20an%20integer%20N%20%281%5Cn%5CnEach%20of%20the%20following%20N%20lines%20describes%20one%20spark.%20The%20description%20of%20one%20spark%20is%20composed%20of%20%3A%5Cn%5CnThe%20integers%20X%20and%20Y%20%281%5Cn%5CnAn%20integer%20S%20%281%5Cn%5CnN-1%20distinct%20integers%20between%201%20and%20N%2C%20the%20instructions%20or%20the%20archer.%20The%20instructions%20are%20the%20order%20in%20which%2C%20once%20his%20spark%20is%20lit%2C%20the%20archer%20will%20consider%20shooting%20arrows%20at%20other%20sparks.%5Cn%5CnNo%20number%20will%20appear%20more%20than%20once%20in%20the%20list%2C%20nor%20will%20an%20archer%20be%20instructed%20to%20shoot%20an%20arrow%20at%20his%20own%20spark.%5Cn%5CnThe%20input%20will%20be%20such%20that%20no%20two%20sparks%20will%20be%20lit%20at%20the%20same%20time.%22%2C%22outputFormat%22%3A%22Output%20N%20decimal%20numbers%2Ceach%20on%20a%20single%20line%2Cthe%20times%20at%20which%20the%20sparks%20light%20up%2Cin%20order%20from%20spark%201%20to%20N.%20Your%20output%20must%20be%20accurate%20to%20%5Cu00b10.01.%22%2C%22samples%22%3A%5B%5B%224%5Cr%5Cn1%201%201%202%203%204%5Cr%5Cn1%202%201%204%201%203%5Cr%5Cn2%201%201%202%201%204%5Cr%5Cn2%202%201%203%202%201%22%2C%220.000000%5Cr%5Cn1.000000%5Cr%5Cn3.000000%5Cr%5Cn2.000000%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B210%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3753%22%2C%22id%22%3A%223753%22%7D%2C%22translation%22%3A%22%23%23%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cr%5Cn%5Cu4f20%5Cu8bf4%5Cu4e2d%5Cu7684%5Cu8d21%5Cu591a%5Cuff08Gondor%5Cuff09%5Cu571f%5Cu5730%5Cu62e5%5Cu6709%5Cu4e00%5Cu7247%5Cu904d%5Cu5e03%5Cu706b%5Cu661f%5Cu7684%5Cu7f51%5Cu7edc%5Cuff0c%5Cu53ef%5Cu4ee5%5Cu5728%5Cu6574%5Cu4e2a%5Cu7d27%5Cu6025%5Cu60c5%5Cu51b5%5Cu4e0b%5Cu8fc5%5Cu901f%5Cu63d0%5Cu9192%5Cu6574%5Cu4e2a%5Cu56fd%5Cu5bb6%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu6bcf%5Cu4e2a%5Cu706b%5Cu82b1%5Cu7531%5Cu5f13%5Cu7bad%5Cu624b%5Cu6267%5Cu638c%5Cuff0c%5Cu5e26%5Cu6709%5Cu51e0%5Cu4e2a%5Cu7bad%5Cu5934%5Cu548c%5Cu6307%5Cu793a%5Cuff0c%5Cu4ee5%5Cu70b9%5Cu4eae%5Cu5176%5Cu4ed6%5Cu706b%5Cu82b1%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu66f4%5Cu51c6%5Cu786e%5Cu5730%5Cu8bf4%5Cuff0c%5Cu5f53%5Cu4ed6%5Cu81ea%5Cu5df1%5Cu7684%5Cu706b%5Cu82b1%5Cu88ab%5Cu70b9%5Cu71c3%5Cu65f6%5Cuff0c%5Cu65c1%5Cu8fb9%5Cu7684%5Cu5f13%5Cu7bad%5Cu624b%5Cu4f1a%5Cu70b9%5Cu71c3%5Cu4ed6%5Cu7684%5Cu7bad%5Cuff0c%5Cu5e76%5Cu6309%5Cu7167%5Cu4ed6%5Cu7684%5Cu6307%5Cu793a%5Cu8bf4%5Cu7684%5Cu987a%5Cu5e8f%5Cuff0c%5Cu5bf9%5Cu5c1a%5Cu672a%5Cu70b9%5Cu71c3%5Cu7684%5Cu5176%5Cu4ed6%5Cu6240%5Cu6709%5Cu706b%5Cu82b1%5Cu5c04%5Cu51fb%5Cu3002%5Cu5f13%5Cu7bad%5Cu624b%5Cu4e00%5Cu76f4%5Cu8fd9%5Cu6837%5Cu505a%5Cuff0c%5Cu76f4%5Cu5230%5Cu4ed6%5Cu6ca1%5Cu6709%5Cu7bad%5Cuff08%5Cu6216%5Cu5c04%5Cu51fa%5Cu7684%5Cu706b%5Cu82b1%5Cuff09%5Cu4e3a%5Cu6b62%5Cu3002%5Cu5f13%5Cu7bad%5Cu624b%5Cu975e%5Cu5e38%5Cu7cbe%5Cu786e%5Cuff0c%5Cu56e0%5Cu6b64%5Cu6bcf%5Cu652f%5Cu7bad%5Cu90fd%5Cu53ef%5Cu4ee5%5Cu5c04%5Cu4e2d%5Cu76ee%5Cu6807%5Cu3002%5Cu65f6%5Cu95f4%5Cu6216%5Cu7bad%5Cu77e2%5Cu884c%5Cu8fdb%5Cu4e00%5Cu6bb5%5Cu8ddd%5Cu79bb%5Cu7b49%5Cu4e8e%5Cu8be5%5Cu8ddd%5Cu79bb%5Cuff0c%5Cu800c%5Cu5f13%5Cu7bad%5Cu624b%5Cu5c04%5Cu51fa%5Cu6240%5Cu6709%5Cu7bad%5Cu5934%5Cu7684%5Cu65f6%5Cu95f4%5Cu53ef%5Cu4ee5%5Cu5ffd%5Cu7565%5Cu4e0d%5Cu8ba1%5Cu3002%5Cu7d22%5Cu4f26%5Cuff08Sauron%5Cuff09%5Cu7684%5Cu519b%5Cu961f%5Cu6b63%5Cu5728%5Cu63a5%5Cu8fd1%5Cu8d21%5Cu591a%5Cuff0c%5Cu6240%5Cu4ee5Minas%20Tirith%5Cu7684%5Cu706b%5Cu82b1%5Cu5df2%5Cu7ecf%5Cu70b9%5Cu71c3%5Cu3002%5Cu7f16%5Cu5199%5Cu4e00%5Cu4e2a%5Cu7a0b%5Cu5e8f%5Cuff0c%5Cu7ed9%5Cu5b9a%5Cu5728%5Cu5750%5Cu6807%5Cu5e73%5Cu9762%5Cu4e0a%5Cu7684%5Cu706b%5Cu82b1%5Cu7684%5Cu5e03%5Cu5c40%5Cuff0c%5Cu7bad%5Cu5934%5Cu548c%5Cu6307%5Cu4ee4%5Cu6216%5Cu6bcf%5Cu4e2a%5Cu5f13%5Cu7bad%5Cu624b%5Cu7684%5Cu6570%5Cu91cf%5Cuff0c%5Cu8ba1%5Cu7b97%5Cu6bcf%5Cu4e2a%5Cu706b%5Cu82b1%5Cu5c06%5Cu88ab%5Cu70b9%5Cu4eae%5Cu7684%5Cu65f6%5Cu95f4%5Cu3002%5Cr%5Cn%5Cr%5Cn%23%23%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu5305%5Cu542b%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570N%5Cuff081%5Cu2264N%5Cu2264100%5Cuff09%5Cuff0c%5Cu8868%5Cu793a%5Cu706b%5Cu82b1%5Cu6570%5Cu3002%5Cu706b%5Cu82b1%5Cu7684%5Cu7f16%5Cu53f7%5Cu4ece1%5Cu5230N.%5Cu5728Minas%20Tirith%5Cu7684%5Cu706b%5Cu82b1%5Cu5728%5Cu65f6%5Cu95f40%5Cu5904%5Cu5df2%5Cu70b9%5Cu4eae%5Cuff0c%5Cu5176%5Cu706b%5Cu82b1%5Cu7f16%5Cu53f7%5Cu4e3a1%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu7684N%5Cu884c%5Cu4e2d%5Cu7684%5Cu6bcf%5Cu6761%5Cu63cf%5Cu8ff0%5Cu4e00%5Cu4e2a%5Cu706b%5Cu82b1%5Cu3002%5Cu4e00%5Cu79cd%5Cu706b%5Cu82b1%5Cu7684%5Cu63cf%5Cu8ff0%5Cu5305%5Cu62ec%5Cuff1a%5Cr%5Cn%5Cr%5CnX%5Cu548cY%5Cu7684%5Cu6574%5Cu6570%5Cuff081%5Cu2264X%5Cuff0cY%5Cu22641000%5Cuff09%5Cuff0c%5Cu706b%5Cu82b1%5Cu7684%5Cu5750%5Cu6807%3B%5Cr%5Cn%5Cr%5Cn%5Cu6574%5Cu6570S%5Cuff081%5Cu2264S%5Cu2264100%5Cuff09%5Cuff0c%5Cu7bad%5Cu5934%5Cu6570%5Cuff1b%5Cr%5Cn%5Cr%5Cn%5Cu57281%5Cu5230N%5Cu4e4b%5Cu95f4%5Cu7684N-1%5Cu4e2a%5Cu4e0d%5Cu540c%5Cu6574%5Cu6570%5Cuff0c%5Cu6307%5Cu4ee4%5Cu6216%5Cu5f13%5Cu7bad%5Cu624b%5Cu3002%5Cu8fd9%5Cu4e9b%5Cu8bf4%5Cu660e%5Cu662f%5Cu987a%5Cu5e8f%5Cuff0c%5Cu4e00%5Cu65e6%5Cu4ed6%5Cu7684%5Cu706b%5Cu82b1%5Cu88ab%5Cu70b9%5Cu71c3%5Cuff0c%5Cu5f13%5Cu7bad%5Cu624b%5Cu5c06%5Cu8003%5Cu8651%5Cu5411%5Cu5176%5Cu4ed6%5Cu706b%5Cu82b1%5Cu5c04%5Cu7bad%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu5728%5Cu5217%5Cu8868%5Cu4e2d%5Cu4e0d%5Cu4f1a%5Cu51fa%5Cu73b0%5Cu591a%5Cu6b21%5Cu6570%5Cu5b57%5Cuff0c%5Cu4e5f%5Cu4e0d%5Cu4f1a%5Cu6307%5Cu793a%5Cu5f13%5Cu7bad%5Cu624b%5Cu4ee5%5Cu81ea%5Cu5df1%5Cu7684%5Cu706b%5Cu82b1%5Cu5c04%5Cu7bad%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu8f93%5Cu5165%5Cu5c06%5Cu4f7f%5Cu5f97%5Cu4e0d%5Cu4f1a%5Cu540c%5Cu65f6%5Cu70b9%5Cu71c3%5Cu4e24%5Cu4e2a%5Cu706b%5Cu82b1%5Cu3002%5Cr%5Cn%5Cr%5Cn%23%23%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cr%5Cn%5Cr%5Cn%5Cu8f93%5Cu51faN%5Cu4e2a%5Cu5341%5Cu8fdb%5Cu5236%5Cu6570%5Cu5b57%5Cuff0c%5Cu6bcf%5Cu884c%5Cu4e00%5Cu4e2a%5Cuff0c%5Cu706b%5Cu82b1%5Cu4ece1%5Cu5230N%5Cu7684%5Cu987a%5Cu5e8f%5Cu70b9%5Cu4eae%5Cu7684%5Cu65f6%5Cu95f4%5Cu3002%5Cu60a8%5Cu7684%5Cu8f93%5Cu51fa%5Cu5fc5%5Cu987b%5Cu7cbe%5Cu786e%5Cu5230%5Cu00b10.01%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A7%2C%22totalAccepted%22%3A2%2C%22pid%22%3A%22SP3753%22%2C%22title%22%3A%22GONDOR%20-%20GONDOR%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22GONDOR%20-%20GONDOR%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>GONDOR - GONDOR</h1>
<h2>题意翻译</h2>
<div>### 题目描述
传说中的贡多（Gondor）土地拥有一片遍布火星的网络，可以在整个紧急情况下迅速提醒整个国家。
每个火花由弓箭手执掌，带有几个箭头和指示，以点亮其他火花。
更准确地说，当他自己的火花被点燃时，旁边的弓箭手会点燃他的箭，并按照他的指示说的顺序，对尚未点燃的其他所有火花射击。弓箭手一直这样做，直到他没有箭（或射出的火花）为止。弓箭手非常精确，因此每支箭都可以射中目标。时间或箭矢行进一段距离等于该距离，而弓箭手射出所有箭头的时间可以忽略不计。索伦（Sauron）的军队正在接近贡多，所以Minas Tirith的火花已经点燃。编写一个程序，给定在坐标平面上的火花的布局，箭头和指令或每个弓箭手的数量，计算每个火花将被点亮的时间。
### 输入格式
第一行包含一个整数N（1≤N≤100），表示火花数。火花的编号从1到N.在Minas Tirith的火花在时间0处已点亮，其火花编号为1。
接下来的N行中的每条描述一个火花。一种火花的描述包括：
X和Y的整数（1≤X，Y≤1000），火花的坐标;
整数S（1≤S≤100），箭头数；
在1到N之间的N-1个不同整数，指令或弓箭手。这些说明是顺序，一旦他的火花被点燃，弓箭手将考虑向其他火花射箭。
在列表中不会出现多次数字，也不会指示弓箭手以自己的火花射箭。
输入将使得不会同时点燃两个火花。
### 输出格式
输出N个十进制数字，每行一个，火花从1到N的顺序点亮的时间。您的输出必须精确到±0.01。</div>
<h2>题目描述</h2>
<div> [English](/problems/GONDOR/en/) [Vietnamese](/problems/GONDOR/vn/)The legendary land of Gondor had a network of sparks to quickly alert the entire land of an emergency.
Every spark is manned by an archer with several arrows and instruction in which order to light the other sparks.
More precisely,when his own spark is lit,the archer next to it lights his arrows and shoots one at every other spark that has not yet been lit, in the order in which his instructions say. The archer does so until he is out of arrows (or sparks to shoot at).The archers are very precise so every arrow hits its target. The time or an arrow to travel some distance is equal to that distance,while the time or an archer to shoot all his arrows is negligible. Sauron's army is approaching Gondor so the spark at Minas Tirith has been lit. Write a program that, given the layout o sparks in the coordinate plane, the number of arrows and instructions or every archer,calculates the time indices at which each of the sparks will be lit.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains an integer N (1
Each of the following N lines describes one spark. The description of one spark is composed of :
The integers X and Y (1
An integer S (1
N-1 distinct integers between 1 and N, the instructions or the archer. The instructions are the order in which, once his spark is lit, the archer will consider shooting arrows at other sparks.
No number will appear more than once in the list, nor will an archer be instructed to shoot an arrow at his own spark.
The input will be such that no two sparks will be lit at the same time.</div>
<h3>输出格式</h3>
<br />
<div>Output N decimal numbers,each on a single line,the times at which the sparks light up,in order from spark 1 to N. Your output must be accurate to ±0.01.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
1 1 1 2 3 4
1 2 1 4 1 3
2 1 1 2 1 4
2 2 1 3 2 1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>0.000000
1.000000
3.000000
2.000000</code></pre>
</article>
</div>
</div>
</body>
</html>
