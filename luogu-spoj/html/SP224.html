<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>VONNY - Vonny and her dominos - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449555:fVi53qeDpGz0nAj4qWdo2H8kITUHmwi1kdjZHQZecqU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Vonny%20loves%20playing%20with%20dominos.%20And%20so%20she%20owns%20a%20standard%20set%20of%20dominos.%20A%20standard%20set%20of%20dominos%20consists%20of%2028%20pieces%20called%20bones%2C%20tiles%20or%20stones.%20Each%20bone%20is%20a%20rectangular%20tile%20with%20a%20line%20dividing%20its%20face%20into%20two%20square%20ends.%20Each%20square%20is%20labeled%20with%20a%20number%20between%200%20and%206.%20The%2028%20stones%20are%20labeled%20%280%2C0%29%2C%280%2C1%29%2C%280%2C2%29%2C%280%2C3%29%2C%280%2C4%29%2C%280%2C5%29%2C%280%2C6%29%2C%20%281%2C1%29%2C%281%2C2%29%2C...%2C%285%2C5%29%2C%285%2C6%29%2C%286%2C6%29.%20Tommy%20-%20the%20brother%20of%20Vonny%20-%20build%20a%20box%20for%20Vonny%27s%20dominos.%20This%20box%20is%20sized%207%20x%208%20squares.%20Every%20square%20is%20labeled%20with%20a%20number%20between%200%20and%206.%20You%20can%20see%20a%20example%20box%20here.%5Cn%5Cn%20%60%60%60%5Cn0%203%200%202%202%200%202%203%20%5Cn1%205%206%205%205%201%202%202%20%5Cn3%204%201%204%205%204%204%204%20%5Cn6%206%201%200%205%202%203%200%20%5Cn4%200%203%202%204%201%206%200%20%5Cn1%204%201%205%206%206%203%200%20%5Cn1%202%206%205%205%206%203%203%20%5Cn%60%60%60%5CnNow%20Vonny%20wants%20to%20arrange%20her%2028%20stones%20in%20such%20way%20that%20her%20stones%20cover%20all%20squares%20of%20the%20box.%20A%20stone%20can%20only%20be%20placed%20on%20two%20adjacent%20squares%20if%20the%20numbers%20of%20the%20squares%20and%20of%20the%20domino%20stone%20are%20equal.%20Tommy%20asks%20Vonny%20in%20how%20many%20different%20ways%20she%20can%20arrange%20the%20dominos.%20Tommy%20assumes%20that%20Vonny%20need%20a%20lot%20of%20time%20to%20answer%20the%20question.%20And%20so%20he%20can%20take%20some%20of%20Vonny%27s%20candies%20while%20she%20solves%20the%20task.%20But%20Vonny%20is%20a%20smart%20and%20clever%20girl.%20She%20asks%20you%20to%20solve%20the%20task%20and%20keeps%20an%20eye%20on%20her%20candies.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20the%20number%20of%20testcases.%20Each%20case%20consists%20of%2056%20numbers%20%287%20rows%20and%208%20cols%29%20between%200%20and%206%20which%20represents%20Tommy%27s%20box.%22%2C%22outputFormat%22%3A%22For%20each%20testcase%20output%20a%20single%20line%20with%20the%20number%20which%20answers%20Tommy%27s%20question.%22%2C%22samples%22%3A%5B%5B%222%5Cr%5Cn0%203%200%202%202%200%202%203%20%5Cr%5Cn1%205%206%205%205%201%202%202%20%5Cr%5Cn3%204%201%204%205%204%204%204%20%5Cr%5Cn6%206%201%200%205%202%203%200%20%5Cr%5Cn4%200%203%202%204%201%206%200%20%5Cr%5Cn1%204%201%205%206%206%203%200%20%5Cr%5Cn1%202%206%205%205%206%203%203%20%5Cr%5Cn%5Cr%5Cn5%203%201%200%200%201%206%203%20%5Cr%5Cn0%202%200%204%201%202%205%202%20%5Cr%5Cn1%205%203%205%206%204%206%204%20%5Cr%5Cn0%205%200%202%200%204%206%202%20%5Cr%5Cn4%205%203%206%200%206%201%201%20%5Cr%5Cn2%203%205%203%204%204%205%203%20%5Cr%5Cn2%201%201%206%206%202%204%203%22%2C%2218%5Cr%5Cn1%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B20000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F224%22%2C%22id%22%3A%22224%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP224%22%2C%22title%22%3A%22VONNY%20-%20Vonny%20and%20her%20dominos%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22VONNY%20-%20Vonny%20and%20her%20dominos%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>VONNY - Vonny and her dominos</h1>
<h2>题目描述</h2>
<div>Vonny loves playing with dominos. And so she owns a standard set of dominos. A standard set of dominos consists of 28 pieces called bones, tiles or stones. Each bone is a rectangular tile with a line dividing its face into two square ends. Each square is labeled with a number between 0 and 6. The 28 stones are labeled (0,0),(0,1),(0,2),(0,3),(0,4),(0,5),(0,6), (1,1),(1,2),...,(5,5),(5,6),(6,6). Tommy - the brother of Vonny - build a box for Vonny's dominos. This box is sized 7 x 8 squares. Every square is labeled with a number between 0 and 6. You can see a example box here.
```
0 3 0 2 2 0 2 3
1 5 6 5 5 1 2 2
3 4 1 4 5 4 4 4
6 6 1 0 5 2 3 0
4 0 3 2 4 1 6 0
1 4 1 5 6 6 3 0
1 2 6 5 5 6 3 3
```
Now Vonny wants to arrange her 28 stones in such way that her stones cover all squares of the box. A stone can only be placed on two adjacent squares if the numbers of the squares and of the domino stone are equal. Tommy asks Vonny in how many different ways she can arrange the dominos. Tommy assumes that Vonny need a lot of time to answer the question. And so he can take some of Vonny's candies while she solves the task. But Vonny is a smart and clever girl. She asks you to solve the task and keeps an eye on her candies.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains the number of testcases. Each case consists of 56 numbers (7 rows and 8 cols) between 0 and 6 which represents Tommy's box.</div>
<h3>输出格式</h3>
<br />
<div>For each testcase output a single line with the number which answers Tommy's question.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
0 3 0 2 2 0 2 3 
1 5 6 5 5 1 2 2 
3 4 1 4 5 4 4 4 
6 6 1 0 5 2 3 0 
4 0 3 2 4 1 6 0 
1 4 1 5 6 6 3 0 
1 2 6 5 5 6 3 3 

5 3 1 0 0 1 6 3 
0 2 0 4 1 2 5 2 
1 5 3 5 6 4 6 4 
0 5 0 2 0 4 6 2 
4 5 3 6 0 6 1 1 
2 3 5 3 4 4 5 3 
2 1 1 6 6 2 4 3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>18
1</code></pre>
</article>
</div>
</div>
</body>
</html>
