<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>UCBINTE - Hogwarts - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450555:Ypz7nWWZWWv4swrLG1A8ZWmgxuUCh0SWooztgsT5ofc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22The%20new%20semester%20at%20Hogwarts%20has%20just%20started%2C%20but%20something%20is%20not%20quite%20right%20%5Cu2014%20the%20staircases%20are%20not%20cooperating%20with%20the%20school%20administrators%21%20Hogwarts%20has%20a%20single%20room%20of%20movable%20staircases%20connecting%20the%20N%20floors.%20There%20are%20M%20staircases%20in%20total%2C%20and%20no%20two%20staircases%20connect%20the%20same%20pair%20of%20floors%20%28and%2C%20obviously%2C%20a%20staircase%20would%20not%20connect%20a%20floor%20to%20itself%20%5Cu2014%20these%20are%20smart%20magic%20staircases%20with%20dignity%29.%20The%20only%20way%20to%20manipulate%20the%20staircases%20is%20by%20pressing%20red%20and%20green%20buttons%20located%20on%20each%20floor.%20The%20floors%20are%20labeled%20in%20some%20manner%20by%20the%20integers%200%20through%20N%20%5Cu2212%201.%20Pressing%20the%20red%20button%20on%20floor%20i%20%280%20i%20N%20%5Cu2212%201%29%20has%20the%20following%20effect%20on%20the%20staircases.%20Any%20staircase%20that%20is%20currently%20not%20connected%20to%20floor%20i%20does%20not%20move.%20Suppose%20a%20staircase%20connects%20floors%20i%20and%20j%20%28j%20%5Cu2260%20i%29.%20After%20pressing%20the%20red%20button%20on%20floor%20i%2C%20it%20will%20instead%20connect%20floors%20i%20and%20j%20%2B%201%20mod%20N%20%5Cu2014unless%20j%20%2B%201%20mod%20N%20%3D%20i%2C%20in%20which%20case%20it%20will%20connect%20floors%20i%20and%20j%20%2B2%20mod%20N%20%3D%20i%2B1%20mod%20N%20instead.%20Pressing%20the%20green%20button%20is%20simply%20the%20inverse%20operation%20of%20pressing%20the%20red%20one%20on%20the%20same%20floor%20%28or%2C%20equivalently%2C%20the%20same%20as%20pressing%20the%20red%20one%20N%20%5Cu2212%202%20times%29.%5Cn%5CnWhile%20alone%2C%20the%20staircases%20got%20all%20messed%20up.%20The%20school%20adminstrators%20have%20presented%20a%20plan%20for%20how%20they%20would%20rather%20like%20the%20staircases%20to%20be%20placed.%5Cn%5CnYou%2C%20a%20low-ranking%20house%20elf%2C%20have%20been%20given%20the%20task%20to%20fix%20this.%5Cn%5CnFind%20some%20sequence%20of%20at%20most%20250%20000%20button%20presses%20that%20will%20change%20the%20staircase%20room%20from%20its%20current%20state%20to%20the%20desired%20state.%22%2C%22inputFormat%22%3A%22There%20is%20a%20single%20test%20case.%20On%20the%20first%20line%20N%20and%20M%20are%20given%20%283%20N%2050%2C%200%20M%20N%28N%20%5Cu2212%201%29%5Cu20442%29.%5Cn%5CnThen%20follow%20M%20lines%20with%20pairs%20of%20integers%20i%2C%20j%20%280%20i%2C%20j%20N%20%5Cu2212%201%29%2C%20describing%20the%20current%20state%20of%20the%20room%20of%20staircases.%20Each%20such%20line%20means%20that%20there%20is%20a%20staircase%20connecting%20floors%20i%20and%20j.%20After%20this%20follow%20another%20M%20lines%20with%20pairs%20of%20integers%20i%2C%20j%2C%20describing%20the%20desired%20state%20of%20the%20room%20of%20staircases.%22%2C%22outputFormat%22%3A%22On%20the%20first%20line%20of%20output%2C%20write%20a%20single%20integer%20Q%20%280%20250%20000%29%2C%20the%20length%20of%20your%20sequence%20of%20button%20presses.%20Then%20print%20Q%20lines%2C%20each%20being%20either%20%5C%22R%20i%5C%22%20or%20%5C%22G%20i%5C%22%20for%20some%20i%20%280%20N%20%5Cu2212%201%29%2C%20meaning%20that%20the%20red%20or%20green%20button%20on%20floor%20i%20should%20be%20pressed.%22%2C%22samples%22%3A%5B%5B%225%204%5Cr%5Cn0%201%5Cr%5Cn0%203%5Cr%5Cn1%202%5Cr%5Cn2%204%5Cr%5Cn0%202%5Cr%5Cn0%204%5Cr%5Cn2%203%5Cr%5Cn2%204%22%2C%222%5Cr%5CnR%200%5Cr%5CnG%202%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F20983%22%2C%22id%22%3A%2220983%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP20983%22%2C%22title%22%3A%22UCBINTE%20-%20Hogwarts%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22UCBINTE%20-%20Hogwarts%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>UCBINTE - Hogwarts</h1>
<h2>题目描述</h2>
<div>The new semester at Hogwarts has just started, but something is not quite right — the staircases are not cooperating with the school administrators! Hogwarts has a single room of movable staircases connecting the N floors. There are M staircases in total, and no two staircases connect the same pair of floors (and, obviously, a staircase would not connect a floor to itself — these are smart magic staircases with dignity). The only way to manipulate the staircases is by pressing red and green buttons located on each floor. The floors are labeled in some manner by the integers 0 through N − 1. Pressing the red button on floor i (0 i N − 1) has the following effect on the staircases. Any staircase that is currently not connected to floor i does not move. Suppose a staircase connects floors i and j (j ≠ i). After pressing the red button on floor i, it will instead connect floors i and j + 1 mod N —unless j + 1 mod N = i, in which case it will connect floors i and j +2 mod N = i+1 mod N instead. Pressing the green button is simply the inverse operation of pressing the red one on the same floor (or, equivalently, the same as pressing the red one N − 2 times).
While alone, the staircases got all messed up. The school adminstrators have presented a plan for how they would rather like the staircases to be placed.
You, a low-ranking house elf, have been given the task to fix this.
Find some sequence of at most 250 000 button presses that will change the staircase room from its current state to the desired state.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>There is a single test case. On the first line N and M are given (3 N 50, 0 M N(N − 1)⁄2).
Then follow M lines with pairs of integers i, j (0 i, j N − 1), describing the current state of the room of staircases. Each such line means that there is a staircase connecting floors i and j. After this follow another M lines with pairs of integers i, j, describing the desired state of the room of staircases.</div>
<h3>输出格式</h3>
<br />
<div>On the first line of output, write a single integer Q (0 250 000), the length of your sequence of button presses. Then print Q lines, each being either "R i" or "G i" for some i (0 N − 1), meaning that the red or green button on floor i should be pressed.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 4
0 1
0 3
1 2
2 4
0 2
0 4
2 3
2 4</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
R 0
G 2</code></pre>
</article>
</div>
</div>
</body>
</html>
