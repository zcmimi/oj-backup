<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>BGAME - Game on board - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449810:l2w6auIzBjhtzLUUq8dNrRpX2jLepujTsF+yrtAg3J4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BEnglish%5D%28%5C%2Fproblems%5C%2FBGAME%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FBGAME%5C%2Fvn%5C%2F%29Two%20players%2C%20A%20and%20B%2C%20play%20a%20game%20on%20a%20square%20board%20of%20size%20n%5Cu00d7n.%20The%20squares%20of%20the%20board%20are%20either%20white%20or%20black.%20The%20game%20is%20played%20only%20on%20the%20white%20squares%20%5Cu2014%20the%20black%20ones%20are%20excluded%20from%20the%20game.%20Each%20player%20has%20one%20piece%2C%20initially%20placed%20at%20this%20player%5Cu2019s%20starting%20point%20%5Cu2014%20one%20of%20the%20white%20squares%20on%20the%20board.%20The%20starting%20point%20of%20A%20is%20different%20than%20that%20of%20B.%5Cn%5CnIn%20each%20move%20a%20player%20moves%20his%20piece%20to%20one%20of%20the%20neighboring%20white%20squares%20%28either%20up%2C%20down%2C%20left%20or%20right%29.%20If%20the%20player%20moves%20his%20piece%20to%20the%20square%20currently%20occupied%20by%20his%20opponent%5Cu2019s%20piece%2C%20he%20gets%20an%20extra%20move%20%28this%20way%20he%20jumps%20over%20the%20opponent%29.%20Note%20that%20in%20this%20case%20the%20direction%20of%20the%20second%20move%20can%20be%20different%20than%20that%20of%20the%20first%20move.%5Cn%5Cn%20Player%20A%20moves%20first%2C%20then%20players%20alternate.%20The%20goal%20of%20the%20game%20is%20to%20reach%20the%20opponent%5Cu2019s%20starting%20point.%20The%20player%20whose%20piece%20reaches%20his%20opponent%5Cu2019s%20starting%20point%20first%2C%20wins%20the%20game.%20Even%20if%20the%20player%5Cu2019s%20last%20move%20consists%20of%20two%20jumps%2C%20and%20he%20only%20jumps%20over%20his%20opponent%5Cu2019s%20starting%20point%20%28since%20it%20is%20occupied%20by%20his%20opponent%29%2C%20the%20player%20wins.%20We%20want%20to%20determine%20which%20player%20has%20a%20winning%20strategy%20%28a%20player%20has%20a%20winning%20trategy%20if%20he%20can%20win%20regardless%20of%20his%20opponent%5Cu2019s%20moves%29.%5Cn%5Cn%20%20%20%5Cn%23%23%23%20Task%5Cn%5Cn%20Write%20a%20program%2C%20that%3A%5Cn%5Cn-%20reads%20the%20layout%20of%20the%20grid%20and%20the%20starting%20points%20of%20the%20two%20players%20from%20the%20standard%20input%2C%5Cn-%20finds%20the%20player%20who%20has%20a%20winning%20strategy%2C%5Cn-%20writes%20the%20result%20to%20the%20standard%20output.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20input%20contains%20one%20integer%20t%20the%20number%20of%20test%20cases%20%281%20%5Cu2264%20t%20%5Cu2264%2010%20%29.%20After%20it%20the%20description%20of%20t%20tests%20appears.%20Each%20test%20is%20described%20as%20follows.%20In%20the%20first%20line%20of%20the%20test%20there%20is%20one%20integer%20n%20%282%20%5Cu2264%20n%20%5Cu2264%20300%20%29%2C%20the%20length%20of%20the%20side%20of%20the%20grid.%20Then%20next%20n%20lines%20contain%20the%20description%20of%20the%20grid.%20Each%20line%20consists%20of%20n%20characters%20%28with%20no%20whitespaces%20between%20them%29.%20Each%20character%20is%20either%20%5Cu2019.%5Cu2019%20a%20white%20square%29%2C%20%5Cu2019%23%5Cu2019%20%28a%20black%20square%29%2C%20%5Cu2019A%5Cu2019%20%28the%20starting%20point%20of%20A%29%20or%20%5Cu2019B%5Cu2019%20%28the%20starting%20point%20of%20B%29.%5Cn%5Cn%20You%20may%20assume%20that%20there%20exists%20a%20path%20of%20white%20squares%20between%20the%20starting%20points%20of%20A%20and%20B.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%20exactly%20one%20line%20should%20be%20printed%20to%20standard%20output%20containing%20a%20single%20character%20%5Cu2019A%5Cu2019%20or%20%5Cu2019B%5Cu2019%2C%20indicating%20the%20player%20who%20has%20a%20winning%20strategy.%22%2C%22samples%22%3A%5B%5B%222%5Cr%5Cn4%5Cr%5CnA...%5Cr%5Cn.%23..%5Cr%5Cn....%5Cr%5Cn...B%5Cr%5Cn4%5Cr%5CnA...%5Cr%5Cn....%5Cr%5Cn..%23.%5Cr%5Cn...B%22%2C%22B%5Cr%5CnA%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B26000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3533%22%2C%22id%22%3A%223533%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP3533%22%2C%22title%22%3A%22BGAME%20-%20Game%20on%20board%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22BGAME%20-%20Game%20on%20board%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>BGAME - Game on board</h1>
<h2>题目描述</h2>
<div>[English](/problems/BGAME/en/) [Vietnamese](/problems/BGAME/vn/)Two players, A and B, play a game on a square board of size n×n. The squares of the board are either white or black. The game is played only on the white squares — the black ones are excluded from the game. Each player has one piece, initially placed at this player’s starting point — one of the white squares on the board. The starting point of A is different than that of B.
In each move a player moves his piece to one of the neighboring white squares (either up, down, left or right). If the player moves his piece to the square currently occupied by his opponent’s piece, he gets an extra move (this way he jumps over the opponent). Note that in this case the direction of the second move can be different than that of the first move.
Player A moves first, then players alternate. The goal of the game is to reach the opponent’s starting point. The player whose piece reaches his opponent’s starting point first, wins the game. Even if the player’s last move consists of two jumps, and he only jumps over his opponent’s starting point (since it is occupied by his opponent), the player wins. We want to determine which player has a winning strategy (a player has a winning trategy if he can win regardless of his opponent’s moves).
### Task
Write a program, that:
- reads the layout of the grid and the starting points of the two players from the standard input,
- finds the player who has a winning strategy,
- writes the result to the standard output.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the standard input contains one integer t the number of test cases (1 ≤ t ≤ 10 ). After it the description of t tests appears. Each test is described as follows. In the first line of the test there is one integer n (2 ≤ n ≤ 300 ), the length of the side of the grid. Then next n lines contain the description of the grid. Each line consists of n characters (with no whitespaces between them). Each character is either ’.’ a white square), ’#’ (a black square), ’A’ (the starting point of A) or ’B’ (the starting point of B).
You may assume that there exists a path of white squares between the starting points of A and B.</div>
<h3>输出格式</h3>
<br />
<div>For each test case exactly one line should be printed to standard output containing a single character ’A’ or ’B’, indicating the player who has a winning strategy.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
4
A...
.#..
....
...B
4
A...
....
..#.
...B</code></pre>
<h3>输出样例 #1</h3>
<pre><code>B
A</code></pre>
</article>
</div>
</div>
</body>
</html>
