<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>EARTHQK - Earthquakes - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449815:pi8uclE1K/L95JPKA04WHqRWjFEB2LvBlMeIZWhPh84=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BEnglish%5D%28%5C%2Fproblems%5C%2FEARTHQK%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FEARTHQK%5C%2Fvn%5C%2F%29%20In%203010%2C%20a%20group%20of%20people%20from%20the%20Earth%20has%20moved%20to%20live%20in%20the%20planet%20Alpha.%20Because%20the%20climatic%20condition%20of%20the%20planet%20is%20very%20severe%2C%20only%20a%20certain%20part%20of%20land%20can%20be%20cultivated.%5Cn%5Cn%20Suppose%20that%20the%20surface%20of%20the%20planet%20is%20a%20plane%2C%20and%20the%20cultivable%20land%20has%20the%20shape%20of%20a%20non%20self-cutting%20polygon%20which%20has%20N%20vertices%20with%20coordinates%20%28X1%2C%20Y1%29%2C%20%28X2%2C%20Y2%29%2C%20...%2C%20%28Xn%20%2C%20Yn%29%2C%20listed%20in%20a%20traversal%20order%20around%20the%20polygon.%20On%20the%20cultivable%20land%2C%20the%20group%20of%20people%20from%20Earth%20lives%20in%20a%20research%20station%20at%20position%20%28Xp%2C%20Yp%29.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP3641%5C%2F3ed4eeaf3a835ca9a0df764930180e22b2f93486.png%29%20On%20the%20planet%20Alpha%2C%20earthquakes%20often%20occur.%20Each%20time%20an%20earthquake%20occurs%2C%20a%20crack%20is%20created%20that%20people%20can%20not%20move%20through.%20This%20crack%20can%20go%20through%20the%20cultivable%20land%20and%20divide%20the%20cultivable%20land%20into%20separated%20parts.%20Luckily%2C%20the%20crack%20never%20crosses%20the%20research%20station.%20The%20example%20in%20the%20figure%20above%20shows%20two%20cracks%20divide%20the%20cultivable%20land%20into%20three%20separated%20parts%2C%20and%20the%20area%20of%20cultivable%20land%20that%20the%20group%20of%20people%20living%20in%20the%20research%20station%20can%20reach%20after%20two%20earthquakes%20is%2022.%5Cn%5Cn%20Let%27s%20assume%20that%20there%20are%20M%20earthquakes%20occurred%2C%20which%20are%20numbered%20from%201%20to%20M.%20Each%20earthquake%20generated%20a%20crack%20that%20is%20described%20by%20a%20line%20passing%20through%20two%20points%20%28Xj1%2C%20Yj1%29%20and%20%28Xj2%2C%20Yj2%29%20%28j%3D1..M%29.%5Cn%5Cn%20Your%20task%20is%20to%20write%20a%20program%20to%20calculate%20the%20area%20of%20cultivable%20land%20that%20the%20group%20of%20people%20living%20in%20the%20research%20station%20in%20position%20%28Xp%2C%20Yp%29%20can%20reach%20after%20M%20earthquakes.%22%2C%22inputFormat%22%3A%22%20The%20input%20file%20consists%20of%20several%20data%20sets.%20The%20first%20line%20of%20the%20input%20file%20contains%20the%20number%20of%20data%20sets%20which%20is%20a%20positive%20integer%20and%20is%20not%20bigger%20than%2020.%20The%20following%20lines%20describe%20the%20data%20sets.%5Cn%5Cn%20For%20each%20data%20test%2C%20the%20first%20line%20contains%20the%20integer%20N%20%283%20%5Cu2264%20N%20%5Cu2264%201000%29.%20The%20ith%20line%20of%20the%20following%20N%20lines%20contains%20two%20integers%20Xi%20and%20Yi%20%28-10000%20%5Cu2264%20Xi%2CYi%20%5Cu2264%2010000%29%20separated%20by%20space%2C%20denoting%20the%20coordinates%20of%20ith%20vertex%20of%20the%20polygon%2C%20representing%20the%20cultivable%20land.%20The%20next%20line%20contains%20two%20integers%20%28Xp%2CYp%29%20%28-10000%20%5Cu2264%20Xp%2CYp%20%5Cu2264%2010000%29%20separated%20by%20space%2C%20denoting%20the%20coordinates%20of%20the%20research%20station.%20The%20next%20line%20contains%20the%20integer%20M%20%281%20%5Cu2264%20M%20%5Cu2264%201000%29.%20The%20jth%20line%20of%20the%20following%20M%20lines%20contains%20four%20integers%20Xj1%2C%20Yj1%2C%20Xj2%2C%20and%20Yj2%20separated%20by%20space%2C%20describing%20the%20line%20representing%20the%20crack%20created%20by%20the%20jth%20earthquake.%22%2C%22outputFormat%22%3A%22%20For%20each%20data%20test%2C%20write%20in%20one%20line%20an%20integer%20indicating%20the%20integer%20part%20of%20%28s%20%5C%5C%2A%20100%29%20where%20s%20is%20the%20area%20of%20reachable%20cultivable%20land%20after%20M%20earthquakes.%22%2C%22samples%22%3A%5B%5B%222%5Cr%5Cn3%5Cr%5Cn0%200%5Cr%5Cn2%200%5Cr%5Cn0%202%5Cr%5Cn0%200%5Cr%5Cn1%5Cr%5Cn1%201%201%200%5Cr%5Cn6%5Cr%5Cn1%201%5Cr%5Cn9%201%5Cr%5Cn9%205%5Cr%5Cn5%205%5Cr%5Cn5%208%5Cr%5Cn1%208%5Cr%5Cn5%203%5Cr%5Cn2%5Cr%5Cn1%201%205%208%5Cr%5Cn7%201%207%202%22%2C%22150%5Cr%5Cn2200%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B100%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3641%22%2C%22id%22%3A%223641%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP3641%22%2C%22title%22%3A%22EARTHQK%20-%20Earthquakes%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22EARTHQK%20-%20Earthquakes%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>EARTHQK - Earthquakes</h1>
<h2>题目描述</h2>
<div>[English](/problems/EARTHQK/en/) [Vietnamese](/problems/EARTHQK/vn/) In 3010, a group of people from the Earth has moved to live in the planet Alpha. Because the climatic condition of the planet is very severe, only a certain part of land can be cultivated.
Suppose that the surface of the planet is a plane, and the cultivable land has the shape of a non self-cutting polygon which has N vertices with coordinates (X1, Y1), (X2, Y2), ..., (Xn , Yn), listed in a traversal order around the polygon. On the cultivable land, the group of people from Earth lives in a research station at position (Xp, Yp).
![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP3641/3ed4eeaf3a835ca9a0df764930180e22b2f93486.png) On the planet Alpha, earthquakes often occur. Each time an earthquake occurs, a crack is created that people can not move through. This crack can go through the cultivable land and divide the cultivable land into separated parts. Luckily, the crack never crosses the research station. The example in the figure above shows two cracks divide the cultivable land into three separated parts, and the area of cultivable land that the group of people living in the research station can reach after two earthquakes is 22.
Let's assume that there are M earthquakes occurred, which are numbered from 1 to M. Each earthquake generated a crack that is described by a line passing through two points (Xj1, Yj1) and (Xj2, Yj2) (j=1..M).
Your task is to write a program to calculate the area of cultivable land that the group of people living in the research station in position (Xp, Yp) can reach after M earthquakes.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> The input file consists of several data sets. The first line of the input file contains the number of data sets which is a positive integer and is not bigger than 20. The following lines describe the data sets.
For each data test, the first line contains the integer N (3 ≤ N ≤ 1000). The ith line of the following N lines contains two integers Xi and Yi (-10000 ≤ Xi,Yi ≤ 10000) separated by space, denoting the coordinates of ith vertex of the polygon, representing the cultivable land. The next line contains two integers (Xp,Yp) (-10000 ≤ Xp,Yp ≤ 10000) separated by space, denoting the coordinates of the research station. The next line contains the integer M (1 ≤ M ≤ 1000). The jth line of the following M lines contains four integers Xj1, Yj1, Xj2, and Yj2 separated by space, describing the line representing the crack created by the jth earthquake.</div>
<h3>输出格式</h3>
<br />
<div> For each data test, write in one line an integer indicating the integer part of (s \* 100) where s is the area of reachable cultivable land after M earthquakes.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
3
0 0
2 0
0 2
0 0
1
1 1 1 0
6
1 1
9 1
9 5
5 5
5 8
1 8
5 3
2
1 1 5 8
7 1 7 2</code></pre>
<h3>输出样例 #1</h3>
<pre><code>150
2200</code></pre>
</article>
</div>
</div>
</body>
</html>
