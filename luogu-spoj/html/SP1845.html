<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MICEMAZE - Mice and Maze - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449691:CDFbDYN6mQAat6MuICMIlfr6VkIX/6urSB1JCwdGeJQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22MathJax.Hub.Config%28%7B%5Cr%5Cn%20%20tex2jax%3A%20%7B%5Cr%5Cn%20%20%20%20inlineMath%3A%20%5B%5B%27%24%27%2C%27%24%27%5D%2C%20%5B%27%5C%5C%5C%5C%28%27%2C%27%5C%5C%5C%5C%29%27%5D%5D%2C%5Cr%5Cn%20%20%20%20skipTags%3A%20%5B%5C%22script%5C%22%2C%5C%22noscript%5C%22%2C%5C%22style%5C%22%2C%5C%22textarea%5C%22%2C%5C%22code%5C%22%5D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%29%3B%5Cr%5Cn%20A%20set%20of%20laboratory%20mice%20is%20being%20trained%20to%20escape%20a%20maze.%20The%20maze%20is%20made%20up%20of%20cells%2C%20and%20each%20cell%20is%20connected%20to%20some%20other%20cells.%20However%2C%20there%20are%20obstacles%20in%20the%20passage%20between%20cells%20and%20therefore%20there%20is%20a%20time%20penalty%20to%20overcome%20the%20passage%20Also%2C%20some%20passages%20allow%20mice%20to%20go%20one-way%2C%20but%20not%20the%20other%20way%20round.%5Cn%5Cn%20Suppose%20that%20all%20mice%20are%20now%20trained%20and%2C%20when%20placed%20in%20an%20arbitrary%20cell%20in%20the%20maze%2C%20take%20a%20path%20that%20leads%20them%20to%20the%20exit%20cell%20in%20minimum%20time.%5Cn%5Cn%20We%20are%20going%20to%20conduct%20the%20following%20experiment%3A%20a%20mouse%20is%20placed%20in%20each%20cell%20of%20the%20maze%20and%20a%20count-down%20timer%20is%20started.%20When%20the%20timer%20stops%20we%20count%20the%20number%20of%20mice%20out%20of%20the%20maze.%20%20%20%5CnProblem%5Cn%5C%5C-------%5Cn%5Cn%20Write%20a%20program%20that%2C%20given%20a%20description%20of%20the%20maze%20and%20the%20time%20limit%2C%20predicts%20the%20number%20of%20mice%20that%20will%20exit%20the%20maze.%20Assume%20that%20there%20are%20no%20bottlenecks%20is%20the%20maze%2C%20i.e.%20that%20all%20cells%20have%20room%20for%20an%20arbitrary%20number%20of%20mice.%22%2C%22inputFormat%22%3A%22%20The%20maze%20cells%20are%20numbered%20%241%2C%202%2C%20%5C%5C%5C%5Cldots%2C%20N%24%2C%20where%20%24N%24%20is%20the%20total%20number%20of%20cells.%20You%20can%20assume%20that%20%24N%20%5C%5C%5C%5Cle%20100%24.%5Cn%5Cn%20The%20first%20three%20input%20lines%20contain%20%24N%24%2C%20the%20number%20of%20cells%20in%20the%20maze%2C%20%24E%24%2C%20the%20number%20of%20the%20exit%20cell%2C%20and%20the%20starting%20value%20%24T%24%20for%20the%20count-down%20timer%20%28in%20some%20arbitrary%20time%20unit%29.%5Cn%5Cn%20The%20fourth%20line%20contains%20the%20number%20%24M%24%20of%20connections%20in%20the%20maze%2C%20and%20is%20followed%20by%20%24M%24%20lines%2C%20each%20specifying%20a%20connection%20with%20three%20integer%20numbers%3A%20two%20cell%20numbers%20%24a%24%20and%20%24b%24%20%28in%20the%20range%20%241%2C%20%5C%5C%5C%5Cldots%2C%20N%24%29%20and%20the%20number%20of%20time%20units%20it%20takes%20to%20travel%20from%20%24a%24%20to%20%24b%24.%5Cn%5Cn%20Notice%20that%20each%20connection%20is%20one-way%2C%20i.e.%2C%20the%20mice%20can%27t%20travel%20from%20%24b%24%20to%20%24a%24%20unless%20there%20is%20another%20line%20specifying%20that%20passage.%20Notice%20also%20that%20the%20time%20required%20to%20travel%20in%20each%20direction%20might%20be%20different.%22%2C%22outputFormat%22%3A%22%20The%20output%20consists%20of%20a%20single%20line%20with%20the%20number%20of%20mice%20that%20reached%20the%20exit%20cell%20%24E%24%20in%20at%20most%20%24T%24%20time%20units.%22%2C%22samples%22%3A%5B%5B%224%20%5Cr%5Cn2%20%5Cr%5Cn1%5Cr%5Cn8%5Cr%5Cn1%202%201%5Cr%5Cn1%203%201%5Cr%5Cn2%201%201%5Cr%5Cn2%204%201%5Cr%5Cn3%201%201%5Cr%5Cn3%204%201%5Cr%5Cn4%202%201%5Cr%5Cn4%203%201%22%2C%223%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B310%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F1845%22%2C%22id%22%3A%221845%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A1%2C%22pid%22%3A%22SP1845%22%2C%22title%22%3A%22MICEMAZE%20-%20Mice%20and%20Maze%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MICEMAZE%20-%20Mice%20and%20Maze%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MICEMAZE - Mice and Maze</h1>
<h2>题目描述</h2>
<div>MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
skipTags: ["script","noscript","style","textarea","code"]
}
});
A set of laboratory mice is being trained to escape a maze. The maze is made up of cells, and each cell is connected to some other cells. However, there are obstacles in the passage between cells and therefore there is a time penalty to overcome the passage Also, some passages allow mice to go one-way, but not the other way round.
Suppose that all mice are now trained and, when placed in an arbitrary cell in the maze, take a path that leads them to the exit cell in minimum time.
We are going to conduct the following experiment: a mouse is placed in each cell of the maze and a count-down timer is started. When the timer stops we count the number of mice out of the maze.
Problem
\-------
Write a program that, given a description of the maze and the time limit, predicts the number of mice that will exit the maze. Assume that there are no bottlenecks is the maze, i.e. that all cells have room for an arbitrary number of mice.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> The maze cells are numbered $1, 2, \\ldots, N$, where $N$ is the total number of cells. You can assume that $N \\le 100$.
The first three input lines contain $N$, the number of cells in the maze, $E$, the number of the exit cell, and the starting value $T$ for the count-down timer (in some arbitrary time unit).
The fourth line contains the number $M$ of connections in the maze, and is followed by $M$ lines, each specifying a connection with three integer numbers: two cell numbers $a$ and $b$ (in the range $1, \\ldots, N$) and the number of time units it takes to travel from $a$ to $b$.
Notice that each connection is one-way, i.e., the mice can't travel from $b$ to $a$ unless there is another line specifying that passage. Notice also that the time required to travel in each direction might be different.</div>
<h3>输出格式</h3>
<br />
<div> The output consists of a single line with the number of mice that reached the exit cell $E$ in at most $T$ time units.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 
2 
1
8
1 2 1
1 3 1
2 1 1
2 4 1
3 1 1
3 4 1
4 2 1
4 3 1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3</code></pre>
</article>
</div>
</div>
</body>
</html>
