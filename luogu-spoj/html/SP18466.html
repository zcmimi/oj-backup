<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>UOFTCD - A Frightening Evening - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450509:RkCK/erankh/4VYINoTktaWpYrQAqfB1198u8joBt0c=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Bob%20is%20taking%20Alice%20out%20for%20an%20evening%20at%20the%20movies%21%20He%27ll%20be%20deciding%20what%20movies%20they%20see%2C%20of%20course%2C%20and%20he%27s%20got%20%24%20N%20%24%20%28%20%24%201%20%5C%5Cleq%20N%20%5C%5Cleq%20100%20%24%20%29%20awesome%20ones%20in%20mind.%20All%20of%20them%20happen%20to%20be%20horror%20movies.%5Cn%5CnA%20given%20movie%20is%20%24%20D%20%24%20%28%20%24%201%20%5C%5Cleq%20D%20%5C%5Cleq%2010%5E9%20%24%20%29%20minutes%20long%2C%20and%20has%20%24%20M%20%24%20%28%20%24%200%20%5C%5Cleq%20M%20%5C%5Cleq%20100%20%24%20%29%20key%20moments.%20The%20%24%20i%20%24%20th%20moment%20occurs%20%24%20T_i%20%24%20minutes%20into%20the%20movie%2C%20and%20causes%20Alice%27s%20fright%20level%20%28which%20starts%20at%200%29%20to%20instantly%20increase%20by%20%24%20F_i%20%24%20%28%20%24%20-10%5E6%20%5C%5Cleq%20F_i%20%5C%5Cleq%2010%5E6%20%24%20%29.%20If%20her%20fright%20level%20would%20become%20negative%2C%20it%20instead%20becomes%200.%20The%20moments%20are%20given%20in%20chronological%20order%2C%20so%20%24%200%20%5C%5Cleq%20T_1%20%26lt%3B%20T_2%20%26lt%3B%20%5C%5Cdots%20%26lt%3B%20T_M%20%5C%5Cleq%20D%20%24%20.%20As%20soon%20as%20the%20movie%20ends%2C%20Alice%27s%20fright%20level%20is%20instantly%20reset%20to%200.%5Cn%5CnDuring%20each%20movie%2C%20Alice%20has%20two%20fright%20thresholds%2C%20%24%20H%20%24%20and%20%24%20L%20%24%20%28%20%24%201%20%5C%5Cleq%20H%20%26lt%3B%20L%20%5C%5Cleq%2010%5E9%20%24%20%29.%20Whenever%20her%20fright%20level%20is%20at%20least%20%24%20H%20%24%20%2C%20Bob%20is%20obligated%20to%20hold%20her%20hand.%20However%2C%20as%20soon%20as%20her%20fright%20level%20is%20at%20least%20%24%20L%20%24%20%2C%20she%27ll%20be%20scared%20enough%20to%20leave%20the%20theatre%20-%20at%20which%20point%2C%20Bob%20will%20stay%20inside%20and%20finish%20the%20movie%2C%20and%20will%20of%20course%20no%20longer%20need%20to%20hold%20her%20hand.%5Cn%5CnBob%20enjoys%20brilliant%20films%20such%20as%20Night%20of%20the%20Dead%20Living%20and%20Return%20of%20the%20Revenge%20of%20the%20Attack%20of%20the%20Killer%20Foxen%2C%20and%20he%27d%20prefer%20to%20not%20be%20distracted.%20As%20such%2C%20he%27d%20like%20to%20minimize%20the%20amount%20of%20time%20he%20spends%20holding%20Alice%27s%20hand.%20To%20help%20with%20this%2C%20he%20may%20choose%20to%20cover%20her%20eyes%20during%20at%20most%20one%20key%20moment%20in%20each%20movie.%20Alice%27s%20fright%20level%20will%20be%20unaffected%20by%20this%20key%20moment.%22%2C%22inputFormat%22%3A%22Line%201%3A%201%20integer%2C%20%24%20N%20%24%5Cn%5Cn%2A%2AFor%20each%20movie%3A%2A%2A%5Cn%5CnLine%201%3A%204%20integers%2C%20%24%20D%20%24%20%2C%20%24%20M%20%24%20%2C%20%24%20H%20%24%20%2C%20and%20%24%20L%20%24%5Cn%5CnNext%20%24%20M%20%24%20lines%3A%202%20integers%2C%20%24%20T_i%20%24%20and%20%24%20F_i%20%24%20%2C%20for%20%24%20i%3D1..M%20%24%22%2C%22outputFormat%22%3A%22%2A%2AFor%20each%20movie%3A%2A%2A%5Cn%5Cn1%20integer%2C%20the%20minimal%20number%20of%20minutes%20for%20which%20Bob%20needs%20to%20hold%20Alice%27s%20hand%22%2C%22samples%22%3A%5B%5B%222%5C%5Cn90%205%205%2050%5C%5Cn12%208%5C%5Cn14%20-4%5C%5Cn40%206%5C%5Cn45%2011%5C%5Cn73%20-50%5C%5Cn105%203%205%2020%5C%5Cn33%2015%5C%5Cn39%20-1%5C%5Cn52%205%22%2C%22%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F18466%22%2C%22id%22%3A%2218466%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP18466%22%2C%22title%22%3A%22UOFTCD%20-%20A%20Frightening%20Evening%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22UOFTCD%20-%20A%20Frightening%20Evening%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>UOFTCD - A Frightening Evening</h1>
<h2>题目描述</h2>
<div>Bob is taking Alice out for an evening at the movies! He'll be deciding what movies they see, of course, and he's got $ N $ ( $ 1 \leq N \leq 100 $ ) awesome ones in mind. All of them happen to be horror movies.
A given movie is $ D $ ( $ 1 \leq D \leq 10^9 $ ) minutes long, and has $ M $ ( $ 0 \leq M \leq 100 $ ) key moments. The $ i $ th moment occurs $ T_i $ minutes into the movie, and causes Alice's fright level (which starts at 0) to instantly increase by $ F_i $ ( $ -10^6 \leq F_i \leq 10^6 $ ). If her fright level would become negative, it instead becomes 0. The moments are given in chronological order, so $ 0 \leq T_1 &lt; T_2 &lt; \dots &lt; T_M \leq D $ . As soon as the movie ends, Alice's fright level is instantly reset to 0.
During each movie, Alice has two fright thresholds, $ H $ and $ L $ ( $ 1 \leq H &lt; L \leq 10^9 $ ). Whenever her fright level is at least $ H $ , Bob is obligated to hold her hand. However, as soon as her fright level is at least $ L $ , she'll be scared enough to leave the theatre - at which point, Bob will stay inside and finish the movie, and will of course no longer need to hold her hand.
Bob enjoys brilliant films such as Night of the Dead Living and Return of the Revenge of the Attack of the Killer Foxen, and he'd prefer to not be distracted. As such, he'd like to minimize the amount of time he spends holding Alice's hand. To help with this, he may choose to cover her eyes during at most one key moment in each movie. Alice's fright level will be unaffected by this key moment.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Line 1: 1 integer, $ N $
**For each movie:**
Line 1: 4 integers, $ D $ , $ M $ , $ H $ , and $ L $
Next $ M $ lines: 2 integers, $ T_i $ and $ F_i $ , for $ i=1..M $</div>
<h3>输出格式</h3>
<br />
<div>**For each movie:**
1 integer, the minimal number of minutes for which Bob needs to hold Alice's hand</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2\n90 5 5 50\n12 8\n14 -4\n40 6\n45 11\n73 -50\n105 3 5 20\n33 15\n39 -1\n52 5</code></pre>
<h3>输出样例 #1</h3>
<pre><code></code></pre>
</article>
</div>
</div>
</body>
</html>
