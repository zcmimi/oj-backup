<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MGAME1 - Game - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449851:L3DBHbffomoKywG0901KTDyECjijI9CGDjc9L72Il9E=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BEnglish%5D%28%5C%2Fproblems%5C%2FMGAME1%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FMGAME1%5C%2Fvn%5C%2F%29%20%2A%2ANote%20%3A%20C%2CS%2CB%20are%20used%20instead%20of%20H%2CF%2CI%2C%20respectively%2C%20in%20test%20case.%2A%2A%20%20%60%60%60%5Cn%5CnHal%20and%20Dave%20are%20playing%20an%20interesting%20game%20on%20a%20rectangular%20%5Cnchess%20like%20board%20consisting%20of%20squares%20arranged%20in%20R%20rows%20and%20C%20columns.%20%5CnHere%20are%20the%20rules%20of%20the%20game%3A%5Cn%5Cu2022%5CtThere%20is%20only%20one%20piece%20on%20a%20board%20alternately%20moved%20by%20the%20%5Cnplayers.%5Cn%5Cu2022%5CtOne%20move%20of%20the%20piece%20consists%20of%20moving%20it%20to%20an%20adjacent%20square%5Cnin%20one%20of%20following%20directions%3A%20down%2C%20right%20or%20diagonally%20right%5Cu2013down.%5Cn%5Cu2022%5CtSome%20squares%20on%20a%20board%20are%20%5Cu2018forbidden%5Cu2019%2C%20i.e.%20the%20piece%20cannot%5Cnenter%20such%20squares.%5Cn%5Cu2022%5CtA%20square%20may%20contain%20at%20most%20one%20of%20the%20following%3A%20a%20%5Cnhamburger%2C%20french%20fries%2C%20ice%20cream.%20A%20player%20who%20moves%20the%20piece%20to%5Cna%20square%20with%20a%20hamburger%20receives%201%20point%2C%20with%20french%20fries%203%20points%5Cnand%20with%20ice%20cream%205%20points.%5Cn%5Cu2022%5CtThe%20game%20ends%20when%20a%20player%20who%20should%20make%20a%20move%20cannot%20%5Cnmake%20it%20%28because%20piece%20would%20fall%20off%20of%20board%20or%20enter%20a%20forbidden%20%5Cnsquare%20in%20all%20three%20directions%29.%5Cn%5Cu2022%5CtIf%20at%20the%20end%20of%20a%20game%20both%20players%20have%20same%20number%20of%20%5Cnpoints%2C%20then%20the%20one%20who%20cannot%20make%20a%20legal%20move%20lost%20that%20game.%5Cn%5Cu2022%5CtIf%20at%20the%20end%20of%20a%20game%20players%20have%20different%20numbers%20of%20%5Cnpoints%2C%20then%20the%20player%20with%20more%20points%20won%20the%20game.%5Cn%5Cu2022%5CtBoth%20players%20have%200%20points%20at%20the%20beginning%20of%20a%20game.%20Hal%20%5Cnmakes%20first%20move.%20The%20initial%20position%20of%20the%20piece%20is%20a%20square%20that%20%5Cnis%20not%20forbidden%20and%20it%20does%20not%20contain%20any%20food.%5Cn%5CnSince%20there%20is%20a%20finite%20number%20of%20sequence%20of%20moves%20finishing%20any%20%5Cngiven%20game%2C%20it%20can%20be%20proved%20that%20for%20any%20given%20initial%20position%20of%20%5Cnthe%20piece%20either%20Dave%20or%20Hal%20can%20win%20no%20matter%20how%20the%20other%20player%20%5Cnplays%2C%20i.e.%20he%20has%20a%20winning%20strategy.%5CnA%20board%2C%20positions%20of%20forbidden%20squares%2C%20positions%20of%20squares%20with%20%5Cnfood%20and%20some%20initial%20positions%20are%20given.%20Write%20a%20program%20that%20%5Cnwill%20determine%20for%20each%20given%20initial%20position%20which%20player%20has%20a%20%5Cnwinning%20strategy.%5Cn%5Cn%60%60%60%22%2C%22inputFormat%22%3A%22%60%60%60%5Cn%5CnThe%20first%20line%20of%20input%20file%20contains%20two%20integers%20R%2C%20number%20of%20rows%5Cn%282%20%5Cu2264%20R%20%5Cu2264%20100%29%20and%20C%2C%20number%20of%20columns%20%282%20%5Cu2264%20C%20%5Cu2264%20100%29%20of%20a%20board%2C%20%5Cnseparated%20by%20a%20space%20character.%5CnEach%20of%20next%20R%20lines%20contains%20a%20sequence%20of%20C%20characters%20representing%20%5Cna%20corresponding%20row%20of%20the%20board.%20Forbidden%20squares%20are%20represented%20%5Cnwith%20%5Cu2018%23%5Cu2019%20character.%20Squares%20containing%20food%20are%20represented%20%5Cnwith%20letters%20H%20%28hamburger%29%2C%20F%20%28french%20fries%29%20and%20I%20%28ice%20cream%29.%20Other%20%5Cnsquares%20are%20represented%20with%20a%20dot%20character%20%28%5Cu2018.%5Cu2019%29.%5CnThe%20next%20line%20%5Cncontains%20an%20integer%20N%2C%201%20%5Cu2264%20N%20%5Cu2264%20100%2C%20the%20number%20of%20given%20initial%20positions%20%5Cnfor%20which%20a%20program%20should%20find%20which%20player%20has%20a%20winning%20strategy.%5CnEach%20of%20the%20following%20N%20lines%20contain%20two%20integers%20A%20%281%20%5Cu2264%20A%20%5Cu2264%20R%29%20and%20%5CnB%20%281%20%5Cu2264%20B%20%5Cu2264%20C%29%2C%20separated%20with%20a%20space%20character%2C%20which%20determine%20a%20%5Cnrow%20and%20a%20column%20of%20an%20initial%20position%20of%20a%20piece.%20%5CnRows%20are%20numbered%20from%20up%20to%20down%20with%20number%20from%201%20to%20R%2C%20and%20%5Cncolumns%20are%20numbered%20from%20left%20to%20right%20with%20numbers%20from%201%20to%20C.%5Cn%20%5Cn%60%60%60%22%2C%22outputFormat%22%3A%22%60%60%60%5Cn%5CnOutput%20file%20should%20contain%20N%20lines.%20The%20ith%20line%20should%20contain%20name%20%5Cnof%20a%20player%20%28i.e.%20DAVE%20or%20HAL%29%20having%20a%20winning%20strategy%20for%20ith%20given%20%5Cninitial%20position.%5Cn%60%60%60%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B100%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F4052%22%2C%22id%22%3A%224052%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP4052%22%2C%22title%22%3A%22MGAME1%20-%20Game%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MGAME1%20-%20Game%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MGAME1 - Game</h1>
<h2>题目描述</h2>
<div>[English](/problems/MGAME1/en/) [Vietnamese](/problems/MGAME1/vn/) **Note : C,S,B are used instead of H,F,I, respectively, in test case.** ```
Hal and Dave are playing an interesting game on a rectangular
chess like board consisting of squares arranged in R rows and C columns.
Here are the rules of the game:
• There is only one piece on a board alternately moved by the
players.
• One move of the piece consists of moving it to an adjacent square
in one of following directions: down, right or diagonally right–down.
• Some squares on a board are ‘forbidden’, i.e. the piece cannot
enter such squares.
• A square may contain at most one of the following: a
hamburger, french fries, ice cream. A player who moves the piece to
a square with a hamburger receives 1 point, with french fries 3 points
and with ice cream 5 points.
• The game ends when a player who should make a move cannot
make it (because piece would fall off of board or enter a forbidden
square in all three directions).
• If at the end of a game both players have same number of
points, then the one who cannot make a legal move lost that game.
• If at the end of a game players have different numbers of
points, then the player with more points won the game.
• Both players have 0 points at the beginning of a game. Hal
makes first move. The initial position of the piece is a square that
is not forbidden and it does not contain any food.
Since there is a finite number of sequence of moves finishing any
given game, it can be proved that for any given initial position of
the piece either Dave or Hal can win no matter how the other player
plays, i.e. he has a winning strategy.
A board, positions of forbidden squares, positions of squares with
food and some initial positions are given. Write a program that
will determine for each given initial position which player has a
winning strategy.
```</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>```
The first line of input file contains two integers R, number of rows
(2 ≤ R ≤ 100) and C, number of columns (2 ≤ C ≤ 100) of a board,
separated by a space character.
Each of next R lines contains a sequence of C characters representing
a corresponding row of the board. Forbidden squares are represented
with ‘#’ character. Squares containing food are represented
with letters H (hamburger), F (french fries) and I (ice cream). Other
squares are represented with a dot character (‘.’).
The next line
contains an integer N, 1 ≤ N ≤ 100, the number of given initial positions
for which a program should find which player has a winning strategy.
Each of the following N lines contain two integers A (1 ≤ A ≤ R) and
B (1 ≤ B ≤ C), separated with a space character, which determine a
row and a column of an initial position of a piece.
Rows are numbered from up to down with number from 1 to R, and
columns are numbered from left to right with numbers from 1 to C.
```</div>
<h3>输出格式</h3>
<br />
<div>```
Output file should contain N lines. The ith line should contain name
of a player (i.e. DAVE or HAL) having a winning strategy for ith given
initial position.
```</div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
