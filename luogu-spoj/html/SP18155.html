<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>ABSP1 - abs(a-b) I - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450494:Hh7uiUFbQeTA2LpMNyXcV8KwQ2qzTRDulsDZQTzpfIA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Recently%20Mr.%20Kopa%20Samsu%20is%20learning%20programming.%20On%20a%20very%20renowned%20online%20judge%2C%20he%20found%20a%20problem%3A%5Cn%5CnYou%20are%20given%20an%20array%20of%20N%20numbers%20in%20non-decreasing%20order.%20You%20have%20to%20answer%20the%20summation%20of%20the%20absolute%20difference%20of%20all%20distinct%20pairs%20in%20the%20given%20array.%5Cn%5CnDo%20you%20know%20what%20distinct%20pair%20means%3F%20Suppose%20you%20have%20an%20array%20of%203%20elements%3A%203%205%206%5Cn%5CnThen%20all%20the%20distinct%20pairs%20are%3A%5Cn%5Cn%203%205%20%20%5Cn%203%206%20%20%5Cn%205%206%5Cn%5CnFor%20this%20problem%2C%20Mr.%20Kopa%20Samsu%20implemented%20an%20algorithm%20to%20find%20the%20summation%20of%20the%20absolute%20difference%20of%20all%20distinct%20pairs.%20His%20algorithm%20was%3A%5Cn%5Cn%20%60%60%60%5Cn%5Cnint%20ABS%28int%20a%5B%5D%2C%20int%20n%29%5Cn%7B%5Cn%5Cu00a0%20%5Cu00a0%20int%20sum%20%3D%200%3B%5Cn%5Cu00a0%20%5Cu00a0%20for%20%28int%20i%20%3D%201%3B%20i%20%3C%3D%20n%20%3Bi%2B%2B%29%5Cn%5Cu00a0%20%5Cu00a0%20%7B%5Cn%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20for%20%28int%20j%20%3D%20i%20%2B%201%3B%20j%20%3C%3D%20n%3B%20j%2B%2B%29%5Cn%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20%7B%5Cn%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20sum%20%2B%3D%20abs%28a%5Bi%5D%20-%20a%5Bj%5D%29%3B%5Cn%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20%5Cu00a0%20%7D%5Cn%5Cu00a0%20%5Cu00a0%20%7D%5Cn%7D%5Cn%60%60%60%5Cn%20After%20a%20great%20hard%20work%2C%20he%20finished%20the%20code.%20But%20alas%21%21%21%20Frustration%20came%20around%20him%20when%20he%20submitted%20his%20code%2C%20the%20judge%20gave%20the%20verdict%20%5Cu201cTLE%5Cu201d%20%28Time%20Limit%20Exit%29.%20%5Cu201cHow%20can%20I%20get%20rid%20of%20TLE%3F%5Cu201d%20he%20thought%20a%20lot%20but%20couldn%27t%20find%20any%20way.%20Then%20suddenly%2C%20he%20remembered%20about%20you%20that%20you%20%28his%20friend%29%20is%20very%20good%20at%20programming.%20So%2C%20he%20came%20to%20you%20seeking%20your%20help.%20Can%20you%20help%20him%20solving%20this%20problem%3F%22%2C%22inputFormat%22%3A%22The%20input%20data%20set%20starts%20with%20an%20integer%20T%20%28T%20%3C%3D%201000%29%2C%20the%20number%20of%20test%20cases.%20Then%20every%20test%20case%20starts%20with%20a%20integer%20N%20%28N%20%3C%3D%2010000%29%2C%20the%20number%20of%20elements%20in%20the%20array.%20After%20that%2C%20the%20next%20line%20contains%20N%20integers%20A%5C%5C%5Bi%5C%5C%5D%2C%20where%201%20%3C%3D%20i%20%3C%3D%20N%20and%201%20%3C%3D%20A%5C%5C%5Bi%5C%5C%5D%20%3C%3D%201000000000%20%26%20A%5C%5C%5Bi%5C%5C%5D%20%3C%3D%20A%5C%5C%5Bi%2B1%5C%5C%5D.%22%2C%22outputFormat%22%3A%22Every%20test%20case%20should%20output%20an%20integer%20%5Cu201cX%5Cu201d%2C%20where%20X%20is%20the%20summation%20of%20the%20absolute%20difference%20of%20all%20the%20distinct%20pair.%22%2C%22samples%22%3A%5B%5B%223%5Cr%5Cn3%5Cr%5Cn1%202%203%5Cr%5Cn3%5Cr%5Cn1%204%205%5Cr%5Cn3%5Cr%5Cn2%204%206%22%2C%224%5Cr%5Cn8%5Cr%5Cn8%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F18155%22%2C%22id%22%3A%2218155%22%7D%2C%22translation%22%3A%22%5Cu6700%5Cu8fd1Kopa%20Samsu%5Cu5148%5Cu751f%5Cu6b63%5Cu5728%5Cu5b66%5Cu4e60%5Cu7f16%5Cu7a0b%5Cu3002%20%5Cu5728%5Cu4e00%5Cu4e2a%5Cu975e%5Cu5e38%5Cu8457%5Cu540d%5Cu7684%5Cu5728%5Cu7ebf%5Cu8bc4%5Cu6d4b%5Cu7f51%5Cu7ad9%5Cu4e2d%5Cuff0c%5Cu4ed6%5Cu53d1%5Cu73b0%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu95ee%5Cu9898%5Cuff1a%5Cn%5Cn%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu542b%5Cu6709N%5Cu4e2a%5Cu6570%5Cu5b57%5Cu7684%5Cu975e%5Cu9012%5Cu51cf%5Cu5e8f%5Cu5217%5Cu3002%20%5Cu4f60%5Cu5fc5%5Cu987b%5Cu56de%5Cu7b54%5Cu7ed9%5Cu5b9a%5Cu6570%5Cu5217%5Cu4e2d%5Cu6240%5Cu6709%5Cu4e0d%5Cu540c%5Cu5bf9%5Cu7684%5Cu7edd%5Cu5bf9%5Cu5dee%5Cu7684%5Cu603b%5Cu548c%5Cu3002%5Cn%5Cn%5Cu4f60%5Cu77e5%5Cu9053%5Cu201c%5Cu4e0d%5Cu540c%5Cu5bf9%5Cu201d%5Cu662f%5Cu4ec0%5Cu4e48%5Cu5417%5Cuff1f%20%5Cu5047%5Cu8bbe%5Cu4f60%5Cu6709%5Cu4e00%5Cu4e2a%5Cu542b%5Cu67093%5Cu4e2a%5Cu5143%5Cu7d20%5Cu7684%5Cu6570%5Cu7ec4%5Cuff1a3%205%206%5Cn%5Cn%5Cu7136%5Cu540e%5Cu6240%5Cu6709%5Cu7684%5Cu4e0d%5Cu540c%5Cu5bf9%5Cu5206%5Cu522b%5Cu662f%5Cuff1a%5Cn%5Cn3%205%5Cn%5Cn3%206%5Cn%5Cn5%206%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu8fd9%5Cu4e2a%5Cu95ee%5Cu9898%5Cuff0cKopa%20Samsu%5Cu5148%5Cu751f%5Cu60f3%5Cu51fa%5Cu4e86%5Cu4e00%5Cu79cd%5Cu7b97%5Cu6cd5%5Cu6765%5Cu627e%5Cu51fa%5Cu6240%5Cu6709%5Cu4e0d%5Cu540c%5Cu5bf9%5Cu7684%5Cu7edd%5Cu5bf9%5Cu5dee%5Cu503c%5Cu7684%5Cu603b%5Cu548c%5Cu3002%20%5Cu4ed6%5Cu7684%5Cu7b97%5Cu6cd5%5Cu662f%5Cuff1a%5Cn%60%60%60cpp%5Cnint%20ABS%28int%20a%5B%5D%2C%20int%20n%29%5Cn%7B%5Cn%20%20%20%20int%20sum%20%3D%200%3B%5Cn%20%20%20%20for%20%28int%20i%20%3D%201%3B%20i%20%3C%3D%20n%20%3Bi%2B%2B%29%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20for%20%28int%20j%20%3D%20i%20%2B%201%3B%20j%20%3C%3D%20n%3B%20j%2B%2B%29%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20sum%20%2B%3D%20abs%28a%5Bi%5D%20-%20a%5Bj%5D%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%60%60%60%5Cn%5Cu7ecf%5Cu8fc7%5Cu8270%5Cu82e6%5Cu7684%5Cu52aa%5Cu529b%5Cuff0c%5Cu4ed6%5Cu5b8c%5Cu6210%5Cu4e86%5Cu8fd9%5Cu4efd%5Cu4ee3%5Cu7801%5Cu3002%5Cu5f53%5Cu4ed6%5Cu4ea4%5Cu5b8c%5Cu8fd9%5Cu4efd%5Cu4ee3%5Cu7801%5Cuff0c%5Cu8bc4%5Cu6d4b%5Cu7f51%5Cu7ad9%5Cu7ed9%5Cu51fa%5Cu4e86%5Cu8bc4%5Cu6d4b%5Cu7ed3%5Cu679c%5Cu2014%5Cu2014TLE%5Cuff08%5Cu8d85%5Cu51fa%5Cu65f6%5Cu95f4%5Cu9650%5Cu5236%5Cuff09%5Cuff0c%5Cu8fd9%5Cu4ee4%5Cu4ed6%5Cu611f%5Cu5230%5Cu5341%5Cu5206%5Cu6cae%5Cu4e27%5Cu3002%20%5Cu201c%5Cu6211%5Cu600e%5Cu6837%5Cu624d%5Cu80fd%5Cu6446%5Cu8131TLE%5Cuff1f%5Cu201d%20%5Cu4ed6%5Cu60f3%5Cu4e86%5Cu5f88%5Cu591a%5Cuff0c%5Cu4f46%5Cu627e%5Cu4e0d%5Cu5230%5Cu4efb%5Cu4f55%5Cu65b9%5Cu6cd5%5Cu3002%20%5Cu7a81%5Cu7136%5Cuff0c%5Cu4ed6%5Cu60f3%5Cu8d77%5Cu4e86%5Cu4f60%5Cuff0c%5Cu4ed6%5Cu975e%5Cu5e38%5Cu64c5%5Cu957f%5Cu7f16%5Cu7a0b%5Cu7684%5Cu670b%5Cu53cb%5Cu3002%20%5Cu6240%5Cu4ee5%5Cuff0c%5Cu4ed6%5Cu6765%5Cu5bfb%5Cu6c42%5Cu4f60%5Cu7684%5Cu5e2e%5Cu52a9%5Cu3002%20%5Cu4f60%5Cu80fd%5Cu5e2e%5Cu4ed6%5Cu89e3%5Cu51b3%5Cu8fd9%5Cu4e2a%5Cu95ee%5Cu9898%5Cu5417%5Cuff1f%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A49%2C%22totalAccepted%22%3A18%2C%22pid%22%3A%22SP18155%22%2C%22title%22%3A%22ABSP1%20-%20abs%28a-b%29%20I%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A47051%2C%22title%22%3A%22%5Cu9898%5Cu76ee%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A16218%2C%22name%22%3A%22SP18155%20ABSP1%20-%20abs%28a-b%29%20I%22%2C%22slug%22%3A%22SP18155%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22ABSP1%20-%20abs%28a-b%29%20I%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>ABSP1 - abs(a-b) I</h1>
<h2>题意翻译</h2>
<div>最近Kopa Samsu先生正在学习编程。 在一个非常著名的在线评测网站中，他发现了一个问题：
给出一个含有N个数字的非递减序列。 你必须回答给定数列中所有不同对的绝对差的总和。
你知道“不同对”是什么吗？ 假设你有一个含有3个元素的数组：3 5 6
然后所有的不同对分别是：
3 5
3 6
5 6
对于这个问题，Kopa Samsu先生想出了一种算法来找出所有不同对的绝对差值的总和。 他的算法是：
```cpp
int ABS(int a[], int n)
{
int sum = 0;
for (int i = 1; i <= n ;i++)
{
for (int j = i + 1; j <= n; j++)
{
sum += abs(a[i] - a[j]);
}
}
}
```
经过艰苦的努力，他完成了这份代码。当他交完这份代码，评测网站给出了评测结果——TLE（超出时间限制），这令他感到十分沮丧。 “我怎样才能摆脱TLE？” 他想了很多，但找不到任何方法。 突然，他想起了你，他非常擅长编程的朋友。 所以，他来寻求你的帮助。 你能帮他解决这个问题吗？
</div>
<h2>题目描述</h2>
<div>Recently Mr. Kopa Samsu is learning programming. On a very renowned online judge, he found a problem:
You are given an array of N numbers in non-decreasing order. You have to answer the summation of the absolute difference of all distinct pairs in the given array.
Do you know what distinct pair means? Suppose you have an array of 3 elements: 3 5 6
Then all the distinct pairs are:
3 5
3 6
5 6
For this problem, Mr. Kopa Samsu implemented an algorithm to find the summation of the absolute difference of all distinct pairs. His algorithm was:
```
int ABS(int a[], int n)
{
    int sum = 0;
    for (int i = 1; i <= n ;i++)
    {
        for (int j = i + 1; j <= n; j++)
        {
            sum += abs(a[i] - a[j]);
        }
    }
}
```
After a great hard work, he finished the code. But alas!!! Frustration came around him when he submitted his code, the judge gave the verdict “TLE” (Time Limit Exit). “How can I get rid of TLE?” he thought a lot but couldn't find any way. Then suddenly, he remembered about you that you (his friend) is very good at programming. So, he came to you seeking your help. Can you help him solving this problem?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The input data set starts with an integer T (T <= 1000), the number of test cases. Then every test case starts with a integer N (N <= 10000), the number of elements in the array. After that, the next line contains N integers A\[i\], where 1 <= i <= N and 1 <= A\[i\] <= 1000000000 & A\[i\] <= A\[i+1\].</div>
<h3>输出格式</h3>
<br />
<div>Every test case should output an integer “X”, where X is the summation of the absolute difference of all the distinct pair.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
3
1 2 3
3
1 4 5
3
2 4 6</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4
8
8</code></pre>
</article>
</div>
</div>
</body>
</html>
