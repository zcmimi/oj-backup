<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>FOLD - Fold - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449685:As16JZSODBrontxD8mectdOg6b8iM3GWQkW5IAtCNSc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20Read%20the%20statement%20of%20problem%20E%3A%20Edge%20to%20understand%20how%20to%20fold%20a%20sheet%20of%20paper%20and%20how%20to%20interpret%20the%20input.%20We%20define%20a%20%5C%22stripe%5C%22%20to%20be%20a%20maximally%20large%20part%20of%20the%20sheet%20that%20has%20no%20folding%20line%20going%20through.%20Since%20the%20turns%20occur%20at%20equidistant%20places%2C%20all%20stripes%20are%20congruent.%5Cn%5Cn%20In%20this%20problem%20you%20are%20given%20the%20description%20of%20the%20result%20of%20performing%20several%20folding%20steps%20as%20in%20problem%20E%3A%20Edge%2C%20i.e.%2C%20in%20the%20unfolded%20state.%20Additionally%2C%20you%20know%20that%20the%20length%20of%20the%20sheet%20in%20its%20folded%20state%20is%20exactly%20the%20length%20of%201%20stripe%20%28again%2C%20we%20ignore%20thickness%29.%5Cn%5Cn%20Find%20the%20minimum%20number%20of%20folding%20steps%20necessary%20to%20generate%20the%20described%20sheet%20from%20an%20initially%20flat%20sheet%20of%20paper.%20Note%20that%20performing%20a%20folding%20step%20may%20create%20more%20than%20one%20turn%20in%20the%20result%20because%20parts%20of%20the%20sheet%20already%20overlay%20due%20to%20previous%20folding%20steps.%20When%20a%20step%20is%20carried%20out%2C%20however%2C%20all%20overlaying%20parts%20of%20the%20sheet%20are%20affected%2C%20i.e.%2C%20it%20is%20not%20allowed%20to%20fold%2C%20say%2C%20only%20the%20top%20three%20layers.%5Cn%5Cn%20Finally%2C%20note%20that%20every%20result%20can%20be%20obtained%20by%20iterating%20through%20the%20turns%20in%20a%20fixed%20direction%20and%20performing%20a%20folding%20step%20at%20each%20turn%2C%20thereby%20accumulating%20a%201%20stripe%20long%20stack%20of%20all%20stripes.%20If%20%60n%60%20is%20the%20number%20of%20turns%20in%20the%20input%20description%2C%20this%20procedure%20in%20fact%20requires%20%60n%60%20folding%20steps%2C%20which%20is%20not%20necessarily%20minimal%20as%20can%20be%20observed%20in%20the%20sample%20output.%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B181%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F1803%22%2C%22id%22%3A%221803%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP1803%22%2C%22title%22%3A%22FOLD%20-%20Fold%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22FOLD%20-%20Fold%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>FOLD - Fold</h1>
<h2>题目描述</h2>
<div> Read the statement of problem E: Edge to understand how to fold a sheet of paper and how to interpret the input. We define a "stripe" to be a maximally large part of the sheet that has no folding line going through. Since the turns occur at equidistant places, all stripes are congruent.
In this problem you are given the description of the result of performing several folding steps as in problem E: Edge, i.e., in the unfolded state. Additionally, you know that the length of the sheet in its folded state is exactly the length of 1 stripe (again, we ignore thickness).
Find the minimum number of folding steps necessary to generate the described sheet from an initially flat sheet of paper. Note that performing a folding step may create more than one turn in the result because parts of the sheet already overlay due to previous folding steps. When a step is carried out, however, all overlaying parts of the sheet are affected, i.e., it is not allowed to fold, say, only the top three layers.
Finally, note that every result can be obtained by iterating through the turns in a fixed direction and performing a folding step at each turn, thereby accumulating a 1 stripe long stack of all stripes. If `n` is the number of turns in the input description, this procedure in fact requires `n` folding steps, which is not necessarily minimal as can be observed in the sample output.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
