<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>IOPC1201 - Rubiks cube - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450215:TeshxZKpd+4DupLeJKObH7AAyocRnkiimpe3CGj2+Fw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22The%20Rubik%27s%20cube%20is%20perhaps%20the%20world%27s%20most%20popular%20intellectual%20toy.%20More%20than%20just%20the%20joy%20of%20solving%2C%20there%20is%20a%20lot%20of%20mathematics%20to%20it%20too.%5Cn%5CnConsider%20a%20solved%20Rubik%27s%20cube.%20The%20six%20faces%20of%20the%20cube%20are%20named%20FRONT%2C%20BACK%2C%20UP%2C%20DOWN%2C%20LEFT%20and%20RIGHT%20respectively.%20An%20elementary%20move%20of%20the%20Rubik%27s%20cube%20is%20rotating%20a%20face%20by%2090%20degrees%20clockwise%2C%2090%20degrees%20anticlockwise%20or%20180%20degrees%20about%20an%20axis%20from%20the%20centre%20of%20the%20face%20to%20the%20centre%20of%20the%20cube.%20Any%20valid%20state%20of%20the%20Rubik%27s%20cube%20can%20be%20reached%20by%20applying%20these%20elementary%20operations%20one%20after%20the%20other.%5Cn%5CnAn%20elementary%20move%20is%20denoted%20in%20the%20following%20fashion.%20If%20a%20given%20face%20is%20rotated%20by%2090%20degrees%20clockwise%20about%20the%20axis%20passing%20from%20the%20centre%20of%20the%20face%20to%20the%20centre%20of%20the%20cube%2C%20the%20move%20is%20denoted%20by%20the%20first%20letter%20of%20the%20name%20of%20the%20face.%20If%20the%20rotation%20is%20anticlockwise%20by%2090%20degrees%2C%20the%20letter%20is%20followed%20by%20an%20apostrophe%20%28%27%29.%20If%20the%20rotation%20is%20by%20180%20degrees%2C%20the%20letter%20is%20followed%20by%20a%202.%5Cn%5CnFor%20example%2C%20a%2090%20degree%20clockwise%20rotation%20of%20the%20right%20face%20is%20denoted%20by%20%2A%2AR%2A%2A%2C%20a%2090%20degree%20anticlockwise%20rotation%20of%20the%20back%20face%20by%20%2A%2AB%27%2A%2A%20and%20a%20180%20degree%20rotation%20of%20the%20top%20face%20by%20%2A%2AU2%2A%2A.%20The%20elementary%20moves%20are%20explained%20with%20the%20help%20of%20animations%20in%20the%20%5C%22Face%20turns%5C%22%20section%20of%20%5Bthis%20page%5D%28http%3A%5C%2F%5C%2Fwww.nascarjon.us%5C%2Fnotation.html%29.%20The%20elementary%20moves%20can%20be%20combined%20to%20get%20a%20compound%20move%20of%20the%20cube.%20For%20example%2C%20%2A%2AURF2%2A%2A%20denotes%20rotating%20the%20top%20face%20by%2090%20degrees%20clockwise%2C%20then%20the%20right%20face%20by%2090%20degrees%20clockwise%20followed%20by%20the%20front%20face%20by%20180%20degrees.%5Cn%5CnIn%20this%20problem%20you%20will%20be%20given%20a%20string%20describing%20a%20sequence%20of%20elementary%20moves%20on%20a%20solved%20Rubik%27s%20cube.%20Your%20task%20is%20to%20find%20out%20the%20number%20of%20times%20the%20sequence%20should%20be%20applied%20repeatedly%20to%20the%20cube%20to%20get%20back%20the%20original%20cube.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20gives%20T%2C%20the%20number%20of%20test%20cases%20%281%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%2C%20output%20the%20minimum%20number%20of%20times%20%28%3E%3D1%29%20the%20move%20sequence%20must%20be%20applied%20to%20a%20solved%20Rubik%27s%20cube%20to%20get%20back%20the%20solved%20cube%20again.%22%2C%22samples%22%3A%5B%5B%224%5Cr%5CnR%5Cr%5CnRR2%5Cr%5CnRU%5Cr%5CnR2R%27R%27%22%2C%224%5Cr%5Cn4%5Cr%5Cn105%5Cr%5Cn1%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B311%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F10422%22%2C%22id%22%3A%2210422%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP10422%22%2C%22title%22%3A%22IOPC1201%20-%20Rubiks%20cube%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A37141%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A13502%2C%22name%22%3A%22SP10422%20IOPC1201%20-%20Rubiks%20cube%22%2C%22slug%22%3A%22SP10422%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22IOPC1201%20-%20Rubiks%20cube%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>IOPC1201 - Rubiks cube</h1>
<h2>题目描述</h2>
<div>The Rubik's cube is perhaps the world's most popular intellectual toy. More than just the joy of solving, there is a lot of mathematics to it too.
Consider a solved Rubik's cube. The six faces of the cube are named FRONT, BACK, UP, DOWN, LEFT and RIGHT respectively. An elementary move of the Rubik's cube is rotating a face by 90 degrees clockwise, 90 degrees anticlockwise or 180 degrees about an axis from the centre of the face to the centre of the cube. Any valid state of the Rubik's cube can be reached by applying these elementary operations one after the other.
An elementary move is denoted in the following fashion. If a given face is rotated by 90 degrees clockwise about the axis passing from the centre of the face to the centre of the cube, the move is denoted by the first letter of the name of the face. If the rotation is anticlockwise by 90 degrees, the letter is followed by an apostrophe ('). If the rotation is by 180 degrees, the letter is followed by a 2.
For example, a 90 degree clockwise rotation of the right face is denoted by **R**, a 90 degree anticlockwise rotation of the back face by **B'** and a 180 degree rotation of the top face by **U2**. The elementary moves are explained with the help of animations in the "Face turns" section of [this page](http://www.nascarjon.us/notation.html). The elementary moves can be combined to get a compound move of the cube. For example, **URF2** denotes rotating the top face by 90 degrees clockwise, then the right face by 90 degrees clockwise followed by the front face by 180 degrees.
In this problem you will be given a string describing a sequence of elementary moves on a solved Rubik's cube. Your task is to find out the number of times the sequence should be applied repeatedly to the cube to get back the original cube.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input gives T, the number of test cases (1</div>
<h3>输出格式</h3>
<br />
<div>For each test case, output the minimum number of times (>=1) the move sequence must be applied to a solved Rubik's cube to get back the solved cube again.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
R
RR2
RU
R2R&#039;R&#039;</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4
4
105
1</code></pre>
</article>
</div>
</div>
</body>
</html>
