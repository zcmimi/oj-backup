<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>PHONELIN - Phone Lines - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449743:gOAYPydhUTucklv8oVGuAB6EZiZ1/xF1aiPp//auWEA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22There%20are%20several%20cities%20and%20towers%20on%20a%20straight%20line.%20Towers%20can%20be%20set%20to%20connection-accepting%20by%20paying%20a%20cost.%20We%20are%20given%20the%20location%20%28on%20the%20X-axis%29%2C%20of%20the%20towers%20and%20the%20cities.%20Our%20job%20is%20to%20set%20up%20certain%20towers%20as%20connection-accepting.%20Now%20every%20city%2C%20pays%20you%20an%20amount%20equal%20to%20%2A%2AD%20-%20distance%5C%5C_travelled%5C%5C_by%5C%5C_data%2A%2A%2C%20for%20every%20unit%20of%20data%20%28for%20every%20tower%29%20it%20can%20send.%20%28distance%5C%5C_travelled%5C%5C_by%5C%5C_data%20%3D%20cityX%20-%20towerX%29%3B%20Our%20job%20here%20is%20to%20setup%20connections%20on%20differrent%20towers%20to%20get%20maximal%20profit.%20%20%20%5Cn%20Each%20city%20when%20it%20wants%20to%20route%20some%20data%20to%20a%20tower%20works%20with%20the%20following%20algorithm%3A%20%20%5Cn%20%281%29%20Find%20the%20nearest%20tower%20to%20the%20left%20of%20the%20city.%20%20%20%5Cn%20%282%29%20If%20it%20is%20within%20the%20range%20%27D%27%2C%20it%20sends%20the%20data%20to%20that%20tower.%20If%20this%20tower%20exceeds%20the%20range%20D%2C%20or%20if%20the%20tower%20doesnt%20accept%20connections%2C%20the%20city%20cant%20send%20the%20data%20and%20stops%20immediately.%20%28Doesnt%20check%20the%20next%20available%20tower%29%3B%20%20%5Cn%20%283%29%20If%20the%20data%20is%20sent%20sucessfully%3A%20Then%20the%20city%20%20%20%5Cn%20%283.1%29%20Skips%20three%20towers.%20%28Doesnt%20care%20if%20these%20three%20towers%20are%20connection-accepting%20or%20not%29%3B%20%20%5Cn%20%283.2%29%20Tries%20to%20send%20data%20to%20the%20next%20tower%20%28the%20fouth%20one%20after%20the%20skipping%29%2C%20by%20using%20step%20%282%29%3B%5Cn%5CnInput%20format%3A%20%20%5Cn%20Input%20consists%20of%20multiple%20testcases.%20%20%5Cn%20First%20line%20of%20each%20test%20case%2C%20contains%20two%20integers%3A%20D%20C%20T%3B%20The%20range%2C%20the%20number%20of%20cities%20and%20the%20number%20of%20towers%2C%20respectively.%20%20%5Cn%20Second%20line%20contains%20exactly%20C%20integers%20saying%20the%20location%20of%20the%20cities%20%28on%20the%20X-axis%29.%20%20%20%5Cn%20The%20next%20T%20lines%20contain%20exactly%20two%20integers%3A%20location%5C%5C%5Bi%5C%5C%5D%20connection-cost%5C%5C%5Bi%5C%5C%5D%3B%20which%20is%20the%20position%20of%20tower%20i%2C%20and%20the%20cost%20to%20setup%20tower%20i%20as%20connection-accepting%3B%20%20%20%5Cn%20The%20input%20ends%20with%20a%20line%3A%20%5C%22-1%20-1%20-1%5C%22%5Cn%5CnOutput%20format%3A%20%20%5Cn%20For%20each%20test%20case%2C%20output%20a%20single%20line%20saying%20the%20maximum%20amount%20of%20profit%20you%20can%20make.%5Cn%5CnConstraints%3A%20%20%5Cn%20Now%20two%20points%20%28towers%20or%20cities%29%2C%20will%20have%20the%20same%20X-coordinate.%20T%2CC%20%3C%3D%20100.%5Cn%5Cn%20Sample%20Input%3A%20%20%5Cn%60%60%60%5Cn%5Cn4%209%206%5Cn23%5Cn43%5Cn18%5Cn15%5Cn29%5Cn50%5Cn41%5Cn31%5Cn40%5Cn32%202%5Cn26%200%5Cn46%207%5Cn48%200%5Cn50%203%5Cn38%201%5Cn-1%20-1%20-1%5Cn%60%60%60%5Cn%20%20%20%5Cn%20Sample%20Output%3A%20%20%5Cn%60%60%60%5Cn%5Cn5%5Cn%60%60%60%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B100%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F2485%22%2C%22id%22%3A%222485%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP2485%22%2C%22title%22%3A%22PHONELIN%20-%20Phone%20Lines%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22PHONELIN%20-%20Phone%20Lines%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>PHONELIN - Phone Lines</h1>
<h2>题目描述</h2>
<div>There are several cities and towers on a straight line. Towers can be set to connection-accepting by paying a cost. We are given the location (on the X-axis), of the towers and the cities. Our job is to set up certain towers as connection-accepting. Now every city, pays you an amount equal to **D - distance\_travelled\_by\_data**, for every unit of data (for every tower) it can send. (distance\_travelled\_by\_data = cityX - towerX); Our job here is to setup connections on differrent towers to get maximal profit.
Each city when it wants to route some data to a tower works with the following algorithm:
(1) Find the nearest tower to the left of the city.
(2) If it is within the range 'D', it sends the data to that tower. If this tower exceeds the range D, or if the tower doesnt accept connections, the city cant send the data and stops immediately. (Doesnt check the next available tower);
(3) If the data is sent sucessfully: Then the city
(3.1) Skips three towers. (Doesnt care if these three towers are connection-accepting or not);
(3.2) Tries to send data to the next tower (the fouth one after the skipping), by using step (2);
Input format:
Input consists of multiple testcases.
First line of each test case, contains two integers: D C T; The range, the number of cities and the number of towers, respectively.
Second line contains exactly C integers saying the location of the cities (on the X-axis).
The next T lines contain exactly two integers: location\[i\] connection-cost\[i\]; which is the position of tower i, and the cost to setup tower i as connection-accepting;
The input ends with a line: "-1 -1 -1"
Output format:
For each test case, output a single line saying the maximum amount of profit you can make.
Constraints:
Now two points (towers or cities), will have the same X-coordinate. T,C <= 100.
Sample Input:
```
4 9 6
23
43
18
15
29
50
41
31
40
32 2
26 0
46 7
48 0
50 3
38 1
-1 -1 -1
```
Sample Output:
```
5
```</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
