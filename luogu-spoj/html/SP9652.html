<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>ROBOTGRI - Robots on a grid - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450165:q4Ehn864ToB1GVoHAa6XG+61mEWD2xRi+yEMrCmYmwI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20have%20recently%20made%20a%20grid%20traversing%20robot%20that%20can%20%20%5Cn%20nd%20its%20way%20from%20the%20top%20left%20corner%20of%20a%20grid%20to%20the%20%20%5Cnbottom%20right%20corner.%20However%2C%20you%20had%20forgotten%20all%20your%20%20%5CnAI%20programming%20skills%2C%20so%20you%20only%20programmed%20your%20robot%20%20%5Cnto%20go%20rightwards%20and%20downwards%20%28that%27s%20after%20all%20where%20the%20%20%5Cngoal%20is%29.%20You%20have%20placed%20your%20robot%20on%20a%20grid%20with%20some%20%20%5Cnobstacles%2C%20and%20you%20sit%20and%20observe.%20However%2C%20after%20a%20while%20%20%5Cnyou%20get%20tired%20of%20observing%20it%20getting%20stuck%2C%20and%20ask%20yourself%20%20%5Cn%5C%5C%5C%5CHow%20many%20paths%20are%20there%20from%20the%20start%20position%20to%20the%20%20%5Cngoal%20position%3F%5C%22%2C%20and%20%5C%5C%5C%5CIf%20there%20are%20none%2C%20could%20the%20robot%20have%20%20%5Cnmade%20it%20to%20the%20goal%20if%20it%20could%20walk%20upwards%20and%20leftwards%3F%5C%22%20%20%5CnSo%20you%20decide%20to%20write%20a%20program%20that%2C%20given%20a%20grid%20of%20%20%5Cnsize%20n%20x%20n%20with%20some%20obstacles%20marked%20on%20it%20where%20the%20robot%20%20%5Cncannot%20walk%2C%20counts%20the%20dierent%20ways%20the%20robot%20could%20go%20%20%5Cnfrom%20the%20top%20left%20corner%20s%20to%20the%20bottom%20right%20t%2C%20and%20if%20none%2C%20%20%5Cntests%20if%20it%20were%20possible%20if%20it%20could%20walk%20up%20and%20left%20as%20well.%20%20%5CnHowever%2C%20your%20program%20does%20not%20handle%20very%20large%20numbers%2C%20so%20the%20answer%20should%20be%20%20%5Cngiven%20modulo%202%5E31%20-%201.%22%2C%22inputFormat%22%3A%22On%20the%20rst%20line%20is%20one%20integer%2C%201%20%3C%20n%20%3C%3D%201000.%20Then%20follows%20n%20lines%2C%20each%20with%20n%20characters%2C%20%20%5Cnwhere%20each%20character%20is%20one%20of%20%27.%27%20and%20%27%23%27%2C%20where%20%27.%27%20is%20to%20be%20interpreted%20as%20a%20walkable%20%20%5Cntile%20and%20%27%23%27%20as%20a%20non-walkable%20tile.%20There%20will%20never%20be%20a%20wall%20at%20s%2C%20and%20there%20will%20never%20%20%5Cnbe%20a%20wall%20at%20t.%22%2C%22outputFormat%22%3A%22Output%20one%20line%20with%20the%20number%20of%20dierent%20paths%20starting%20in%20s%20and%20ending%20in%20t%20%28modulo%20%20%5Cn2%5E31%20-%201%29%20or%20THE%20GAME%20IS%20A%20LIE%20if%20you%20cannot%20go%20from%20s%20to%20t%20going%20only%20rightwards%20and%20%20%5Cndownwards%20but%20you%20can%20if%20you%20are%20allowed%20to%20go%20left%20and%20up%20as%20well%2C%20or%20INCONCEIVABLE%20if%20%20%5Cnthere%20simply%20is%20no%20path%20from%20s%20to%20t.%22%2C%22samples%22%3A%5B%5B%225%5C%5Cn.....%5C%5Cn%23..%23.%5C%5Cn%23..%23.%5C%5Cn...%23.%5C%5Cn.....%22%2C%226%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B632%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F9652%22%2C%22id%22%3A%229652%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A1%2C%22pid%22%3A%22SP9652%22%2C%22title%22%3A%22ROBOTGRI%20-%20Robots%20on%20a%20grid%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22ROBOTGRI%20-%20Robots%20on%20a%20grid%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>ROBOTGRI - Robots on a grid</h1>
<h2>题目描述</h2>
<div>You have recently made a grid traversing robot that can
nd its way from the top left corner of a grid to the
bottom right corner. However, you had forgotten all your
AI programming skills, so you only programmed your robot
to go rightwards and downwards (that's after all where the
goal is). You have placed your robot on a grid with some
obstacles, and you sit and observe. However, after a while
you get tired of observing it getting stuck, and ask yourself
\\How many paths are there from the start position to the
goal position?", and \\If there are none, could the robot have
made it to the goal if it could walk upwards and leftwards?"
So you decide to write a program that, given a grid of
size n x n with some obstacles marked on it where the robot
cannot walk, counts the dierent ways the robot could go
from the top left corner s to the bottom right t, and if none,
tests if it were possible if it could walk up and left as well.
However, your program does not handle very large numbers, so the answer should be
given modulo 2^31 - 1.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>On the rst line is one integer, 1 < n <= 1000. Then follows n lines, each with n characters,
where each character is one of '.' and '#', where '.' is to be interpreted as a walkable
tile and '#' as a non-walkable tile. There will never be a wall at s, and there will never
be a wall at t.</div>
<h3>输出格式</h3>
<br />
<div>Output one line with the number of dierent paths starting in s and ending in t (modulo
2^31 - 1) or THE GAME IS A LIE if you cannot go from s to t going only rightwards and
downwards but you can if you are allowed to go left and up as well, or INCONCEIVABLE if
there simply is no path from s to t.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5\n.....\n#..#.\n#..#.\n...#.\n.....</code></pre>
<h3>输出样例 #1</h3>
<pre><code>6</code></pre>
</article>
</div>
</div>
</body>
</html>
