<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>JARA - Jara&amp;#8217;s Legacy - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450040:3wT5u8dloCq7Pi4uUfnNWfDigEn45YQLwHVH2lvmcMQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Victor%20Jara%20was%20a%20Chilean%20teacher%2C%20theater%20director%20and%20political%20activist.%20He%20is%20widely%20%20%5Cnrecognized%20because%20of%20his%20talent%20as%20poet%20and%20song%20writer.%20His%20most%20recognized%20work%20is%20%20%5Cnprobably%20the%20song%20%5Cu201cA%20Desalambrar%5Cu201d%20that%20can%20be%20translated%20from%20Spanish%20as%20%5Cu201cUnwire%5Cu201d.%20%20%5CnIn%20this%20song%20Jara%20assures%20that%20people%20is%20the%20rightful%20owner%20of%20the%20lands%2C%20and%20so%20wire%20fences%20%20%5Cnthat%20delimit%20private%20properties%20should%20be%20cut%20down%20to%20allow%20access%20to%20everybody.%20%20%5CnAlthough%20Jara%5Cu2019s%20proposal%20is%20far%20from%20being%20fulfilled%2C%20some%20of%20his%20convinced%20listeners%20keep%20%20%5Cntrying%20to%20make%20it%20happen.%20Since%20they%20must%20face%20several%20enemies%2C%20they%20try%20to%20make%20their%20%20%5Cnjob%20efficient%20by%20only%20cutting%20down%20the%20necessary%20number%20of%20fences%20and%20not%20more.%20%20%5CnEach%20fence%20can%20be%20modeled%20as%20a%20segment%20%28straight%20line%29%20connecting%20two%20points%20in%20the%20XY%20%20%5Cnplane.%20These%20endpoints%20are%20considered%20to%20be%20part%20of%20the%20fence.%20A%20cut%20in%20a%20fence%20removes%20%20%5Cnany%20contiguous%20part%20of%20the%20fence%20except%20the%20endpoints.%20%20%5CnAn%20area%20is%20said%20to%20be%20free%20if%20and%20only%20if%2C%20for%20any%20pair%20of%20points%20not%20lying%20over%20a%20fence%2C%20there%20%20%5Cnis%20a%20%28not%20necessarily%20straight%29%20line%20that%20connect%20these%20points%20without%20crossing%20any%20fence.%20%20%5CnGiven%20the%20location%20of%20the%20fences%2C%20your%20job%20is%20to%20calculate%20the%20minimum%20number%20of%20fences%20%20%5Cnthat%20need%20to%20be%20cut%20down%20to%20make%20the%20area%20free%2C%20according%20to%20the%20above%20definition.%22%2C%22inputFormat%22%3A%22Each%20test%20case%20is%20described%20using%20several%20lines.%20The%20first%20line%20contains%20an%20integer%20N%20%20%5Cnindicating%20the%20number%20of%20fences%20in%20the%20area%20%281%20describes%20a%20different%20fence%20using%20four%20integers%20X0%20%2C%20Y0%20%2C%20X1%20and%20Y1%20%28%5Cu221210%20%24%20%5E%7B4%7D%20%24%2010%20%24%20%5E%7B4%7D%20%24%20%29.%20These%20values%20represent%20that%20there%20is%20a%20fence%20whose%20endpoints%20in%20the%20XY%20plane%20are%20%20%5Cn%28X0%20%2C%20Y0%20%29%20and%20%28X1%20%2C%20Y1%20%29.%20You%20may%20assume%20that%20for%20each%20fence%20its%20two%20endpoints%20are%20distinct.%20%20%5CnBesides%2C%20within%20each%20test%20case%2C%20the%20intersection%20of%20any%20pair%20of%20fences%20is%20either%20empty%20or%20%20%5Cnit%20is%20an%20endpoint%20of%20both%20fences.%20The%20end%20of%20input%20is%20indicated%20with%20a%20line%20containing%20a%20%20%5Cnsingle%20%5Cu22121.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%2C%20output%20a%20single%20line%20containing%20a%20single%20integer%20representing%20the%20mini-%20%20%5Cnmum%20number%20of%20fences%20that%20need%20to%20be%20cut%20down%20to%20make%20the%20area%20free.%22%2C%22samples%22%3A%5B%5B%22%5C%5Cn9%5C%5Cn-50%200%200%200%5C%5Cn0%200%2050%200%5C%5Cn-50%200%200%2050%5C%5Cn0%2050%2050%200%5C%5Cn-50%200%200%20-50%5C%5Cn0%20-50%2050%200%5C%5Cn0%200%200%20-50%5C%5Cn0%20-50%2050%20-50%5C%5Cn50%20-50%2050%200%5C%5Cn2%5C%5Cn0%201%202%203%5C%5Cn0%200%202%202%5C%5Cn-1%5Cr%5Cn%5C%5Cn%22%2C%22%5C%5Cn4%5C%5Cn0%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B4548%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F7427%22%2C%22id%22%3A%227427%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP7427%22%2C%22title%22%3A%22JARA%20-%20Jara%26%238217%3Bs%20Legacy%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22JARA%20-%20Jara%26%238217%3Bs%20Legacy%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>JARA - Jara&amp;#8217;s Legacy</h1>
<h2>题目描述</h2>
<div>Victor Jara was a Chilean teacher, theater director and political activist. He is widely
recognized because of his talent as poet and song writer. His most recognized work is
probably the song “A Desalambrar” that can be translated from Spanish as “Unwire”.
In this song Jara assures that people is the rightful owner of the lands, and so wire fences
that delimit private properties should be cut down to allow access to everybody.
Although Jara’s proposal is far from being fulfilled, some of his convinced listeners keep
trying to make it happen. Since they must face several enemies, they try to make their
job efficient by only cutting down the necessary number of fences and not more.
Each fence can be modeled as a segment (straight line) connecting two points in the XY
plane. These endpoints are considered to be part of the fence. A cut in a fence removes
any contiguous part of the fence except the endpoints.
An area is said to be free if and only if, for any pair of points not lying over a fence, there
is a (not necessarily straight) line that connect these points without crossing any fence.
Given the location of the fences, your job is to calculate the minimum number of fences
that need to be cut down to make the area free, according to the above definition.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Each test case is described using several lines. The first line contains an integer N
indicating the number of fences in the area (1 describes a different fence using four integers X0 , Y0 , X1 and Y1 (−10 $ ^{4} $ 10 $ ^{4} $ ). These values represent that there is a fence whose endpoints in the XY plane are
(X0 , Y0 ) and (X1 , Y1 ). You may assume that for each fence its two endpoints are distinct.
Besides, within each test case, the intersection of any pair of fences is either empty or
it is an endpoint of both fences. The end of input is indicated with a line containing a
single −1.</div>
<h3>输出格式</h3>
<br />
<div>For each test case, output a single line containing a single integer representing the mini-
mum number of fences that need to be cut down to make the area free.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>\n9\n-50 0 0 0\n0 0 50 0\n-50 0 0 50\n0 50 50 0\n-50 0 0 -50\n0 -50 50 0\n0 0 0 -50\n0 -50 50 -50\n50 -50 50 0\n2\n0 1 2 3\n0 0 2 2\n-1
\n</code></pre>
<h3>输出样例 #1</h3>
<pre><code>\n4\n0</code></pre>
</article>
</div>
</div>
</body>
</html>
