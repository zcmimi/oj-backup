<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>FN16CLK - Clock Breaking - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450657:/+/SK1Tr3La3xVVmT0CSuSarrn/6Y7dpyk6ia3Lm3tk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22After%20numerous%20unfortunate%20freak%20fatalities%20and%20the%20lawsuits%2C%20settlements%2C%20protests%2C%20and%20boycotts%20that%20naturally%20followed%2C%20the%20beleaguered%20executives%20at%20ACME%20Clock%20Manufacturers%20have%20decided%20they%20need%20to%20finally%20fix%20their%20disastrous%20quality%20control%20issues.%20It%20has%20been%20known%20for%20years%20that%20the%20digital%20clocks%20they%20manufacture%20have%20an%20unacceptably%20high%20ratio%20of%20faulty%20liquid-crystal%20display%20%28LCD%29%20screens%2C%20and%20yet%20these%20heartless%20souls%20have%20repeatedly%20failed%20to%20address%20the%20issue%2C%20or%20even%20warn%20their%20hapless%20consumers%21%5Cn%5CnYou%20have%20been%20called%20in%20as%20a%20quality%20consultant%20to%20finally%20put%20a%20stop%20to%20the%20madness.%20Your%20job%20is%20to%20write%20an%20automated%20program%20that%20can%20test%20a%20clock%20and%20find%20faults%20in%20its%20display.%5Cn%5CnThese%20clocks%20use%20a%20standard%207-segment%20LCD%20display%20for%20all%20digits%20%28shown%20in%20figure%20below%29%2C%20plus%20two%20small%20segments%20for%20the%20%2A%2A%3A%2A%2A%2C%20and%20show%20all%20times%20in%20a%2024-hour%20format.%20The%20minute%20before%20midnight%20is%2023%3A59%2C%20and%20midnight%20is%200%3A00.%20The%20%2A%2A%3A%2A%2A%20segments%20of%20a%20working%20clock%20are%20on%20at%20all%20times.%20The%20representation%20of%20each%20digit%20using%20the%20seven%20segments%20is%20shown%20below.%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP27095%5C%2F84454f039c0740dee60af84f40bddb7593ed19df.png%29%5Cn%5CnYour%20program%20will%20be%20given%20the%20display%20of%20a%20clock%20at%20several%20consecutive%20minutes%2C%20although%20you%20do%20not%20know%20exactly%20what%20time%20these%20displays%20start.%20Some%20of%20the%20LCD%20segments%20are%20burnt%20out%20%28permanently%20off%29%20and%20some%20are%20burnt%20in%20%28permanently%20on%29.%20Your%20program%20must%20determine%2C%20where%20possible%2C%20which%20segments%20are%20definitely%20malfunctioning%20and%20which%20are%20definitely%20in%20working%20order.%22%2C%22inputFormat%22%3A%22Multiple%20test%20cases.%20Please%20process%20until%20EOF%20is%20reached.%20For%20each%20test%20case%3A%5Cn%5CnThe%20first%20input%20line%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%201%20%20%20%20%20%5C%5Cleq%20n%20%5C%5Cleq%20100%20%24%20%29%2C%20which%20is%20the%20number%20of%20consecutive%20minutes%20of%20a%20clock%20s%20display.%20The%20next%20%24%208n-1%20%24%20lines%20contain%20%24%20n%20%24%20ASCII%20images%20of%20these%20clock%20displays%20of%20size%20%24%207%20%5C%5Ctimes%20%20%20%20%2021%20%24%20.%20Every%20representation%20is%20followed%20by%20a%20blank%20line%20except%20the%20last%20one%20of%20each%20test%20case.%5Cn%5CnAll%20digit%20segments%20are%20represented%20by%20two%20characters%2C%20and%20each%20colon%20segment%20is%20represented%20by%20one%20character.%20The%20character%20X%20indicates%20a%20segment%20that%20is%20on.%20The%20character%20.%20indicates%20anything%20else%20%28segments%20that%20are%20off%20or%20non-segment%20portions%20of%20the%20display%29.%20See%20the%20sample%20input%5C%2Foutput%20for%20details%3B%20the%20first%20output%20shows%20every%20possible%20LCD%20segment%20along%20with%20the%20smaller%20segments%20used%20to%20represent%20the%20%2A%2A%3A%2A%2A%20.%20No%20clock%20representation%20has%20an%20X%20in%20a%20non-segment%20position%20or%20only%20half%20of%20a%20segment%20showing.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%2C%20display%20a%20%24%207%20%5C%5Ctimes%2021%20%24%20ASCII%20image%20with%20a%200%20for%20every%20segment%20that%20is%20burnt%20out%2C%20a%201%20for%20every%20segment%20that%20is%20burnt%20in%2C%20a%20W%20for%20every%20segment%20that%20is%20definitely%20working%2C%20and%20a%20%3F%20for%20every%20segment%20for%20which%20the%20status%20cannot%20be%20determined.%20Use%20.%20for%20non-segments.%20If%20the%20given%20displays%20cannot%20come%20from%20consecutive%20minutes%2C%20display%20impossible.%22%2C%22samples%22%3A%5B%5B%223%5Cr%5Cn......XX.....XX...XX.%5Cr%5Cn.....X..X...X..X....X%5Cr%5Cn.....X..X.X.X..X....X%5Cr%5Cn.............XX...XX.%5Cr%5Cn.....X..X......X.X..X%5Cr%5Cn.....X..X......X.X..X%5Cr%5Cn......XX.....XX...XX.%5Cr%5Cn%5Cr%5Cn......XX.....XX...XX.%5Cr%5Cn.....X..X...X..X....X%5Cr%5Cn.....X..X.X.X..X....X%5Cr%5Cn.............XX...XX.%5Cr%5Cn.....X..X......X.X..X%5Cr%5Cn.....X..X......X.X..X%5Cr%5Cn......XX.....XX...XX.%5Cr%5Cn%5Cr%5Cn.............XX...XX.%5Cr%5Cn........X...X..X....X%5Cr%5Cn........X.X.X..X....X%5Cr%5Cn.............XX......%5Cr%5Cn........X...X..X.X..X%5Cr%5Cn........X...X..X.X..X%5Cr%5Cn......XX.....XX...XX.%5Cr%5Cn2%5Cr%5Cn......XX.....XX...XX.%5Cr%5Cn...X....X...X..X.X..X%5Cr%5Cn...X....X.X.X..X.X..X%5Cr%5Cn......XX..........XX.%5Cr%5Cn...X.X....X.X..X.X..X%5Cr%5Cn...X.X......X..X.X..X%5Cr%5Cn......XX.....XX...XX.%5Cr%5Cn%5Cr%5Cn......XX.....XX......%5Cr%5Cn...X....X...X..X.....%5Cr%5Cn...X....X.X.X..X.....%5Cr%5Cn......XX.............%5Cr%5Cn...X.X....X.X..X.....%5Cr%5Cn...X.X......X..X.....%5Cr%5Cn......XX.....XX......%22%2C%22.%3F%3F...WW.....%3F%3F...%3F%3F.%5Cr%5Cn%3F..%3F.W..%3F...%3F..1.0..%3F%5Cr%5Cn%3F..%3F.W..%3F.%3F.%3F..1.0..%3F%5Cr%5Cn.%3F%3F...%3F%3F.....11...WW.%5Cr%5Cn%3F..%3F.W..%3F.0.W..%3F.1..%3F%5Cr%5Cn%3F..%3F.W..%3F...W..%3F.1..%3F%5Cr%5Cn.%3F%3F...11.....%3F%3F...%3F%3F.%5Cr%5Cnimpossible%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B4000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F27095%22%2C%22id%22%3A%2227095%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP27095%22%2C%22title%22%3A%22FN16CLK%20-%20Clock%20Breaking%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22FN16CLK%20-%20Clock%20Breaking%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>FN16CLK - Clock Breaking</h1>
<h2>题目描述</h2>
<div>After numerous unfortunate freak fatalities and the lawsuits, settlements, protests, and boycotts that naturally followed, the beleaguered executives at ACME Clock Manufacturers have decided they need to finally fix their disastrous quality control issues. It has been known for years that the digital clocks they manufacture have an unacceptably high ratio of faulty liquid-crystal display (LCD) screens, and yet these heartless souls have repeatedly failed to address the issue, or even warn their hapless consumers!
You have been called in as a quality consultant to finally put a stop to the madness. Your job is to write an automated program that can test a clock and find faults in its display.
These clocks use a standard 7-segment LCD display for all digits (shown in figure below), plus two small segments for the **:**, and show all times in a 24-hour format. The minute before midnight is 23:59, and midnight is 0:00. The **:** segments of a working clock are on at all times. The representation of each digit using the seven segments is shown below.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP27095/84454f039c0740dee60af84f40bddb7593ed19df.png)
Your program will be given the display of a clock at several consecutive minutes, although you do not know exactly what time these displays start. Some of the LCD segments are burnt out (permanently off) and some are burnt in (permanently on). Your program must determine, where possible, which segments are definitely malfunctioning and which are definitely in working order.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Multiple test cases. Please process until EOF is reached. For each test case:
The first input line contains a single integer $ n $ ( $ 1 \leq n \leq 100 $ ), which is the number of consecutive minutes of a clock s display. The next $ 8n-1 $ lines contain $ n $ ASCII images of these clock displays of size $ 7 \times 21 $ . Every representation is followed by a blank line except the last one of each test case.
All digit segments are represented by two characters, and each colon segment is represented by one character. The character X indicates a segment that is on. The character . indicates anything else (segments that are off or non-segment portions of the display). See the sample input/output for details; the first output shows every possible LCD segment along with the smaller segments used to represent the **:** . No clock representation has an X in a non-segment position or only half of a segment showing.</div>
<h3>输出格式</h3>
<br />
<div>For each test case, display a $ 7 \times 21 $ ASCII image with a 0 for every segment that is burnt out, a 1 for every segment that is burnt in, a W for every segment that is definitely working, and a ? for every segment for which the status cannot be determined. Use . for non-segments. If the given displays cannot come from consecutive minutes, display impossible.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
......XX.....XX...XX.
.....X..X...X..X....X
.....X..X.X.X..X....X
.............XX...XX.
.....X..X......X.X..X
.....X..X......X.X..X
......XX.....XX...XX.

......XX.....XX...XX.
.....X..X...X..X....X
.....X..X.X.X..X....X
.............XX...XX.
.....X..X......X.X..X
.....X..X......X.X..X
......XX.....XX...XX.

.............XX...XX.
........X...X..X....X
........X.X.X..X....X
.............XX......
........X...X..X.X..X
........X...X..X.X..X
......XX.....XX...XX.
2
......XX.....XX...XX.
...X....X...X..X.X..X
...X....X.X.X..X.X..X
......XX..........XX.
...X.X....X.X..X.X..X
...X.X......X..X.X..X
......XX.....XX...XX.

......XX.....XX......
...X....X...X..X.....
...X....X.X.X..X.....
......XX.............
...X.X....X.X..X.....
...X.X......X..X.....
......XX.....XX......</code></pre>
<h3>输出样例 #1</h3>
<pre><code>.??...WW.....??...??.
?..?.W..?...?..1.0..?
?..?.W..?.?.?..1.0..?
.??...??.....11...WW.
?..?.W..?.0.W..?.1..?
?..?.W..?...W..?.1..?
.??...11.....??...??.
impossible</code></pre>
</article>
</div>
</div>
</body>
</html>
