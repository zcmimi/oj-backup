<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>ELEC - Electrical Engineering - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450052:rWuxbzSMSdtmo1iYvCLNlBnDfSz95E0kpFwLZ4j4wnA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22The%20electrical%20engineers%5Cu2019%20indefatigable%20strive%20towards%20environmentally%20friendly%20energy%20production%20translated%20into%20the%20recent%20boom%20of%20hydro%2C%20solar%2C%20wind%20and%20geothermal%20power%20plants.%20While%20the%20production%20side%20seems%20ready%2C%20these%20ambitious%20projects%20have%20their%20bottleneck%20in%20the%20transportation%20and%20distribution%3A%20Besides%20the%20energy%20losses%20that%20occur%20during%20transportation%20over%20long%20distances%2C%20the%20renewable%20energy%20sources%20cannot%20provide%20power%20on%20demand%20%5Cu2013%20they%20must%20be%20taken%20as%20provided%20by%20nature.%20Used%20at%20large%20scale%20in%20today%5Cu2019s%20networks%2C%20unreliable%20green%20energy%20can%20disrupt%20the%20balance%20of%20power%20grids%20easily%20and%20cause%20huge%20damage%20along%20with%20large-scale%20power%20outages.%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP7680%5C%2Fdaf977fafaf2f40ff0b00d922f0b07f91be2fec7.png%29%5Cn%5CnSerious%20effort%20is%20thus%20put%20on%20researching%20transient%20and%20dynamic%20phenomena%20in%20power%20grids.%20You%20are%20offered%20a%20position%20in%20the%20lab%20for%20linear%20and%20planar%20distribution%20networks.%20Given%20a%20description%20of%20the%20distribution%20network%5Cu2019s%20line%20impedances%20Z%20%24%20_%7Bi%7D%20%24%20%2C%20you%20are%20to%20find%20the%20equivalent%20impedance%20between%20some%20couples%20of%20nodes.%20The%20knowledge%20of%20such%20equivalent%20impedances%20may%20speed%20up%20the%20network%20analysis%20considerably%21%20Impedances%20are%20complex%20number%20whose%20real%20part%20represents%20the%20resistive%20line%20behaviour%20while%20the%20imaginary%20part%20stands%20for%20the%20capacitive%20%28negative%29%20or%20inductive%20%28positive%29%20characteristic.%20Lines%20are%20bidirectional%2C%20that%20is%20impedance%28a%2Cb%29%20equals%20impedance%20%28b%2Ca%29.%5Cn%5CnIt%20was%20proven%20that%20any%20linear%20and%20planar%20graph%20%28can%20be%20drawn%20in%20a%20way%20that%20its%20edges%20intersect%20only%20at%20their%20endpoints%29%20can%20be%20reduced%20into%20a%20single%20equivalent%20edge%20that%20represents%20the%20equivalent%20impedance%20between%20its%20ending%20nodes%2C%20using%20the%20following%20six%20transformations%3A%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP7680%5C%2Fe4d0cc84237fded20dcb919d80122f147b4b1ddc.png%29%5Cn%5CnNow%20that%20you%20have%20all%20the%20necessary%20operations%20available%2C%20are%20you%20able%20to%20determine%20the%20equivalent%20impedance%20between%20several%20couples%20of%20nodes%3F%5Cn%5Cn%2A%2AINPUT%2A%2A%5Cn%5CnThe%20input%20consists%20of%20several%20test-cases%20separated%20by%20an%20empty%20line.%20Each%20test-case%20starts%20with%20the%20number%20of%20nodes%20_N_%20%281%3C%3DN%3C%3D100%29%2C%20the%20number%20of%20bidirectional%20connections%20_C_%20%280%3C%3DC%3C%3D1000%29%20and%20the%20number%20of%20equivalent%20impedances%20to%20compute%20_Z_%20%280%3C%3DZ%3C%3D10%29%20on%20a%20line.%20Then%20follow%20_C_%20lines%2C%20each%20describing%20one%20bidirectional%20connection%20in%20the%20form%20_%5Cu2018EndPoint%5C%5C_1%5Cu2019%20%5Cu2018EndPoint%5C%5C_2%5Cu2019%20%5Cu2018Impedance%5Cu2019_.%20_%5Cu2018EndPoint%5C%5C_1%5Cu2019_%20_and%20%5Cu2018EndPoint%5C%5C_2%5Cu2019_%20are%20in%20the%20range%20_1_%20to%20_N_%20and%20impedance%20has%20the%20format%20%5Cu2018_re%20im_%5Cu2019%20where%20_re_%20and%20_im_%20designate%20the%20real%20and%20imaginary%20parts%20respectively%2C%20both%20being%20real%20numbers%20_d_%20such%20that%2010%20%24%20%5E%7B-3%7D%20%24%20%3C%20%7Cd%7C%20%3C%2010%20%24%20%5E%7B3%7D%20%24%20.%20The%20next%20_Z_%20lines%20each%20hold%20two%20integers%2C%20the%20indices%20of%20the%20nodes%20between%20which%20you%20are%20to%20compute%20the%20equivalent%20impedance.%20Input%20terminates%20on%20a%20test-case%20_with%20N%3DC%3DZ%3D0_%2C%20which%20must%20not%20be%20evaluated.%5Cn%5Cn%2A%2AOUTPUT%2A%2A%5Cn%5CnFor%20each%20couple%20of%20endpoints%2C%20output%20the%20equivalent%20impedance%20in%20the%20form%20%5Cu2018_re%20im_%5Cu2019%20where%20_re_%20and%20_im_%20designate%20the%20real%20and%20imaginary%20parts%20respectively.%20If%20the%20nodes%20are%20not%20connected%2C%20output%20%5Cu2018no%20connection%5Cu2019.%20Electrical%20engineers%20will%20consider%20your%20result%20as%20correct%20if%20the%20absolute%20error%20on%20the%20real%20and%20imaginary%20parts%20is%20below%2010%20%24%20%5E%7B-2%7D%20%24%20.%20Finish%20each%20test-case%20on%20a%20blank%20line.%5Cn%5Cn%2A%2ASAMPLE%20INPUT%2A%2A%5Cn%5Cn5%2010%203%5Cn%5Cn3%201%2012.317%20-0.779%5Cn%5Cn5%203%2030.107%200.289%5Cn%5Cn5%201%2027.447%20-22.649%5Cn%5Cn4%202%2015.351%2024.371%5Cn%5Cn5%205%2019.63%20-3.549%5Cn%5Cn2%202%2011.841%2018.757%5Cn%5Cn4%205%204.834%20-16.542%5Cn%5Cn3%205%205.022%20-22.387%5Cn%5Cn2%205%2024.768%20-22.356%5Cn%5Cn5%202%2027.351%2012.053%5Cn%5Cn1%202%5Cn%5Cn2%203%5Cn%5Cn3%203%5Cn%5Cn10%2010%204%5Cn%5Cn9%208%206.36%2017.411%5Cn%5Cn1%203%2027.596%20-6.484%5Cn%5Cn9%2010%204.735%20-8.282%5Cn%5Cn8%208%206.901%2027.939%5Cn%5Cn8%204%2014.894%203.729%5Cn%5Cn5%204%2014.311%20-2.422%5Cn%5Cn10%2010%2011.009%206.225%5Cn%5Cn4%204%203.196%20-32.703%5Cn%5Cn10%209%2015.282%20-14.799%5Cn%5Cn3%209%2020.473%2027.158%5Cn%5Cn10%209%5Cn%5Cn8%201%5Cn%5Cn2%209%5Cn%5Cn9%206%5Cn%5Cn%2A%2ASAMPLE%20OUTPUT%2A%2A%5Cn%5Cn%20%6023.37%20-7.26%60%20%6019.61%20-6.97%60%20%600.00%200.00%60%20%60%60%60%5Cn%5Cn%60%60%60%5Cn%20%603.79%20-5.46%60%20%6054.43%2038.09%60%20%60no%20connection%60%20%60no%20connection%60%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP7680%5C%2F092505ecd957f6a7fe93919ea63fea835ab512f9.png%29%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP7680%5C%2F985082fa0d854d2ed6eba0a4839cce251498f08a.png%29%5Cn%5CnSample%20input%201%20Sample%20input%202%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F7680%22%2C%22id%22%3A%227680%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP7680%22%2C%22title%22%3A%22ELEC%20-%20Electrical%20Engineering%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22ELEC%20-%20Electrical%20Engineering%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>ELEC - Electrical Engineering</h1>
<h2>题目描述</h2>
<div>The electrical engineers’ indefatigable strive towards environmentally friendly energy production translated into the recent boom of hydro, solar, wind and geothermal power plants. While the production side seems ready, these ambitious projects have their bottleneck in the transportation and distribution: Besides the energy losses that occur during transportation over long distances, the renewable energy sources cannot provide power on demand – they must be taken as provided by nature. Used at large scale in today’s networks, unreliable green energy can disrupt the balance of power grids easily and cause huge damage along with large-scale power outages.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP7680/daf977fafaf2f40ff0b00d922f0b07f91be2fec7.png)
Serious effort is thus put on researching transient and dynamic phenomena in power grids. You are offered a position in the lab for linear and planar distribution networks. Given a description of the distribution network’s line impedances Z $ _{i} $ , you are to find the equivalent impedance between some couples of nodes. The knowledge of such equivalent impedances may speed up the network analysis considerably! Impedances are complex number whose real part represents the resistive line behaviour while the imaginary part stands for the capacitive (negative) or inductive (positive) characteristic. Lines are bidirectional, that is impedance(a,b) equals impedance (b,a).
It was proven that any linear and planar graph (can be drawn in a way that its edges intersect only at their endpoints) can be reduced into a single equivalent edge that represents the equivalent impedance between its ending nodes, using the following six transformations:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP7680/e4d0cc84237fded20dcb919d80122f147b4b1ddc.png)
Now that you have all the necessary operations available, are you able to determine the equivalent impedance between several couples of nodes?
**INPUT**
The input consists of several test-cases separated by an empty line. Each test-case starts with the number of nodes _N_ (1<=N<=100), the number of bidirectional connections _C_ (0<=C<=1000) and the number of equivalent impedances to compute _Z_ (0<=Z<=10) on a line. Then follow _C_ lines, each describing one bidirectional connection in the form _‘EndPoint\_1’ ‘EndPoint\_2’ ‘Impedance’_. _‘EndPoint\_1’_ _and ‘EndPoint\_2’_ are in the range _1_ to _N_ and impedance has the format ‘_re im_’ where _re_ and _im_ designate the real and imaginary parts respectively, both being real numbers _d_ such that 10 $ ^{-3} $ < |d| < 10 $ ^{3} $ . The next _Z_ lines each hold two integers, the indices of the nodes between which you are to compute the equivalent impedance. Input terminates on a test-case _with N=C=Z=0_, which must not be evaluated.
**OUTPUT**
For each couple of endpoints, output the equivalent impedance in the form ‘_re im_’ where _re_ and _im_ designate the real and imaginary parts respectively. If the nodes are not connected, output ‘no connection’. Electrical engineers will consider your result as correct if the absolute error on the real and imaginary parts is below 10 $ ^{-2} $ . Finish each test-case on a blank line.
**SAMPLE INPUT**
5 10 3
3 1 12.317 -0.779
5 3 30.107 0.289
5 1 27.447 -22.649
4 2 15.351 24.371
5 5 19.63 -3.549
2 2 11.841 18.757
4 5 4.834 -16.542
3 5 5.022 -22.387
2 5 24.768 -22.356
5 2 27.351 12.053
1 2
2 3
3 3
10 10 4
9 8 6.36 17.411
1 3 27.596 -6.484
9 10 4.735 -8.282
8 8 6.901 27.939
8 4 14.894 3.729
5 4 14.311 -2.422
10 10 11.009 6.225
4 4 3.196 -32.703
10 9 15.282 -14.799
3 9 20.473 27.158
10 9
8 1
2 9
9 6
**SAMPLE OUTPUT**
`23.37 -7.26` `19.61 -6.97` `0.00 0.00` ```
```
`3.79 -5.46` `54.43 38.09` `no connection` `no connection`![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP7680/092505ecd957f6a7fe93919ea63fea835ab512f9.png) ![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP7680/985082fa0d854d2ed6eba0a4839cce251498f08a.png)
Sample input 1 Sample input 2</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
