<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>CDC12_G - Glory War - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450321:Rkph7iMgpxC4sWR1BEtNnSHHu4aaI9dz8acwjP211Vk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Ronny%20is%20hiding%20on%20the%20building%20where%20he%20left%20his%20family%20after%20failing%20the%20guard%20test%20%28the%20guard%5Cn%5Cntold%20him%20not%20to%20cheat%20and%20got%20angry%20after%20your%20help%29.%20The%20rainbowlandians%20are%20brutally%20attack-%5Cn%5Cning%20the%20citizens%20of%20planet%20Earth%2C%20there%20are%20corpses%20everywhere%20and%20desesperate%20people%20running%5Cn%5Cnon%20the%20street.%20Ronny%20must%20protect%20his%20family%20and%20that%5Cu2019s%20why%20he%20has%20decided%20to%20take%20down%20all%5Cn%5Cnthe%20rainbowlandians%20inside%20the%20building%20as%20soon%20as%20possible.%5Cn%5CnRonny%20know%20very%20little%20about%20the%20rainbowlandians%2C%20but%20he%20knows%20that%20he%20must%20be%20silent%20when%5Cn%5Cnhe%20takes%20down%20one%20of%20then%2C%20hence%2C%20he%20hides%20his%20noisy%20gun%20in%20his%20pocket%2C%20impeding%20him%20to%20attack%5Cn%5Cnthem%20from%20the%20distance.%20In%20order%20to%20take%20down%20the%20Rainbowlandians%2C%20a%20knife%20or%20a%20good%20flying%5Cn%5Cnkick%20will%20do%20the%20job.%20Ronny%20must%20step%20on%20the%20same%20space%20a%20Rainbowlandian%20is%20to%20take%20him%5Cn%5Cndown.%20The%20building%20is%20full%20of%20rubble%20and%20some%20paths%20will%20lead%20to%20a%20trap.%20Fortunately%2C%20Ronnie%5Cn%5Cncan%20throw%20a%20rope%20and%20go%20up%20or%20down%20through%20floors%20while%20he%20is%20walking%20the%20building.%20Obviously%2C%5Cn%5Cnhe%20cannot%20throw%20the%20rope%20if%20this%20will%20lead%20him%20to%20a%20rubble-full%20step.%5Cn%5CnGiven%20the%20dimensions%20of%20the%20building%2C%20its%20width%2C%20height%20and%20depth%20and%20the%20marked%20targets%2C%5Cn%5Cnyou%5Cu2019re%20to%20make%20a%20program%20to%20help%20Ronny%20take%20down%20the%20Rainbowlandians%20in%20the%20minimum%5Cn%5Cnsteps%20possible%20so%20he%20can%20do%20the%20minimum%20noise%20possible.%5Cn%5CnPlease%20note%20that%3A%5Cn%5Cn%5Cu2022%20Ronny%20starts%20at%20the%20north%20west%20corner%20of%20the%20first%20floor%20of%20the%20building%20%281%2C1%2C1%29%5Cn%5Cn%5Cu2022%20Ronny%20can%20only%20move%20to%20these%20possible%20directions%3A%20east%2C%20west%2C%20north%2C%20south%2C%20in%20addition%2C%5Cn%5Cnhe%20can%20go%20while%20moving%20up%20or%20down.%5Cn%5Cn%5Cu2022%20Ronny%20cannot%20leave%20the%20building%20at%20any%20moment%20and%20there%5Cu2019s%20no%20basement%20in%20the%20building%5Cn%5Cnneither%2C%20so%20he%20can%5Cu2019t%20be%20lower%20than%20height%201.%5Cn%5Cn%2A%2AInput%2A%2A%5Cn%5CnThe%20first%20line%20contains%20an%20integer%20T%20%2C%20which%20specifies%20the%20number%20of%20test%20cases.%20Then%2C%20will%20follow%5Cn%5Cnthe%20descriptions%20of%20T%20test%20cases.%5Cn%5CnEach%20test%20case%20will%20start%20with%20two%20integers%20N%20and%20H%2C%20where%20N%20denotes%20the%20width%20and%20depth%20of%5Cn%5Cneach%20floor%20and%20H%20denotes%20the%20number%20of%20floors.%20Then%2C%20there%20will%20be%20H%20N%5Cu00d7N%20matrices%2C%20each%20one%5Cn%5Cndescribing%20each%20floor.%20The%20floor%20description%20is%20composed%20of%20the%20following%20characters%3A%5Cn%5Cn%5Cu2022%20The%20character%20%5Cu2019%23%5Cu2019%20denotes%20a%20rubble%20space.%5Cn%5Cn%5Cu2022%20The%20character%20%5Cu2019.%5Cu2019%20denotes%20a%20free%20space.%5Cn%5Cn%5Cu2022%20The%20character%20%5Cu2019%5C%5C%2A%5Cu2019%20denotes%20a%20rainbowlandian.%5Cn%5CnThe%20input%20must%20be%20read%20from%20standard%20input.%5Cn%5Cn%2A%2AOutput%2A%2A%5Cn%5CnFor%20each%20input%20case%20you%20must%20print%20the%20string%20%5C%22Scenario%20%23i%3A%20%5C%22%20where%20i%20is%20the%20test%20case%20you%5Cu2019re%5Cn%5Cnevaluating%20%28starting%20by%201%29%2C%20followed%20by%20the%20minimum%20steps%20that%20Ronny%20have%20to%20make%20to%20take%5Cn%5Cndown%20all%20the%20enemies%20inside%20the%20building.%20If%20this%20is%20impossible%2C%20print%20-1.%5Cn%5CnThe%20output%20must%20be%20written%20to%20standard%20output.%5Cn%5Cn%20Input%20Output%203%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F12562%22%2C%22id%22%3A%2212562%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP12562%22%2C%22title%22%3A%22CDC12_G%20-%20Glory%20War%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22CDC12_G%20-%20Glory%20War%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>CDC12_G - Glory War</h1>
<h2>题目描述</h2>
<div>Ronny is hiding on the building where he left his family after failing the guard test (the guard
told him not to cheat and got angry after your help). The rainbowlandians are brutally attack-
ing the citizens of planet Earth, there are corpses everywhere and desesperate people running
on the street. Ronny must protect his family and that’s why he has decided to take down all
the rainbowlandians inside the building as soon as possible.
Ronny know very little about the rainbowlandians, but he knows that he must be silent when
he takes down one of then, hence, he hides his noisy gun in his pocket, impeding him to attack
them from the distance. In order to take down the Rainbowlandians, a knife or a good flying
kick will do the job. Ronny must step on the same space a Rainbowlandian is to take him
down. The building is full of rubble and some paths will lead to a trap. Fortunately, Ronnie
can throw a rope and go up or down through floors while he is walking the building. Obviously,
he cannot throw the rope if this will lead him to a rubble-full step.
Given the dimensions of the building, its width, height and depth and the marked targets,
you’re to make a program to help Ronny take down the Rainbowlandians in the minimum
steps possible so he can do the minimum noise possible.
Please note that:
• Ronny starts at the north west corner of the first floor of the building (1,1,1)
• Ronny can only move to these possible directions: east, west, north, south, in addition,
he can go while moving up or down.
• Ronny cannot leave the building at any moment and there’s no basement in the building
neither, so he can’t be lower than height 1.
**Input**
The first line contains an integer T , which specifies the number of test cases. Then, will follow
the descriptions of T test cases.
Each test case will start with two integers N and H, where N denotes the width and depth of
each floor and H denotes the number of floors. Then, there will be H N×N matrices, each one
describing each floor. The floor description is composed of the following characters:
• The character ’#’ denotes a rubble space.
• The character ’.’ denotes a free space.
• The character ’\*’ denotes a rainbowlandian.
The input must be read from standard input.
**Output**
For each input case you must print the string "Scenario #i: " where i is the test case you’re
evaluating (starting by 1), followed by the minimum steps that Ronny have to make to take
down all the enemies inside the building. If this is impossible, print -1.
The output must be written to standard output.
Input Output 3</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
