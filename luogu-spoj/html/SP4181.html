<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MELE3 - MELE3 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449861:Z+tdXbp0rQKtfVbH5Z6ICRDPGVRnHa48JLNDv4vbfuU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BEnglish%5D%28%5C%2Fproblems%5C%2FMELE3%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FMELE3%5C%2Fvn%5C%2F%29%20Solitaire%20has%20N%20elevators.%20Each%20elevator%20are%20connecting%20exactly%20two%20floors%20and%20it%20does%20not%20stop%20on%20the%20floors%20between%20that%20two%20floors%20The%20speed%20of%20all%20the%20elevators%20are%20the%20same%2C%205%20seconds%20to%20pass%20one%20floor.%5Cn%5Cn%20On%20the%20beginning%2C%20each%20elevator%20is%20in%20its%20lower%20position%20and%20they%20are%20starting%20cruising%20to%20the%20upper%20floor.%20After%20some%20elevator%20come%20to%20its%20upper%20position%2C%20it%20immediatly%20starts%20to%20go%20back%20to%20its%20lower%20position%2C%20and%20so%20on...%5Cn%5Cn%20Mirko%20is%20on%20the%20first%20%28the%20lowest%29%20floor%20and%20he%20wants%20as%20quick%20as%20possible%20come%20to%20the%20top%20of%20the%20solitaire.%20He%20can%20change%20elevators%20only%20on%20the%20floors%20that%20are%20common%20to%20both%20elevators%2C%20and%20if%20the%20other%20elevator%20is%20in%20that%20moment%20on%20that%20floor%2C%20that%20change%20does%20not%20take%20any%20time.%5Cn%5Cn%20Write%20a%20program%20that%20will%20calculate%20minimal%20time%20in%20which%20Mirko%20can%20get%20to%20the%20top%20of%20the%20solitaire.%22%2C%22inputFormat%22%3A%22%20In%20the%20first%20line%20of%20the%20input%20file%20there%20are%20two%20integers%20K%20and%20N%2C%20separated%20with%20space%2C%20number%20of%20floors%20in%20solitaire%20and%20number%20of%20elevators%2C%202%20%5Cu2264%20K%20%5Cu2264%201000%2C%201%20%5Cu2264%20N%20%5Cu2264%2050000.%5Cn%5Cn%20In%20each%20of%20the%20next%20N%20lines%20there%20are%20description%20of%20one%20elevator%2C%20two%20integers%20A%20and%20B%2C%20separated%20with%20space%2C%201%20%5Cu2264%20A%20%3C%20B%20%5Cu2264%20K%2C%20means%20that%20elevator%20is%20travelling%20between%20floors%20A%20and%20B.%5Cn%5Cn%20There%20are%20no%20two%20different%20elevators%20that%20travels%20between%20same%20floors.%5Cn%5Cn%20Note%3A%20input%20data%20will%20guarantee%20that%20solution%20will%20always%20exists.%22%2C%22outputFormat%22%3A%22%20In%20the%20only%20line%20of%20output%20file%20write%20minimal%20time%20%28in%20seconds%29%20from%20the%20text%20above.%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B211%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F4181%22%2C%22id%22%3A%224181%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP4181%22%2C%22title%22%3A%22MELE3%20-%20MELE3%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MELE3%20-%20MELE3%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MELE3 - MELE3</h1>
<h2>题目描述</h2>
<div>[English](/problems/MELE3/en/) [Vietnamese](/problems/MELE3/vn/) Solitaire has N elevators. Each elevator are connecting exactly two floors and it does not stop on the floors between that two floors The speed of all the elevators are the same, 5 seconds to pass one floor.
On the beginning, each elevator is in its lower position and they are starting cruising to the upper floor. After some elevator come to its upper position, it immediatly starts to go back to its lower position, and so on...
Mirko is on the first (the lowest) floor and he wants as quick as possible come to the top of the solitaire. He can change elevators only on the floors that are common to both elevators, and if the other elevator is in that moment on that floor, that change does not take any time.
Write a program that will calculate minimal time in which Mirko can get to the top of the solitaire.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> In the first line of the input file there are two integers K and N, separated with space, number of floors in solitaire and number of elevators, 2 ≤ K ≤ 1000, 1 ≤ N ≤ 50000.
In each of the next N lines there are description of one elevator, two integers A and B, separated with space, 1 ≤ A < B ≤ K, means that elevator is travelling between floors A and B.
There are no two different elevators that travels between same floors.
Note: input data will guarantee that solution will always exists.</div>
<h3>输出格式</h3>
<br />
<div> In the only line of output file write minimal time (in seconds) from the text above.</div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
