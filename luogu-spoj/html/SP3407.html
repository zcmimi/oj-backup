<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>SAMER08C - Candy - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449799:ArsuMdfBGJ/K1KoX9e1zw1A4u8LaJB2k5EWx+Nf9DWU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Little%20Charlie%20is%20a%20nice%20boy%20addicted%20to%20candies.%20He%20is%20even%20a%20subscriber%20to%20All%20Candies%20Magazine%20and%20was%20selected%20to%20participate%20in%20the%20International%20Candy%20Picking%20Contest.%5Cn%5CnIn%20this%20contest%20a%20random%20number%20of%20boxes%20containing%20candies%20are%20disposed%20in%20_M_%20rows%20with%20_N_%20columns%20each%20%28so%2C%20there%20are%20a%20total%20of%20_M_%20%5Cu00d7_N_%20boxes%29.%20Each%20box%20has%20a%20number%20indicating%20how%20many%20candies%20it%20contains.%5Cn%5CnThe%20contestant%20can%20pick%20a%20box%20%28any%20one%29%20and%20get%20all%20the%20candies%20it%20contains.%20But%20there%20is%20a%20catch%20%28there%20is%20always%20a%20catch%29%3A%20when%20choosing%20a%20box%2C%20all%20the%20boxes%20from%20the%20rows%20immediately%20above%20and%20immediately%20below%20are%20emptied%2C%20as%20well%20as%20the%20box%20to%20the%20left%20and%20the%20box%20to%20the%20right%20of%20the%20chosen%20box.%20The%20contestant%20continues%20to%20pick%20a%20box%20until%20there%20are%20no%20candies%20left.%5Cn%5CnThe%20figure%20bellow%20illustrates%20this%2C%20step%20by%20step.%20Each%20cell%20represents%20one%20box%20and%20the%20number%20of%20candies%20it%20contains.%20At%20each%20step%2C%20the%20chosen%20box%20is%20circled%20and%20the%20shaded%20cells%20represent%20the%20boxes%20that%20will%20be%20emptied.%20After%20eight%20steps%20the%20game%20is%20over%20and%20Charlie%20picked%2010%2B9%2B8%2B3%2B7%2B6%2B10%2B1%20%3D%2054%20candies.%5Cn%5Cn%20%21%5Bsubir%20imagenes%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP3407%5C%2Ffb8a1f7e236e517de2a9e205e11d9ce43bb6a12f.png%29%20%20%5Cn%20%20%5Cn%20For%20small%20values%20of%20_M_%20and%20_N_%2C%20Charlie%20can%20easily%20find%20the%20maximum%20number%20of%20candies%20he%20can%20pick%2C%20but%20when%20the%20numbers%20are%20really%20large%20he%20gets%20completely%20lost.%20Can%20you%20help%20Charlie%20maximize%20the%20number%20of%20candies%20he%20can%20pick%3F%22%2C%22inputFormat%22%3A%22The%20input%20contains%20several%20test%20cases.%20The%20first%20line%20of%20a%20test%20case%20contains%20two%20positive%20integers%20_M_%20and%20_N_%20%281%20M%20%5Cu00d7_N_%20M%20lines%20contains%20_N_%20integers%20separated%20by%20single%20spaces%2C%20each%20representing%20the%20initial%20number%20of%20candies%20in%20the%20corresponding%20box.%20Each%20box%20will%20have%20initially%20at%20least%201%20and%20at%20most%2010%20%24%20%5E%7B3%7D%20%24%20candies.%5Cn%5CnThe%20end%20of%20input%20is%20indicated%20by%20a%20line%20containing%20two%20zeroes%20separated%20by%20a%20single%20space.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%20in%20the%20input%2C%20your%20program%20must%20print%20a%20single%20line%2C%20containing%20a%20single%20value%2C%20the%20integer%20indicating%20the%20maximum%20number%20of%20candies%20that%20Charlie%20can%20pick.%22%2C%22samples%22%3A%5B%5B%225%205%5Cr%5Cn1%208%202%201%209%5Cr%5Cn1%207%203%205%202%5Cr%5Cn1%202%2010%203%2010%5Cr%5Cn8%204%207%209%201%5Cr%5Cn7%201%203%201%206%5Cr%5Cn4%204%5Cr%5Cn10%201%201%2010%5Cr%5Cn1%201%201%201%5Cr%5Cn1%201%201%201%5Cr%5Cn10%201%201%2010%5Cr%5Cn2%204%5Cr%5Cn9%2010%202%207%5Cr%5Cn5%201%201%205%5Cr%5Cn0%200%22%2C%2254%5Cr%5Cn40%5Cr%5Cn17%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B344%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3407%22%2C%22id%22%3A%223407%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP3407%22%2C%22title%22%3A%22SAMER08C%20-%20Candy%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22SAMER08C%20-%20Candy%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>SAMER08C - Candy</h1>
<h2>题目描述</h2>
<div>Little Charlie is a nice boy addicted to candies. He is even a subscriber to All Candies Magazine and was selected to participate in the International Candy Picking Contest.
In this contest a random number of boxes containing candies are disposed in _M_ rows with _N_ columns each (so, there are a total of _M_ ×_N_ boxes). Each box has a number indicating how many candies it contains.
The contestant can pick a box (any one) and get all the candies it contains. But there is a catch (there is always a catch): when choosing a box, all the boxes from the rows immediately above and immediately below are emptied, as well as the box to the left and the box to the right of the chosen box. The contestant continues to pick a box until there are no candies left.
The figure bellow illustrates this, step by step. Each cell represents one box and the number of candies it contains. At each step, the chosen box is circled and the shaded cells represent the boxes that will be emptied. After eight steps the game is over and Charlie picked 10+9+8+3+7+6+10+1 = 54 candies.
![subir imagenes](https://cdn.luogu.com.cn/upload/vjudge_pic/SP3407/fb8a1f7e236e517de2a9e205e11d9ce43bb6a12f.png)
For small values of _M_ and _N_, Charlie can easily find the maximum number of candies he can pick, but when the numbers are really large he gets completely lost. Can you help Charlie maximize the number of candies he can pick?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The input contains several test cases. The first line of a test case contains two positive integers _M_ and _N_ (1 M ×_N_ M lines contains _N_ integers separated by single spaces, each representing the initial number of candies in the corresponding box. Each box will have initially at least 1 and at most 10 $ ^{3} $ candies.
The end of input is indicated by a line containing two zeroes separated by a single space.</div>
<h3>输出格式</h3>
<br />
<div>For each test case in the input, your program must print a single line, containing a single value, the integer indicating the maximum number of candies that Charlie can pick.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 5
1 8 2 1 9
1 7 3 5 2
1 2 10 3 10
8 4 7 9 1
7 1 3 1 6
4 4
10 1 1 10
1 1 1 1
1 1 1 1
10 1 1 10
2 4
9 10 2 7
5 1 1 5
0 0</code></pre>
<h3>输出样例 #1</h3>
<pre><code>54
40
17</code></pre>
</article>
</div>
</div>
</body>
</html>
