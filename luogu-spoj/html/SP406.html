<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>LOGIC - Logic - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449592:3YqK9LEPuh375UmzgD13uvrowHi+rxISzBlZJPrnYhg=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Consider%20a%2010x10%20grid.%20Cells%20in%20this%20grid%20can%20contain%20one%20of%20five%20logic%20operations%20%28AND%2C%20OR%2C%20NOT%2C%20Input%2C%20Output%29.%20These%20can%20be%20joined%20together%20to%20form%20a%20logic%20circuit.%20Given%20a%20description%20of%20a%20circuit%20and%20a%20set%20of%20boolean%20values%2C%20build%20the%20logic%20circuit%20and%20execute%20the%20input%20stream%20against%20it.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20a%20single%20integer%20_n_%2C%20which%20specifies%20the%20number%20of%20circuits%20to%20be%20processed.%20There%20will%20then%20be%20_n_%20groups%20of%20circuit%20descriptions%20and%20test%20values.%5Cn%5Cn%20A%20circuit%20is%20made%20up%20of%20a%20number%20of%20operations.%20Each%20line%20describing%20an%20operation%20begins%20with%20three%20characters%3A%20the%20co-ordinates%20for%20a%20cell%2C%200-9%20on%20the%20_X_-axis%20then%200-9%20on%20the%20_Y_-axis%2C%20followed%20by%20a%20single%20character%20to%20represent%20the%20operation%20of%20that%20cell%20%28%60%26%27%20for%20AND%2C%20%60%7C%27%20for%20OR%2C%20%60%21%27%20for%20NOT%2C%20%60i%27%20for%20Input%20and%20%60o%27%20for%20Output%29.%20Optionally%20following%20each%20triple%20is%20a%20set%20of%20co-ordinate%20pairs%20which%20represent%20the%20_x_%20and%20_y_%20co-ordinates%20of%20cells%20that%20take%20the%20output%20of%20this%20cells%20operation%20as%20an%20input%20for%20theirs.%20This%20%28possibly%20empty%29%20output%20list%20is%20terminated%20by%20%60..%27.%20The%20list%20of%20operations%20is%20terminated%20by%20a%20line%20containing%20the%20word%20%60end%27.%5Cn%5Cn%20Next%2C%20for%20each%20circuit%2C%20comes%20the%20set%20of%20test%20values.%20The%20first%20line%20contains%20an%20integer%20_t_%20which%20gives%20the%20number%20of%20test%20cases%20your%20program%20must%20run.%20Next%2C%20there%20are%20_t_%20lines%2C%20each%20line%20containing%20a%20sequence%20of%20%600%27%20and%20%601%27%20characters%20symbolising%20the%20input%20values%20for%20one%20test%20case.%20The%20number%20of%20inputs%20will%20always%20correspond%20to%20the%20number%20of%20inputs%20defined%20by%20the%20circuit%20description.%20The%20input%20values%20are%20to%20be%20applied%20to%20the%20inputs%20in%20the%20order%20in%20which%20the%20input%20operations%20were%20defined%20in%20the%20circuit%20description.%5Cn%5Cn%20The%20next%20circuit%20description%2C%20if%20any%2C%20will%20then%20follow.%22%2C%22outputFormat%22%3A%22For%20each%20circuit%2C%20your%20program%20should%20output%20one%20line%20for%20each%20test%20case%20given%20in%20the%20input.%20The%20line%20should%20contain%20one%20%600%27%20or%20%601%27%20character%20for%20each%20output%20defined%20by%20the%20circuit%20description%20in%20the%20order%20in%20which%20the%20outputs%20were%20defined.%5Cn%5Cn%20Your%20program%20should%20output%20a%20blank%20line%20after%20each%20set%20of%20test%20cases.%22%2C%22samples%22%3A%5B%5B%221%5Cr%5Cn00i%2011%2013%20..%5Cr%5Cn02i%2011%2013%20..%5Cr%5Cn11%26%2021%20..%5Cr%5Cn21o%20..%5Cr%5Cn13%7C%2023%20..%5Cr%5Cn23o%20..%5Cr%5Cnend%5Cr%5Cn4%5Cr%5Cn00%5Cr%5Cn01%5Cr%5Cn10%5Cr%5Cn11%22%2C%2200%5Cr%5Cn01%5Cr%5Cn01%5Cr%5Cn11%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B897%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F406%22%2C%22id%22%3A%22406%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP406%22%2C%22title%22%3A%22LOGIC%20-%20Logic%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22LOGIC%20-%20Logic%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>LOGIC - Logic</h1>
<h2>题目描述</h2>
<div>Consider a 10x10 grid. Cells in this grid can contain one of five logic operations (AND, OR, NOT, Input, Output). These can be joined together to form a logic circuit. Given a description of a circuit and a set of boolean values, build the logic circuit and execute the input stream against it.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains a single integer _n_, which specifies the number of circuits to be processed. There will then be _n_ groups of circuit descriptions and test values.
A circuit is made up of a number of operations. Each line describing an operation begins with three characters: the co-ordinates for a cell, 0-9 on the _X_-axis then 0-9 on the _Y_-axis, followed by a single character to represent the operation of that cell (`&' for AND, `|' for OR, `!' for NOT, `i' for Input and `o' for Output). Optionally following each triple is a set of co-ordinate pairs which represent the _x_ and _y_ co-ordinates of cells that take the output of this cells operation as an input for theirs. This (possibly empty) output list is terminated by `..'. The list of operations is terminated by a line containing the word `end'.
Next, for each circuit, comes the set of test values. The first line contains an integer _t_ which gives the number of test cases your program must run. Next, there are _t_ lines, each line containing a sequence of `0' and `1' characters symbolising the input values for one test case. The number of inputs will always correspond to the number of inputs defined by the circuit description. The input values are to be applied to the inputs in the order in which the input operations were defined in the circuit description.
The next circuit description, if any, will then follow.</div>
<h3>输出格式</h3>
<br />
<div>For each circuit, your program should output one line for each test case given in the input. The line should contain one `0' or `1' character for each output defined by the circuit description in the order in which the outputs were defined.
Your program should output a blank line after each set of test cases.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1
00i 11 13 ..
02i 11 13 ..
11&amp; 21 ..
21o ..
13| 23 ..
23o ..
end
4
00
01
10
11</code></pre>
<h3>输出样例 #1</h3>
<pre><code>00
01
01
11</code></pre>
</article>
</div>
</div>
</body>
</html>
