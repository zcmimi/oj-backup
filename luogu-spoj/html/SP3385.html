<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>YODA - Yoda Goes Palindromic ! - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449796:HpTzz9AqV4gPVXSTUjIHT+GyaibQA03y6n2Y6WSj84M=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22According%20to%20a%20very%20famous%20web%20site%2C%20which%20in%20this%20case%20we%20will%20trust%2C%20defines%20a%20palindrome%20as%20%5Cu2018a%20word%2C%20phrase%2C%20verse%2C%20or%20sentence%20that%20reads%20the%20same%20backward%20or%20forward%5Cu2019.%20For%20example%2C%20the%20phrase%20A%20man%2C%20a%20plan%2C%20a%20canal%2C%20Panama%21%20is%20a%20palindrome.%20Actually%2C%20writing%20texts%20consisting%20of%20only%20palindromes%20is%20part%20of%20a%20literary%20technique%20called%20constrained%20writing.%20%20%5Cn%20%20%5Cn%20Now%20imagine%20the%20wise%20Yoda%2C%20the%20master%20of%20all%2C%20whose%20proficiency%20putting%20words%20together%20in%20sentences%20is%20one%20of%20his%20well-kwnown%20abilities.%20He%20is%20now%20interested%20in%20enriching%20his%20long-%20lasting%2C%20and%20maybe%20boring%2C%20inactivity%20periods%20by%20%5Cu2018composing%5Cu2019%20palindromic%20sentences.%20That%20is%2C%20he%20has%20plans%20to%20use%20only%20palindromic%20sentences%20for%20his%20chats.%20For%20this%20matter%2C%20he%20needs%20to%20practice.%20The%20first%20task%20in%20his%20practice%20plan%20is%20to%20count%20all%20the%20palindromes%20that%20can%20be%20arranged%20out%20of%20a%20collection%20of%20characters.%20%20%5Cn%20%20%5Cn%20Today%2C%20you%20will%20be%20Yoda%5Cu2019s%20assistant%20for%20this%20first%20task.%20Your%20only%20mission%20is%20to%2C%20given%20a%20sequence%20of%20characters%2C%20determine%20how%20many%20palindromes%20can%20be%20obtained%20with%20some%20of%20the%20characters%20in%20the%20sequence%3B%20you%20will%20only%20take%20into%20account%20uppercase%20or%20lowercase%20letters.%20Put%20in%20other%20way%2C%20you%20need%20to%20determine%20how%20many%20permutations%20of%20a%20give%20sequence%20of%20characters%20are%20palindromes.%20Your%20solution%20will%20help%20definitively%20master%20Yoga.%22%2C%22inputFormat%22%3A%22The%20input%20consists%20of%20several%20test%20cases%2C%20one%20per%20line.%20For%20each%20test%20case%2C%20the%20input%20consist%20of%20a%20sequence%20of%20ASCII%20characters.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%20you%20should%20print%20in%20a%20single%20line%2C%20and%20according%20to%20the%20order%20of%20the%20test%20cases%2C%20the%20total%20number%20of%20palindromes%20generated%20by%20the%20input%20sequence%20of%20ASCII%20characters.%20For%20your%20purpose%2C%20you%20should%20only%20consider%20uppercase%20or%20lowercase%20characters%20appearing%20in%20the%20input%3B%20any%20other%20character%20should%20be%20ignored%20in%20the%20calculations.%20Uppercase%20and%20lowercase%20characters%20are%20not%20considered%20different%3B%20for%20example%2C%20A%20and%20a%20should%20not%20be%20considered%20different.%20In%20any%20case%2C%20the%20total%20number%20of%20palindromes%20will%20not%20exceed%20the%20number%20e%5E43%20%2C%20where%20e%20is%20approximately%202.71828.%20Remember%20that%20the%20empty%20sequence%20is%20a%20palindrome%20itself.%22%2C%22samples%22%3A%5B%5B%22A%20man%2C%20a%20plan%2C%20a%20canal%2C%20Panama%21%5Cr%5CnarD%2CR%21A%5Cr%5CnB.a.C1%5C%2F%5Cr%5Cn12%5B%26%238217%3B%3B.%20%3D1%22%2C%2215120%5Cr%5Cn2%5Cr%5Cn0%5Cr%5Cn1%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3950%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3385%22%2C%22id%22%3A%223385%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP3385%22%2C%22title%22%3A%22YODA%20-%20Yoda%20Goes%20Palindromic%20%21%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22YODA%20-%20Yoda%20Goes%20Palindromic%20%21%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>YODA - Yoda Goes Palindromic !</h1>
<h2>题目描述</h2>
<div>According to a very famous web site, which in this case we will trust, defines a palindrome as ‘a word, phrase, verse, or sentence that reads the same backward or forward’. For example, the phrase A man, a plan, a canal, Panama! is a palindrome. Actually, writing texts consisting of only palindromes is part of a literary technique called constrained writing.
Now imagine the wise Yoda, the master of all, whose proficiency putting words together in sentences is one of his well-kwnown abilities. He is now interested in enriching his long- lasting, and maybe boring, inactivity periods by ‘composing’ palindromic sentences. That is, he has plans to use only palindromic sentences for his chats. For this matter, he needs to practice. The first task in his practice plan is to count all the palindromes that can be arranged out of a collection of characters.
Today, you will be Yoda’s assistant for this first task. Your only mission is to, given a sequence of characters, determine how many palindromes can be obtained with some of the characters in the sequence; you will only take into account uppercase or lowercase letters. Put in other way, you need to determine how many permutations of a give sequence of characters are palindromes. Your solution will help definitively master Yoga.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The input consists of several test cases, one per line. For each test case, the input consist of a sequence of ASCII characters.</div>
<h3>输出格式</h3>
<br />
<div>For each test case you should print in a single line, and according to the order of the test cases, the total number of palindromes generated by the input sequence of ASCII characters. For your purpose, you should only consider uppercase or lowercase characters appearing in the input; any other character should be ignored in the calculations. Uppercase and lowercase characters are not considered different; for example, A and a should not be considered different. In any case, the total number of palindromes will not exceed the number e^43 , where e is approximately 2.71828. Remember that the empty sequence is a palindrome itself.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>A man, a plan, a canal, Panama!
arD,R!A
B.a.C1/
12[&amp;#8217;;. =1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>15120
2
0
1</code></pre>
</article>
</div>
</div>
</body>
</html>
