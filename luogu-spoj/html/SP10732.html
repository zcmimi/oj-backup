<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>TRAPEZBO - Trapezoid - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450245:oZdsQzsZNOGBOD1GnQmTgIFiONfRDYd0/w/tgz4DLGo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Consider%20two%20arbitrarily%20chosen%20horizontal%20lines.%20A%20trapezoid%20Ti%20between%20these%20lines%20has%20two%20%20%5Cnvertices%20situated%20on%20the%20upper%20line%20and%20the%20other%20two%20vertices%20on%20the%20lower%20line%20%28see%20figure%20below%29.%20%20%5CnWe%20will%20denote%20by%20ai%2C%20bi%2C%20ci%20and%20di%20the%20upper%20left%2C%20upper%20right%2C%20lower%20left%20and%20respectively%20lower%20right%20%20%5Cnvertices%20of%20the%20trapezoid%20Ti.%20A%20subset%20S%20of%20trapezoids%20is%20called%20independent%20if%20no%20two%20trapezoids%20from%20%20%5CnS%20intersect.%5Cn%5Cn%20%20%20%5Cn%23%23%23%20Task%5Cn%5CnDetermine%20the%20cardinality%20of%20the%20largest%20independent%20set%20of%20trapezoids%20%28the%20largest%20set%20means%20the%20set%20%20%5Cnwith%20most%20elements%29.%20Also%20find%20the%20count%20of%20different%20independent%20sets%20with%20maximum%20cardinality.%20%20%5CnFind%20this%20count%20modulo%2030013.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20one%20integer%20N%20%5Cu2013%20the%20number%20of%20trapezoids.%20Each%20of%20the%20next%20N%20lines%20%20%5Cncontains%20four%20integers%20ai%2C%20bi%2C%20ci%20and%20di.%20No%20two%20trapezoids%20have%20a%20common%20vertex%20%28corner%29.%22%2C%22outputFormat%22%3A%22The%20only%20line%20of%20output%20should%20contain%20two%20numbers%20separated%20by%20space%3A%20firstly%2C%20the%20cardinality%20of%20%20%5Cnthe%20largest%20independent%20set%3B%20secondly%2C%20the%20count%20of%20different%20independent%20sets%20with%20maximum%20%20%5Cncardinality%20modulo%2030013.%22%2C%22samples%22%3A%5B%5B%227%5C%5Cn1%203%201%209%5C%5Cn4%207%202%208%5C%5Cn11%2015%204%2012%5C%5Cn10%2012%2015%2019%5C%5Cn16%2023%2016%2022%5C%5Cn20%2022%2013%2025%5C%5Cn30%2031%2030%2031%22%2C%22%5C%5Cn3%208%5C%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B301%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F10732%22%2C%22id%22%3A%2210732%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP10732%22%2C%22title%22%3A%22TRAPEZBO%20-%20Trapezoid%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22TRAPEZBO%20-%20Trapezoid%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>TRAPEZBO - Trapezoid</h1>
<h2>题目描述</h2>
<div>Consider two arbitrarily chosen horizontal lines. A trapezoid Ti between these lines has two
vertices situated on the upper line and the other two vertices on the lower line (see figure below).
We will denote by ai, bi, ci and di the upper left, upper right, lower left and respectively lower right
vertices of the trapezoid Ti. A subset S of trapezoids is called independent if no two trapezoids from
S intersect.
### Task
Determine the cardinality of the largest independent set of trapezoids (the largest set means the set
with most elements). Also find the count of different independent sets with maximum cardinality.
Find this count modulo 30013.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains one integer N – the number of trapezoids. Each of the next N lines
contains four integers ai, bi, ci and di. No two trapezoids have a common vertex (corner).</div>
<h3>输出格式</h3>
<br />
<div>The only line of output should contain two numbers separated by space: firstly, the cardinality of
the largest independent set; secondly, the count of different independent sets with maximum
cardinality modulo 30013.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>7\n1 3 1 9\n4 7 2 8\n11 15 4 12\n10 12 15 19\n16 23 16 22\n20 22 13 25\n30 31 30 31</code></pre>
<h3>输出样例 #1</h3>
<pre><code>\n3 8\n</code></pre>
</article>
</div>
</div>
</body>
</html>
