<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>BRIDGES2 - The Bridges of San Mochti - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449789:67zZwJg9gCeUEh5KOccDbtgy4hJMqYaAYbZo+zKxjis=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20work%20at%20a%20military%20training%20facility%20in%20the%20jungles%20of%20San%20Motchi.%20One%20of%20the%20training%20exercises%20is%20to%20cross%20a%20series%20of%20rope%20bridges%20set%20high%20in%20the%20trees.%20Every%20bridge%20has%20a%20maximum%20capacity%2C%20which%20is%20the%20number%20of%20people%20that%20the%20bridge%20can%20support%20without%20breaking.%20The%20goal%20is%20to%20cross%20the%20bridges%20as%20quickly%20as%20possible%2C%20subject%20to%20the%20following%20tactical%20requirements%3A%5Cn%5Cn%20_One%20unit%20at%20a%20time%21_%20If%20two%20or%20more%20people%20can%20cross%20a%20bridge%20at%20the%20same%20time%20%28because%20they%20do%20not%20exceed%20the%20capacity%29%2C%20they%20do%20so%20as%20a%20unit%3B%20they%20walk%20as%20close%20together%20as%20possible%2C%20and%20they%20all%20take%20a%20step%20at%20the%20same%20time.%20It%20is%20never%20acceptable%20to%20have%20two%20different%20units%20on%20the%20same%20bridge%20at%20the%20same%20time%2C%20even%20if%20they%20don%27t%20exceed%20the%20capacity.%20Having%20multiple%20units%20on%20a%20bridge%20is%20not%20tactically%20sound%2C%20and%20multiple%20units%20can%20cause%20oscillations%20in%20the%20rope%20that%20slow%20everyone%20down.%20This%20rule%20applies%20even%20if%20a%20unit%20contains%20only%20a%20single%20person.%20_Keep%20moving%21_%20When%20a%20bridge%20is%20free%2C%20as%20many%20people%20as%20possible%20begin%20to%20cross%20it%20as%20a%20unit.%20Note%20that%20this%20strategy%20doesn%27t%20always%20lead%20to%20an%20optimal%20overall%20crossing%20time%20%28it%20may%20be%20faster%20for%20a%20group%20to%20wait%20for%20people%20behind%20them%20to%20catch%20up%20so%20that%20more%20people%20can%20cross%20at%20once%29.%20But%20it%20is%20not%20tactically%20sound%20for%20a%20group%20to%20wait%2C%20because%20the%20people%20they%27re%20waiting%20for%20might%20not%20make%20it%2C%20and%20then%20they%27ve%20not%20only%20wasted%20time%20but%20endangered%20themselves%20as%20well.Periodically%20the%20bridges%20are%20reconfigured%20to%20give%20the%20trainees%20a%20different%20challenge.%20Given%20a%20bridge%20configuration%2C%20your%20job%20is%20to%20calculate%20the%20minimum%20amount%20of%20time%20it%20would%20take%20a%20group%20of%20people%20to%20cross%20all%20the%20bridges%20subject%20to%20these%20requirements.%5Cn%5CnFor%20example%2C%20suppose%20you%20have%20nine%20people%20who%20must%20cross%20two%20bridges%3A%20the%20first%20has%20capacity%203%20and%20takes%2010%20seconds%20to%20cross%3B%20the%20second%20has%20capacity%204%20and%20takes%2060%20seconds%20to%20cross.%20The%20initial%20state%20can%20be%20represented%20as%20%289%200%200%29%2C%20meaning%20that%209%20people%20are%20waiting%20to%20cross%20the%20first%20bridge%2C%20no%20one%20is%20waiting%20to%20cross%20the%20second%20bridge%2C%20and%20no%20one%20has%20crossed%20the%20last%20bridge.%20At%2010%20seconds%20the%20state%20is%20%286%203%200%29.%20At%2020%20seconds%20the%20state%20is%20%283%203%20%5C%2F3%3A50%5C%2F%200%29%2C%20where%20%5C%2F3%3A50%5C%2F%20means%20that%20a%20unit%20of%20three%20people%20is%20crossing%20the%20second%20bridge%20and%20has%2050%20seconds%20left.%20At%2030%20seconds%20the%20state%20is%20%280%206%20%5C%2F3%3A40%5C%2F%200%29%3B%20at%2070%20seconds%20it%27s%20%280%206%203%29%3B%20at%20130%20seconds%20it%27s%20%280%202%207%29%3B%20and%20at%20190%20seconds%20it%27s%20%280%200%209%29.%20Thus%20the%20total%20minimum%20time%20is%20190%20seconds.%22%2C%22inputFormat%22%3A%22%20The%20input%20consists%20of%20one%20or%20more%20bridge%20configurations%2C%20followed%20by%20a%20line%20containing%20two%20zeros%20that%20signals%20the%20end%20of%20the%20input.%20Each%20bridge%20configuration%20begins%20with%20a%20line%20containing%20a%20negative%20integer%20%5Cu2013B%20and%20a%20positive%20integer%20P%2C%20where%20B%20is%20the%20number%20of%20bridges%20and%20P%20is%20the%20total%20number%20of%20people%20that%20must%20cross%20the%20bridges.%20Both%20B%20and%20P%20will%20be%20at%20most%2020.%20%28The%20reason%20for%20putting%20%5Cu2013B%20in%20the%20input%20file%20is%20to%20make%20the%20first%20line%20of%20a%20configuration%20stand%20out%20from%20the%20remaining%20lines.%29%20Following%20are%20B%20lines%2C%20one%20for%20each%20bridge%2C%20listed%20in%20order%20from%20the%20first%20bridge%20that%20must%20be%20crossed%20to%20the%20last.%20Each%20bridge%20is%20defined%20by%20two%20positive%20integers%20C%20and%20T%2C%20where%20C%20is%20the%20capacity%20of%20the%20bridge%20%28the%20maximum%20number%20of%20people%20the%20bridge%20can%20hold%29%2C%20and%20T%20is%20the%20time%20it%20takes%20to%20cross%20the%20bridge%20%28in%20seconds%29.%20C%20will%20be%20at%20most%205%2C%20and%20T%20will%20be%20at%20most%20100.%20Only%20one%20unit%2C%20of%20size%20at%20most%20C%2C%20can%20cross%20a%20bridge%20at%20a%20time%3B%20the%20time%20required%20is%20always%20T%2C%20regardless%20of%20the%20size%20of%20the%20unit%20%28since%20they%20all%20move%20as%20one%29.%20The%20end%20of%20one%20bridge%20is%20always%20close%20to%20the%20beginning%20of%20the%20next%2C%20so%20the%20travel%20time%20between%20bridges%20is%20zero.%22%2C%22outputFormat%22%3A%22For%20each%20bridge%20configuration%2C%20output%20one%20line%20containing%20the%20minimum%20amount%20of%20time%20it%20will%20take%20%28in%20seconds%29%20for%20all%20of%20the%20people%20to%20cross%20all%20of%20the%20bridges%20while%20meeting%20both%20tactical%20requirements.%22%2C%22samples%22%3A%5B%5B%22-1%202%5Cr%5Cn5%2017%5Cr%5Cn-1%208%5Cr%5Cn3%2025%5Cr%5Cn-2%209%5Cr%5Cn3%2010%5Cr%5Cn4%2060%5Cr%5Cn-3%2010%5Cr%5Cn2%2010%5Cr%5Cn3%2030%5Cr%5Cn2%2015%5Cr%5Cn-4%208%5Cr%5Cn1%208%5Cr%5Cn4%2030%5Cr%5Cn2%2010%5Cr%5Cn1%2012%5Cr%5Cn0%200%22%2C%2217%5Cr%5Cn75%5Cr%5Cn190%5Cr%5Cn145%5Cr%5Cn162%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1447%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3308%22%2C%22id%22%3A%223308%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP3308%22%2C%22title%22%3A%22BRIDGES2%20-%20The%20Bridges%20of%20San%20Mochti%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22BRIDGES2%20-%20The%20Bridges%20of%20San%20Mochti%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>BRIDGES2 - The Bridges of San Mochti</h1>
<h2>题目描述</h2>
<div>You work at a military training facility in the jungles of San Motchi. One of the training exercises is to cross a series of rope bridges set high in the trees. Every bridge has a maximum capacity, which is the number of people that the bridge can support without breaking. The goal is to cross the bridges as quickly as possible, subject to the following tactical requirements:
_One unit at a time!_ If two or more people can cross a bridge at the same time (because they do not exceed the capacity), they do so as a unit; they walk as close together as possible, and they all take a step at the same time. It is never acceptable to have two different units on the same bridge at the same time, even if they don't exceed the capacity. Having multiple units on a bridge is not tactically sound, and multiple units can cause oscillations in the rope that slow everyone down. This rule applies even if a unit contains only a single person. _Keep moving!_ When a bridge is free, as many people as possible begin to cross it as a unit. Note that this strategy doesn't always lead to an optimal overall crossing time (it may be faster for a group to wait for people behind them to catch up so that more people can cross at once). But it is not tactically sound for a group to wait, because the people they're waiting for might not make it, and then they've not only wasted time but endangered themselves as well.Periodically the bridges are reconfigured to give the trainees a different challenge. Given a bridge configuration, your job is to calculate the minimum amount of time it would take a group of people to cross all the bridges subject to these requirements.
For example, suppose you have nine people who must cross two bridges: the first has capacity 3 and takes 10 seconds to cross; the second has capacity 4 and takes 60 seconds to cross. The initial state can be represented as (9 0 0), meaning that 9 people are waiting to cross the first bridge, no one is waiting to cross the second bridge, and no one has crossed the last bridge. At 10 seconds the state is (6 3 0). At 20 seconds the state is (3 3 /3:50/ 0), where /3:50/ means that a unit of three people is crossing the second bridge and has 50 seconds left. At 30 seconds the state is (0 6 /3:40/ 0); at 70 seconds it's (0 6 3); at 130 seconds it's (0 2 7); and at 190 seconds it's (0 0 9). Thus the total minimum time is 190 seconds.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> The input consists of one or more bridge configurations, followed by a line containing two zeros that signals the end of the input. Each bridge configuration begins with a line containing a negative integer –B and a positive integer P, where B is the number of bridges and P is the total number of people that must cross the bridges. Both B and P will be at most 20. (The reason for putting –B in the input file is to make the first line of a configuration stand out from the remaining lines.) Following are B lines, one for each bridge, listed in order from the first bridge that must be crossed to the last. Each bridge is defined by two positive integers C and T, where C is the capacity of the bridge (the maximum number of people the bridge can hold), and T is the time it takes to cross the bridge (in seconds). C will be at most 5, and T will be at most 100. Only one unit, of size at most C, can cross a bridge at a time; the time required is always T, regardless of the size of the unit (since they all move as one). The end of one bridge is always close to the beginning of the next, so the travel time between bridges is zero.</div>
<h3>输出格式</h3>
<br />
<div>For each bridge configuration, output one line containing the minimum amount of time it will take (in seconds) for all of the people to cross all of the bridges while meeting both tactical requirements.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>-1 2
5 17
-1 8
3 25
-2 9
3 10
4 60
-3 10
2 10
3 30
2 15
-4 8
1 8
4 30
2 10
1 12
0 0</code></pre>
<h3>输出样例 #1</h3>
<pre><code>17
75
190
145
162</code></pre>
</article>
</div>
</div>
</body>
</html>
