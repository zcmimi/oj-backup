<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>PLCNMGME - Place-name game - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450092:+qgWTE1zxHTEBmxNmLAGAy+Zv0pC1Y8mkIqSlyaTmX8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Place-name%20game%20is%20a%20favourite%20pastime%20among%20the%20few%20children%20that%20go%20to%20school%20in%20Dystopia.%20The%20game%20is%20played%20as%20follows%20%3A%20One%20player%20says%20the%20name%20of%20a%20city%20and%20the%20next%20player%20has%20to%20say%20the%20name%20of%20a%20city%20that%20begins%20with%20the%20last%20letter%20of%20the%20said%20city.%20The%20game%20then%20goes%20on.%5Cn%5CnDystopian%20cities%20recently%20went%20through%20a%20massive%20renaming.%20Now%20each%20city%20has%20a%20name%20that%20begins%20with%20a%20consonant%20and%20ends%20with%20a%20consonant.%5Cn%5CnAnaximander%20is%20a%20student%20with%20a%20very%20poor%20knowledge%20of%20geography.%20Hence%20he%20fares%20very%20poorly%20in%20the%20game.%20He%20has%20recently%20come%20up%20with%20a%20new%20idea.%20He%20would%20just%20remember%20the%20name%20of%2021%20Dystopian%20cities.%20He%20wants%20to%20choose%20the%2021%20cities%20such%20that%20there%20is%20exactly%20one%20city%20name%20starting%20with%20each%20consonant%20and%20exactly%20one%20city%20name%20ending%20with%20each.%20This%20would%20give%20him%20a%20good%20advantage%20in%20the%20game%2C%20whether%20he%20is%20playing%20first%20or%20second.%5Cn%5CnGiven%20the%20names%20of%20the%20N%20cities%20in%20Dystopia%2C%20find%20out%20the%20number%20of%20ways%20Anaximander%20can%20select%2021%20city%20names%20out%20of%20the%20lot%20satisfying%20the%20properties.%20As%20this%20number%20can%20be%20very%20large%2C%20output%20it%20modulo%20100000007.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20N%20%28%22%2C%22outputFormat%22%3A%22Output%20modulo%20100000007%20the%20number%20of%20ways%20Anaximander%20can%20choose%2021%20city%20names%20out%20of%20the%20N%20with%20the%20intended%20properties.%22%2C%22samples%22%3A%5B%5B%2223%5Cr%5CnBBBB%5Cr%5CnCCCC%5Cr%5CnDDDD%5Cr%5CnFFFF%5Cr%5CnGGGG%5Cr%5CnHHHH%5Cr%5CnJJJJ%5Cr%5CnKKKK%5Cr%5CnLLLL%5Cr%5CnMMMM%5Cr%5CnNNNN%5Cr%5CnPPPP%5Cr%5CnQQQQ%5Cr%5CnRRRR%5Cr%5CnSSSS%5Cr%5CnTTTT%5Cr%5CnVVVV%5Cr%5CnWWWW%5Cr%5CnXXXX%5Cr%5CnYYYY%5Cr%5CnZZZZ%5Cr%5CnBAAC%5Cr%5CnCAAB%22%2C%222%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B749%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F8333%22%2C%22id%22%3A%228333%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP8333%22%2C%22title%22%3A%22PLCNMGME%20-%20Place-name%20game%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22PLCNMGME%20-%20Place-name%20game%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>PLCNMGME - Place-name game</h1>
<h2>题目描述</h2>
<div>Place-name game is a favourite pastime among the few children that go to school in Dystopia. The game is played as follows : One player says the name of a city and the next player has to say the name of a city that begins with the last letter of the said city. The game then goes on.
Dystopian cities recently went through a massive renaming. Now each city has a name that begins with a consonant and ends with a consonant.
Anaximander is a student with a very poor knowledge of geography. Hence he fares very poorly in the game. He has recently come up with a new idea. He would just remember the name of 21 Dystopian cities. He wants to choose the 21 cities such that there is exactly one city name starting with each consonant and exactly one city name ending with each. This would give him a good advantage in the game, whether he is playing first or second.
Given the names of the N cities in Dystopia, find out the number of ways Anaximander can select 21 city names out of the lot satisfying the properties. As this number can be very large, output it modulo 100000007.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains N (</div>
<h3>输出格式</h3>
<br />
<div>Output modulo 100000007 the number of ways Anaximander can choose 21 city names out of the N with the intended properties.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>23
BBBB
CCCC
DDDD
FFFF
GGGG
HHHH
JJJJ
KKKK
LLLL
MMMM
NNNN
PPPP
QQQQ
RRRR
SSSS
TTTT
VVVV
WWWW
XXXX
YYYY
ZZZZ
BAAC
CAAB</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2</code></pre>
</article>
</div>
</div>
</body>
</html>
