<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>BALIFE - Load Balancing - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449702:7ZLM8d37m0hapOfPiOJzMQ2io8ezg79pBPPgV6WOfdA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22SuperComputer%20Inc.%20have%20built%20a%20super-fast%20computer%20server%20consisting%20of%20N%20hyper-scalar%20lightning-fast%20processors%20Beta%20007.%20These%20processors%20are%20numbered%20from%201%20to%20N%20and%20are%20used%20to%20process%20independent%20jobs.%20Every%20new%20incoming%20job%20is%20assigned%20to%20an%20arbitrary%20processor.%20Sometimes%2C%20a%20processor%20may%20be%20assigned%20too%20many%20jobs%20while%20other%20processors%20have%20a%20relatively%20light%20load%20%28or%20even%20wait%20idly%29.%20In%20that%20case%2C%20the%20whole%20system%20undergoes%20rebalancing.%5Cn%5CnRebalancing%20proceeds%20in%20rounds.%20In%20each%20round%2C%20every%20processor%20can%20transfer%20at%20most%20one%20job%20to%20each%20of%20its%20neighbors%20on%20the%20bus.%20Neighbors%20of%20the%20processor%20i%20are%20the%20processors%20i-1%20and%20i%2B1%20%28processors%201%20and%20N%20have%20only%20one%20neighbor%20each%2C%202%20and%20N-1%20respectively%29.%20The%20goal%20of%20rebalancing%20is%20to%20achieve%20that%20all%20processors%20have%20the%20same%20number%20of%20jobs.%5Cn%5CnGiven%20the%20number%20of%20jobs%20initially%20assigned%20to%20each%20processor%2C%20you%20are%20asked%20to%20determine%20the%20minimal%20number%20of%20rounds%20needed%20to%20achieve%20the%20state%20when%20every%20processor%20has%20the%20same%20number%20of%20jobs%2C%20or%20to%20determine%20that%20such%20rebalancing%20is%20not%20possible.%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5B%22file%3A%5Cr%5Cn3%5Cr%5Cn0%2099%203%5Cr%5Cn%5Cr%5Cn2%5Cr%5Cn49%2050%5Cr%5Cn%5Cr%5Cn8%5Cr%5Cn16%2017%2015%200%2020%201%201%202%5Cr%5Cn%5Cr%5Cn10%5Cr%5Cn0%200%20100%200%200%200%200%200%200%200%5Cr%5Cn%5Cr%5Cn-1%22%2C%22file%3A%5Cr%5Cn34%5Cr%5Cn-1%5Cr%5Cn23%5Cr%5Cn70%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F2006%22%2C%22id%22%3A%222006%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP2006%22%2C%22title%22%3A%22BALIFE%20-%20Load%20Balancing%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22BALIFE%20-%20Load%20Balancing%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>BALIFE - Load Balancing</h1>
<h2>题目描述</h2>
<div>SuperComputer Inc. have built a super-fast computer server consisting of N hyper-scalar lightning-fast processors Beta 007. These processors are numbered from 1 to N and are used to process independent jobs. Every new incoming job is assigned to an arbitrary processor. Sometimes, a processor may be assigned too many jobs while other processors have a relatively light load (or even wait idly). In that case, the whole system undergoes rebalancing.
Rebalancing proceeds in rounds. In each round, every processor can transfer at most one job to each of its neighbors on the bus. Neighbors of the processor i are the processors i-1 and i+1 (processors 1 and N have only one neighbor each, 2 and N-1 respectively). The goal of rebalancing is to achieve that all processors have the same number of jobs.
Given the number of jobs initially assigned to each processor, you are asked to determine the minimal number of rounds needed to achieve the state when every processor has the same number of jobs, or to determine that such rebalancing is not possible.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>file:
3
0 99 3

2
49 50

8
16 17 15 0 20 1 1 2

10
0 0 100 0 0 0 0 0 0 0

-1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>file:
34
-1
23
70</code></pre>
</article>
</div>
</div>
</body>
</html>
