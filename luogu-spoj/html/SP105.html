<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>ALICEBOB - Alice and Bob - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449529:TSnbJU61e3IwKoTOUjPjvRO21WjYQkXds2UGn5E8DMw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20This%20is%20a%20puzzle%20for%20two%20persons%2C%20let%27s%20say%20Alice%20and%20Bob.%20Alice%20draws%20an%20n-vertex%20convex%20polygon%20and%20numbers%20its%20vertices%20with%20integers%201%2C%202%2C%20...%20%2C%20n%20in%20an%20arbitrary%20way.%20Then%20she%20draws%20a%20number%20of%20noncrossing%20diagonals%20%28the%20vertices%20of%20the%20polygon%20are%20not%20considered%20to%20be%20crossing%20points%29.%20She%20informs%20Bob%20about%20the%20sides%20and%20the%20diagonals%20of%20the%20polygon%20but%20not%20telling%20him%20which%20are%20which.%20Each%20side%20and%20diagonal%20is%20specified%20by%20its%20ends.%20Bob%20has%20to%20guess%20the%20order%20of%20the%20vertices%20on%20the%20border%20of%20the%20polygon.%20Help%20him%20solve%20the%20puzzle.%5Cn%5Cn%20If%20n%20%3D%204%20and%20%281%2C3%29%2C%20%284%2C2%29%2C%20%281%2C2%29%2C%20%284%2C1%29%2C%20%282%2C3%29%20are%20the%20ends%20of%20four%20sides%20and%20one%20diagonal%20then%20the%20order%20of%20the%20vertices%20on%20the%20border%20of%20this%20polygon%20is%201%2C%203%2C%202%2C%204%20%28with%20the%20accuracy%20to%20shifting%20and%20reversing%29.%5Cn%5Cn%20%20%20%5Cn%23%23%23%20Task%5Cn%5CnWrite%20a%20program%20that%3A%5Cn%5Cn-%20reads%20the%20description%20of%20sides%20and%20diagonals%20given%20to%20Bob%20by%20Alice%2C%5Cn-%20computes%20the%20order%20of%20the%20vertices%20on%20the%20border%20of%20the%20polygon%2C%5Cn-%20writes%20the%20result.%22%2C%22inputFormat%22%3A%22%20The%20first%20line%20of%20the%20input%20contains%20exactly%20one%20positive%20integer%20d%20equal%20to%20the%20number%20of%20data%20sets%2C%201%20%3C%3D%20d%20%3C%3D%2020.%20The%20data%20sets%20follow.%5Cn%5Cn%20Each%20data%20set%20consists%20of%20exactly%20two%20consecutive%20lines.%5Cn%5Cn%20The%20first%20of%20those%20lines%20contains%20exactly%20two%20integers%20n%20and%20m%20separated%20by%20a%20single%20space%2C%203%20%3C%3D%20n%20%3C%3D%2010%20000%2C%200%20%3C%3D%20m%20%3C%3D%20n-3.%20Integer%20n%20is%20the%20number%20of%20vertices%20of%20a%20polygon%20and%20integer%20m%20is%20the%20number%20of%20its%20diagonals%2C%20respectively.%5Cn%5Cn%20The%20second%20of%20those%20lines%20contains%20exactly%202%28m%2Bn%29%20integers%20separated%20by%20single%20spaces.%20Those%20are%20ends%20of%20all%20sides%20and%20some%20diagonals%20of%20the%20polygon.%20Integers%20a%20%24%20_%7Bj%7D%20%24%20%2C%20b%20%24%20_%7Bj%7D%20%24%20on%20positions%202j-1%20and%202j%2C%201%20%3C%3D%20j%20%3C%20%3D%20m%2Bn%2C%201%20%3C%20%3D%20a%20%24%20_%7Bj%7D%20%24%20%3C%3D%20n%2C%201%20%3C%20%3D%20b%20%24%20_%7Bj%7D%20%24%20%3C%20%3D%20n%2C%20a%20%24%20_%7Bj%7D%20%24%20%3C%3E%20b%20%24%20_%7Bj%7D%20%24%20%2C%20specify%20ends%20of%20a%20side%20or%20a%20diagonal.%20The%20sides%20and%20the%20diagonals%20can%20be%20given%20in%20an%20arbitrary%20order.%20There%20are%20no%20duplicates.%20Alice%20does%20not%20cheat%2C%20i.e.%20the%20puzzle%20always%20has%20a%20solution.%22%2C%22outputFormat%22%3A%22%20Line%20i%2C%201%20%3C%3D%20i%20%3C%20%3D%20d%2C%20should%20contain%20a%20sequence%20of%20n%20integers%20separated%20by%20single%20spaces%20-%20a%20permutation%20of%201%2C%202%2C%20...%20%2C%20n%2C%20i.e.%20the%20numbers%20of%20subsequent%20vertices%20on%20the%20border%20of%20the%20polygon%20from%20the%20i-th%20data%20set%2C%20the%20sequence%20should%20always%20start%20from%201%20and%20its%20second%20element%20should%20be%20the%20smaller%20vertex%20of%20the%20two%20border%20neighbours%20of%20vertex%201.%22%2C%22samples%22%3A%5B%5B%221%20%5Cr%5Cn4%201%20%5Cr%5Cn1%203%204%202%201%202%20%5Cr%5Cn4%201%202%203%22%2C%221%203%202%204%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B7000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F105%22%2C%22id%22%3A%22105%22%7D%2C%22translation%22%3A%22%23%20%2A%2A%5Cu9898%5Cu610f%5Cu7b80%5Cu8ff0%2A%2A%5Cr%5CnAlice%5Cu548cBob%5Cu5728%5Cu73a9%5Cu4e00%5Cu4e2a%5Cu6e38%5Cu620f%5Cu3002Alice%5Cu7ed8%5Cu5236%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu6709n%5Cu4e2a%5Cu9876%5Cu70b9%5Cu7684%5Cu51f8%5Cu591a%5Cu8fb9%5Cu5f62%5Cuff0c%5Cu5e76%5Cu4ee5%5Cu4efb%5Cu610f%5Cu65b9%5Cu5f0f%5Cu7528%5Cu6574%5Cu65701%2C2%5Cuff0c...%5Cuff0cn%5Cu5bf9%5Cu5176%5Cu9876%5Cu70b9%5Cu8fdb%5Cu884c%5Cu7f16%5Cu53f7%5Cu3002%5Cu7136%5Cu540e%5Cuff0c%5Cu5979%5Cu7ed8%5Cu5236%5Cu4e86%5Cu8bb8%5Cu591a%5Cu975e%5Cu4ea4%5Cu53c9%5Cu5bf9%5Cu89d2%5Cu7ebf%5Cuff08%5Cu591a%5Cu8fb9%5Cu5f62%5Cu7684%5Cu9876%5Cu70b9%5Cu4e0d%5Cu88ab%5Cu89c6%5Cu4e3a%5Cu4ea4%5Cu53c9%5Cu70b9%5Cuff09%5Cu3002%5Cu5979%5Cu544a%5Cu8bc9Bob%5Cu5173%5Cu4e8e%5Cu591a%5Cu8fb9%5Cu5f62%5Cu7684%5Cu8fb9%5Cu548c%5Cu5bf9%5Cu89d2%5Cu7ebf%5Cuff0c%5Cu4f46%5Cu6ca1%5Cu6709%5Cu544a%5Cu8bc9%5Cu4ed6%5Cu54ea%5Cu4e2a%5Cu662f%5Cu54ea%5Cu4e2a%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu8fb9%5Cu548c%5Cu5bf9%5Cu89d2%5Cu7ebf%5Cu7531%5Cu5176%5Cu672b%5Cu7aef%5Cu6307%5Cu5b9a%5Cu3002Bob%5Cu5fc5%5Cu987b%5Cu731c%5Cu6d4b%5Cu591a%5Cu8fb9%5Cu5f62%5Cu8fb9%5Cu754c%5Cu4e0a%5Cu9876%5Cu70b9%5Cu7684%5Cu987a%5Cu5e8f%5Cu3002%5Cu5e2e%5Cu52a9%5Cu4ed6%5Cu89e3%5Cu51b3%5Cu96be%5Cu9898%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu5982%5Cu679cn%3D4%5Cu4e14%5Cuff081%2C3%5Cuff09%5Cuff0c%5Cuff084%2C2%5Cuff09%5Cuff0c%5Cuff081%2C2%5Cuff09%5Cuff0c%5Cuff084%2C1%5Cuff09%5Cuff0c%5Cuff082%2C3%5Cuff09%5Cu662f%5Cu56db%5Cu8fb9%5Cu548c%5Cu4e00%5Cu5bf9%5Cu8fb9%5Cu7684%5Cu672b%5Cu7aef%5Cuff0c%5Cu5219%5Cu9876%5Cu70b9%5Cu7684%5Cu987a%5Cu5e8f%5Cu4e3a%5Cu8be5%5Cu591a%5Cu8fb9%5Cu5f62%5Cu7684%5Cu8fb9%5Cu754c%5Cu4e3a1%2C3%2C2%2C4%5Cuff08%5Cu7cbe%5Cu786e%5Cu5230%5Cu79fb%5Cu52a8%5Cu548c%5Cu53cd%5Cu8f6c%5Cuff09%5Cu3002%5Cr%5Cn%5Cr%5Cn%23%23%20%2A%2A%5Cu4efb%5Cu52a1%2A%2A%5Cr%5Cn%5Cu5199%5Cu4e00%5Cu4e2a%5Cu7a0b%5Cu5e8f%5Cuff1a%5Cr%5Cn%5Cr%5Cn-%20%20%20%5Cu8bfb%5Cu53d6Alice%5Cu7ed9Bob%5Cu7684%5Cu4fa7%5Cu9762%5Cu548c%5Cu5bf9%5Cu89d2%5Cu7ebf%5Cu7684%5Cu63cf%5Cu8ff0%5Cr%5Cn-%20%20%20%5Cu8ba1%5Cu7b97%5Cu591a%5Cu8fb9%5Cu5f62%5Cu8fb9%5Cu6846%5Cu4e0a%5Cu9876%5Cu70b9%5Cu7684%5Cu987a%5Cu5e8f%5Cr%5Cn-%20%20%20%5Cu8f93%5Cu51fa%5Cu7ed3%5Cu679c%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP105%22%2C%22title%22%3A%22ALICEBOB%20-%20Alice%20and%20Bob%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22ALICEBOB%20-%20Alice%20and%20Bob%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>ALICEBOB - Alice and Bob</h1>
<h2>题意翻译</h2>
<div># **题意简述**
Alice和Bob在玩一个游戏。Alice绘制了一个有n个顶点的凸多边形，并以任意方式用整数1,2，...，n对其顶点进行编号。然后，她绘制了许多非交叉对角线（多边形的顶点不被视为交叉点）。她告诉Bob关于多边形的边和对角线，但没有告诉他哪个是哪个。每个边和对角线由其末端指定。Bob必须猜测多边形边界上顶点的顺序。帮助他解决难题。
如果n=4且（1,3），（4,2），（1,2），（4,1），（2,3）是四边和一对边的末端，则顶点的顺序为该多边形的边界为1,3,2,4（精确到移动和反转）。
## **任务**
写一个程序：
- 读取Alice给Bob的侧面和对角线的描述
- 计算多边形边框上顶点的顺序
- 输出结果</div>
<h2>题目描述</h2>
<div> This is a puzzle for two persons, let's say Alice and Bob. Alice draws an n-vertex convex polygon and numbers its vertices with integers 1, 2, ... , n in an arbitrary way. Then she draws a number of noncrossing diagonals (the vertices of the polygon are not considered to be crossing points). She informs Bob about the sides and the diagonals of the polygon but not telling him which are which. Each side and diagonal is specified by its ends. Bob has to guess the order of the vertices on the border of the polygon. Help him solve the puzzle.
If n = 4 and (1,3), (4,2), (1,2), (4,1), (2,3) are the ends of four sides and one diagonal then the order of the vertices on the border of this polygon is 1, 3, 2, 4 (with the accuracy to shifting and reversing).
### Task
Write a program that:
- reads the description of sides and diagonals given to Bob by Alice,
- computes the order of the vertices on the border of the polygon,
- writes the result.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> The first line of the input contains exactly one positive integer d equal to the number of data sets, 1 <= d <= 20. The data sets follow.
Each data set consists of exactly two consecutive lines.
The first of those lines contains exactly two integers n and m separated by a single space, 3 <= n <= 10 000, 0 <= m <= n-3. Integer n is the number of vertices of a polygon and integer m is the number of its diagonals, respectively.
The second of those lines contains exactly 2(m+n) integers separated by single spaces. Those are ends of all sides and some diagonals of the polygon. Integers a $ _{j} $ , b $ _{j} $ on positions 2j-1 and 2j, 1 <= j < = m+n, 1 < = a $ _{j} $ <= n, 1 < = b $ _{j} $ < = n, a $ _{j} $ <> b $ _{j} $ , specify ends of a side or a diagonal. The sides and the diagonals can be given in an arbitrary order. There are no duplicates. Alice does not cheat, i.e. the puzzle always has a solution.</div>
<h3>输出格式</h3>
<br />
<div> Line i, 1 <= i < = d, should contain a sequence of n integers separated by single spaces - a permutation of 1, 2, ... , n, i.e. the numbers of subsequent vertices on the border of the polygon from the i-th data set, the sequence should always start from 1 and its second element should be the smaller vertex of the two border neighbours of vertex 1.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1 
4 1 
1 3 4 2 1 2 
4 1 2 3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1 3 2 4</code></pre>
</article>
</div>
</div>
</body>
</html>
