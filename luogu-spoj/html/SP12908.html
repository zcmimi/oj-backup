<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>BNMT - Binary Matrix - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450331:QD9WtSFQjxIOer0oildfh0IZ4QEOzxmHvErVCYXuJIk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20You%20are%20given%20a%20matrix%20of%20size%20%2A%2Ar%2A%2A%20x%20%2A%2Ac%2A%2A.%20Each%20of%20the%20elements%20can%20be%20either%200%20or%201.%20In%20each%20operation%20you%20can%20flip%20any%20element%20of%20this%20matrix%2C%20i.e.%20convert%200%20to%201%20or%20convert%201%20to%200.%20Your%20goal%20is%20to%20convert%20the%20matrix%20such%20that%20-%5Cn%5Cn1.%20Each%20of%20the%20rows%20will%20have%20the%20same%20number%20of%201s%20and%5Cn2.%20Each%20of%20the%20columns%20will%20have%20the%20same%20number%20of%201s.%5Cn%5CnWhat%20is%20the%20minimum%20number%20of%20operations%20required%20to%20achieve%20this%3F%22%2C%22inputFormat%22%3A%22Input%20starts%20with%20a%20positive%20integer%20%2A%2AT%2A%2A%20%28~1000%29%20which%20indicates%20the%20number%20of%20inputs.%5Cn%5CnEach%20case%20starts%20with%20two%20integers%20%2A%2Am%2A%2A%20and%20%2A%2An%2A%2A%20%281%20%3C%3D%20%2A%2Ar%2A%2A%2C%20%2A%2Ac%2A%2A%20%3C%3D%2040%29%2C%20here%20%2A%2Ar%2A%2A%20is%20the%20number%20of%20rows%20and%20%2A%2Ac%2A%2A%20is%20the%20number%20of%20columns%20of%20the%20matrix.%20Each%20of%20the%20next%20%2A%2Am%2A%2A%20lines%20will%20have%20%2A%2An%2A%2A%20integers%20each%2C%20either%200%20or%201.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%2C%20output%20%60%5Cu201cCase%20%23%3A%20R%5Cu201d%60%20in%20a%20single%20line%2C%20where%20%60%23%60%20will%20be%20replaced%20by%20case%20number%20and%20%2A%2AR%2A%2A%20will%20be%20replaced%20by%20the%20minimum%20number%20of%20steps%20required%20to%20achieve%20the%20target%20matrix.%20Replace%20%2A%2AR%2A%2A%20by%20%60-1%60%20if%20it%20is%20not%20possible%20to%20reach%20target%20matrix.%22%2C%22samples%22%3A%5B%5B%223%5Cr%5Cn2%203%5Cr%5Cn111%5Cr%5Cn111%5Cr%5Cn3%203%5Cr%5Cn011%5Cr%5Cn011%5Cr%5Cn011%5Cr%5Cn2%203%5Cr%5Cn001%5Cr%5Cn000%22%2C%22Case%201%3A%200%5Cr%5CnCase%202%3A%203%5Cr%5CnCase%203%3A%201%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F12908%22%2C%22id%22%3A%2212908%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP12908%22%2C%22title%22%3A%22BNMT%20-%20Binary%20Matrix%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22BNMT%20-%20Binary%20Matrix%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>BNMT - Binary Matrix</h1>
<h2>题目描述</h2>
<div> You are given a matrix of size **r** x **c**. Each of the elements can be either 0 or 1. In each operation you can flip any element of this matrix, i.e. convert 0 to 1 or convert 1 to 0. Your goal is to convert the matrix such that -
1. Each of the rows will have the same number of 1s and
2. Each of the columns will have the same number of 1s.
What is the minimum number of operations required to achieve this?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Input starts with a positive integer **T** (~1000) which indicates the number of inputs.
Each case starts with two integers **m** and **n** (1 <= **r**, **c** <= 40), here **r** is the number of rows and **c** is the number of columns of the matrix. Each of the next **m** lines will have **n** integers each, either 0 or 1.</div>
<h3>输出格式</h3>
<br />
<div>For each test case, output `“Case #: R”` in a single line, where `#` will be replaced by case number and **R** will be replaced by the minimum number of steps required to achieve the target matrix. Replace **R** by `-1` if it is not possible to reach target matrix.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
2 3
111
111
3 3
011
011
011
2 3
001
000</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Case 1: 0
Case 2: 3
Case 3: 1</code></pre>
</article>
</div>
</div>
</body>
</html>
