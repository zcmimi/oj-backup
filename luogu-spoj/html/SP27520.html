<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>LAS - Laser - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450674:dN2h/ktUYDuc9yJtVa62133u68ShDwXhOrLfA8xC/pU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22_Original%20problem%20statement%20%28in%20Polish%29%20can%20be%20found%20%5Bhere%5D%28https%3A%5C%2F%5C%2Fpizza.natodia.net%5C%2Fstatic%5C%2Ftasks%5C%2F2016%5C%2Feliminations%5C%2Flaser.pdf%29.%20%28It%20contains%20some%20more%20story%20that%20was%20removed%20from%20this%20version%2C%20because%20certain%20pun%20does%20not%20make%20any%20sense%20in%20English%29._%5Cn%5CnThere%20is%20a%20grid%20with%20%2A%2An%2A%2A%20rows%20and%20%2A%2Am%2A%2A%20columns%2C%20consisting%20of%201x1%20squares.%20There%20is%20exactly%20one%20square%20with%20a%20laser%20and%20one%20%28different%29%20square%20with%20a%20sensor.%20The%20laser%20emits%20a%20beam%20of%20concentrated%20light%20from%20the%20middle%20of%20its%20square%2C%20in%20one%20of%20the%20four%20directions%20%28north%2C%20south%2C%20east%20or%20west%29.%20Some%20squares%20are%20blocked%2C%20so%20they%20don%27t%20let%20the%20light%20through.%20%28In%20that%20sense%2C%20square%20with%20a%20laser%20is%20also%20considered%20blocked%29.%5Cn%5CnWe%20have%20a%20number%20of%20two-sided%20mirrors.%20We%20can%20place%20them%20on%20the%20middle%20of%20a%20square%2C%20in%20one%20of%20the%20two%20configurations%20%2845%20degrees%29.%20Mirrors%20placed%20in%20such%20a%20way%20reflect%20the%20light%2C%20making%20a%20right%20angle%20%2890%20degrees%29.%5Cn%5CnYour%20task%20is%20to%20guide%20the%20light%20to%20the%20sensor%2C%20using%20the%20minimum%20number%20of%20mirrors.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%2A%2At%2A%2A%2C%20denoting%20the%20number%20of%20testcases.%20Then%2C%20testcases%20follow.%5Cn%5CnThe%20description%20of%20a%20single%20testcase%20begins%20with%20two%20integers%20%2A%2An%2A%2A%2C%20%2A%2Am%2A%2A%20%281%20%3C%3D%20%2A%2An%2A%2A%2C%20%2A%2Am%2A%2A%20%3C%3D%20200%29%20-%20number%20of%20rows%20and%20columns%2C%20respectively.%20Then%2C%20%2A%2An%2A%2A%20lines%20follow%2C%20each%20containing%20%2A%2Am%2A%2A%20characters.%20%2A%2Aj%2A%2A-th%20character%20in%20%2A%2Ai%2A%2A-th%20line%20denotes%20a%20square%20in%20%2A%2Ai%2A%2A-th%20row%20nad%20%2A%2Aj%2A%2A-th%20column.%20%5C%22.%5C%22%20%28a%20dot%29%20denotes%20free%20square%2C%20%5C%22%23%5C%22%20denotes%20blocked%20square.%20There%20is%20exactly%20one%20laser%20on%20the%20grid%2C%20represented%20by%20one%20of%20these%20four%20characters%3A%20%5C%22%3C%5C%22%2C%20%5C%22%3E%5C%22%2C%20%5C%22v%5C%22%20or%20%5C%22%5E%5C%22%20%28it%20depends%20on%20the%20direction%20of%20the%20laser%29.%20There%20is%20also%20exactly%20one%20sensor%2C%20represented%20by%20%5C%22C%5C%22.%20No%20other%20characters%20can%20apeear%20in%20a%20line.%22%2C%22outputFormat%22%3A%22For%20every%20testcase%20you%20should%20print%20%2A%2An%2A%2A%20lines%20with%20%2A%2Am%2A%2A%20characters%2C%20denoting%20the%20grid%20from%20the%20input%2C%20but%20with%20mirrors%20placed%20on%20some%20of%20the%20fields.%20Mirrors%20are%20represented%20by%20%5C%22%5C%5C%5C%5C%5C%22%20and%20%5C%22%5C%2F%5C%22%20characters.%20Arrangement%20of%20mirrors%20should%20make%20the%20light%20reach%20the%20sensor%2C%20while%20using%20minimum%20possible%20number%20of%20mirrors.%20You%20can%27t%20place%20mirrors%20on%20blocked%20fields%2C%20as%20well%20as%20on%20field%20with%20the%20laser%20and%20on%20field%20with%20the%20sensor.%20There%20is%20always%20a%20way%20for%20the%20light%20to%20reach%20the%20sensor.%22%2C%22samples%22%3A%5B%5B%222%5Cr%5Cn3%204%5Cr%5Cn%26gt%3B...%5Cr%5Cn%23%23%23.%5Cr%5CnC...%5Cr%5Cn5%205%5Cr%5Cnv%23...%5Cr%5Cn.%23.%23.%5Cr%5Cn.%23.%23.%5Cr%5Cn.%23.%23.%5Cr%5Cn...%23C%22%2C%22%26gt%3B..%5C%5C%5Cr%5Cn%23%23%23.%5Cr%5CnC..%5C%2F%5Cr%5Cn%5Cr%5Cnv%23%5C%2F.%5C%5C%5Cr%5Cn.%23.%23.%5Cr%5Cn.%23.%23.%5Cr%5Cn.%23.%23.%5Cr%5Cn%5C%5C.%5C%2F%23C%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F27520%22%2C%22id%22%3A%2227520%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A1%2C%22pid%22%3A%22SP27520%22%2C%22title%22%3A%22LAS%20-%20Laser%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22LAS%20-%20Laser%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>LAS - Laser</h1>
<h2>题目描述</h2>
<div>_Original problem statement (in Polish) can be found [here](https://pizza.natodia.net/static/tasks/2016/eliminations/laser.pdf). (It contains some more story that was removed from this version, because certain pun does not make any sense in English)._
There is a grid with **n** rows and **m** columns, consisting of 1x1 squares. There is exactly one square with a laser and one (different) square with a sensor. The laser emits a beam of concentrated light from the middle of its square, in one of the four directions (north, south, east or west). Some squares are blocked, so they don't let the light through. (In that sense, square with a laser is also considered blocked).
We have a number of two-sided mirrors. We can place them on the middle of a square, in one of the two configurations (45 degrees). Mirrors placed in such a way reflect the light, making a right angle (90 degrees).
Your task is to guide the light to the sensor, using the minimum number of mirrors.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer **t**, denoting the number of testcases. Then, testcases follow.
The description of a single testcase begins with two integers **n**, **m** (1 <= **n**, **m** <= 200) - number of rows and columns, respectively. Then, **n** lines follow, each containing **m** characters. **j**-th character in **i**-th line denotes a square in **i**-th row nad **j**-th column. "." (a dot) denotes free square, "#" denotes blocked square. There is exactly one laser on the grid, represented by one of these four characters: "<", ">", "v" or "^" (it depends on the direction of the laser). There is also exactly one sensor, represented by "C". No other characters can apeear in a line.</div>
<h3>输出格式</h3>
<br />
<div>For every testcase you should print **n** lines with **m** characters, denoting the grid from the input, but with mirrors placed on some of the fields. Mirrors are represented by "\\" and "/" characters. Arrangement of mirrors should make the light reach the sensor, while using minimum possible number of mirrors. You can't place mirrors on blocked fields, as well as on field with the laser and on field with the sensor. There is always a way for the light to reach the sensor.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
3 4
&amp;gt;...
###.
C...
5 5
v#...
.#.#.
.#.#.
.#.#.
...#C</code></pre>
<h3>输出样例 #1</h3>
<pre><code>&amp;gt;..\
###.
C../

v#/.\
.#.#.
.#.#.
.#.#.
\./#C</code></pre>
</article>
</div>
</div>
</body>
</html>
