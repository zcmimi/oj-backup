<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>BORING2 - Boring Factorials (Extended) - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450516:T7a6DapEXPF0hnp1hl3jtbedhz0Igui/XHQOmtqcsMY=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Factorial%20is%20one%20of%20the%20most%20attractive%20word%20this%20week%2C%20it%20is%20proposed%20to%20reload%20a%20famous%20%5Bproblem%5D%28http%3A%5C%2F%5C%2Fwww.spoj.com%5C%2Fproblems%5C%2FDCEPC11B%5C%2F%29.%20Is%20it%20so%20boring%20%3F%20As%20the%20%5Breload%20edition%5D%28http%3A%5C%2F%5C%2Fwww.spoj.com%5C%2Fproblems%5C%2FBORING%5C%2F%29%20wasn%27t%20hard%20enough%2C%20we%27ll%20extend%20constraints.%20Sameer%20and%20Arpit%20want%20to%20overcome%20their%20fear%20of%20Maths%20and%20so%20they%20have%20been%20recently%20practicing%20Maths%20problems%20a%20lot.%20Aman%2C%20their%20friend%20has%20been%20helping%20them%20out.%20But%20as%20it%20goes%2C%20Sameer%20and%20Arpit%20have%20got%20bored%20of%20problems%20involving%20factorials.%20Reason%20being%2C%20the%20factorials%20are%20too%20easy%20to%20calculate%20in%20problems%20as%20they%20only%20require%20the%20residue%20modulo%20some%20prime%20and%20that%20is%20easy%20to%20calculate%20in%20linear%20time.%20So%20to%20make%20things%20interesting%20for%20them%2C%20Aman%20-%20The%20Mathemagician%2C%20gives%20them%20an%20interesting%20task.%20He%20gives%20them%20a%20prime%20number%20%2A%2A_P_%2A%2A%20and%20an%20integer%20%2A%2A_N_%2A%2A%20%28not%20so%29%20close%20to%20%2A%2A_P_%2A%2A%2C%20and%20asks%20them%20to%20find%20%2A%2A_N%21%20modulo%20P_%2A%2A.%20He%20asks%20%2A%2A_T_%2A%2A%20such%20queries.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20an%20integer%20%2A%2A_T_%2A%2A%2C%20the%20number%20of%20test%20cases.%20On%20each%20of%20the%20next%20%2A%2A_T_%2A%2A%20lines%2C%20your%20are%20given%20two%20integers%20%2A%2A_N_%2A%2A%2C%20and%20%2A%2A_P_%2A%2A%20a%20prime%20number.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%2C%20you%20have%20to%20print%20%2A%2A_N%21%20modulo%20P_%2A%2A.%22%2C%22samples%22%3A%5B%5B%223%5Cr%5Cn2%205%5Cr%5Cn5%2011%5Cr%5Cn21%2071%22%2C%222%5Cr%5Cn10%5Cr%5Cn6%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B15000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F18799%22%2C%22id%22%3A%2218799%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP18799%22%2C%22title%22%3A%22BORING2%20-%20Boring%20Factorials%20%28Extended%29%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22BORING2%20-%20Boring%20Factorials%20%28Extended%29%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>BORING2 - Boring Factorials (Extended)</h1>
<h2>题目描述</h2>
<div>Factorial is one of the most attractive word this week, it is proposed to reload a famous [problem](http://www.spoj.com/problems/DCEPC11B/). Is it so boring ? As the [reload edition](http://www.spoj.com/problems/BORING/) wasn't hard enough, we'll extend constraints. Sameer and Arpit want to overcome their fear of Maths and so they have been recently practicing Maths problems a lot. Aman, their friend has been helping them out. But as it goes, Sameer and Arpit have got bored of problems involving factorials. Reason being, the factorials are too easy to calculate in problems as they only require the residue modulo some prime and that is easy to calculate in linear time. So to make things interesting for them, Aman - The Mathemagician, gives them an interesting task. He gives them a prime number **_P_** and an integer **_N_** (not so) close to **_P_**, and asks them to find **_N! modulo P_**. He asks **_T_** such queries.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains an integer **_T_**, the number of test cases. On each of the next **_T_** lines, your are given two integers **_N_**, and **_P_** a prime number.</div>
<h3>输出格式</h3>
<br />
<div>For each test case, you have to print **_N! modulo P_**.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
2 5
5 11
21 71</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
10
6</code></pre>
</article>
</div>
</div>
</body>
</html>
