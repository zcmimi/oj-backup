<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MDOLLS - Nested Dolls - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449840:X75pWt0zoCrnOj5SLATmrGRawY5A0RQ21HM/ddY4a9c=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BEnglish%5D%28%5C%2Fproblems%5C%2FMDOLLS%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FMDOLLS%5C%2Fvn%5C%2F%29%20%60%60%60%5Cn%5CnDilworth%20is%20the%20world%27s%20most%20prominent%20collector%20of%20Russian%20nested%20dolls%3A%5Cnhe%20literally%20has%20thousands%20of%20them%21%20You%20know%2C%20the%20wooden%20hollow%20dolls%20of%20%5Cndifferent%20sizes%20of%20which%20the%20smallest%20doll%20is%20contained%20in%20the%20second%20smallest%2C%5Cnand%20this%20doll%20is%20in%20turn%20contained%20in%20the%20next%20one%20and%20so%20forth.%20One%20day%20he%5Cnwonders%20if%20there%20is%20another%20way%20of%20nesting%20them%20so%20he%20will%20end%20up%20with%5Cnfewer%20nested%20dolls%3F%20After%20all%2C%20that%20would%20make%20his%20collection%20even%20%5Cnmore%20magnificent%21%20He%20unpacks%20each%20nested%20doll%20and%20measures%20the%20width%20%5Cnand%20height%20of%20each%20contained%20doll.%20A%20doll%20with%20width%20w1%20and%20height%20h1%20will%5Cnfit%20in%20another%20doll%20of%20width%20w2%20and%20height%20h%3D%20if%20and%20only%20if%20w1%20%3C%20w2%20and%20%5Cnh1%20%3C%20h2.%20Can%20you%20help%20him%20calculate%20the%20smallest%20number%20of%20nested%20dolls%20%5Cnpossible%20to%20assemble%20from%20his%20massive%20list%20of%20measurements%3F%20%5Cn%60%60%60%22%2C%22inputFormat%22%3A%22%60%60%60%5Cn%5CnOn%20the%20first%20line%20of%20input%20is%20a%20single%20positive%20integer%201%20%5Cu2264%20t%20%5Cu2264%2020%20specifying%5Cnthe%20number%20of%20test%20cases%20to%20follow.%20Each%20test%20case%20begins%20with%20a%20positive%20%5Cninteger%201%20%5Cu2264%20m%20%5Cu2264%2020000%20on%20a%20line%20of%20itself%20telling%20the%20number%20of%20dolls%20%5Cnin%20the%20test%20case.%20Next%20follow%202m%20positive%20integers%20w1%2C%20h1%2Cw2%2C%20h2%2C%20...%20%2Cwm%2C%20%5Cnhm%2C%20where%20wi%20is%20the%20width%20and%20hi%20is%20the%20height%20of%20doll%20number%20i.%20%5Cn1%20%5Cu2264%20wi%2C%20hi%20%5Cu2264%2010000%20for%20all%20i.%5Cn%5CnSAMPLE%20INPUT%5Cn4%5Cn3%5Cn20%2030%2040%2050%2030%2040%5Cn4%5Cn20%2030%2010%2010%2030%2020%2040%2050%5Cn3%5Cn10%2030%2020%2020%2030%2010%5Cn4%5Cn10%2010%2020%2030%2040%2050%2039%2051%5Cn%60%60%60%22%2C%22outputFormat%22%3A%22%60%60%60%5Cn%20%5CnFor%20each%20test%20case%20there%20should%20be%20one%20line%20of%20output%20containing%20the%20minimum%5Cnnumber%20of%20nested%20dolls%20possible.%5Cn%5CnSAMPLE%20OUTPUT%5Cn1%5Cn2%5Cn3%5Cn2%5Cn%60%60%60%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B259%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3943%22%2C%22id%22%3A%223943%22%7D%2C%22translation%22%3A%22%5Cu8fea%5Cu6c83%5Cu65af%5Cu662f%5Cu4e16%5Cu754c%5Cu4e0a%5Cu6700%5Cu8457%5Cu540d%5Cu7684%5Cu4fc4%5Cu7f57%5Cu65af%5Cu5957%5Cu5a03%5Cu6536%5Cu85cf%5Cu5bb6%3A%5Cu4f60%5Cu77e5%5Cu9053%5Cu5417%5Cuff1f%5Cu4ed6%5Cu771f%5Cu7684%5Cu6709%5Cu6210%5Cu5343%5Cu4e0a%5Cu4e07%5Cu7684%5Cu5957%5Cu5a03%21%5Cu4e0d%5Cu540c%5Cu5927%5Cu5c0f%5Cu7684%5Cu7a7a%5Cu5fc3%5Cu6728%5Cu5a03%5Cu5a03%5Cuff0c%5Cu6700%5Cu5c0f%5Cu7684%5Cu5a03%5Cu5a03%5Cu88c5%5Cu5728%5Cu7b2c%5Cu4e8c%5Cu5927%5Cu7684%5Cu5a03%5Cu5a03%5Cu91cc%5Cuff0c%5Cu800c%5Cu8fd9%5Cu4e2a%5Cu5a03%5Cu5a03%5Cu53c8%5Cu88c5%5Cu5728%5Cu4e0b%5Cu4e00%5Cu4e2a%5Cu5a03%5Cu5a03%5Cu91cc%5Cuff0c%5Cu7b49%5Cu7b49%5Cu3002%5Cu6709%5Cu4e00%5Cu5929%5Cuff0c%5Cu4ed6%5Cu60f3%5Cu77e5%5Cu9053%5Cu662f%5Cu5426%5Cu6709%5Cu53e6%5Cu4e00%5Cu79cd%5Cu65b9%5Cu5f0f%5Cu6765%5Cu5d4c%5Cu5957%5Cu5b83%5Cu4eec%5Cuff0c%5Cu8fd9%5Cu6837%5Cu4ed6%5Cu5c31%5Cu80fd%5Cu51cf%5Cu5c11%5Cu5957%5Cu5957%5Cu73a9%5Cu5076%5Cu7684%5Cu6570%5Cu91cf%3F%5Cu6bd5%5Cu7adf%5Cuff0c%5Cu90a3%5Cu4f1a%5Cu4f7f%5Cu4ed6%5Cu7684%5Cu6536%5Cu85cf%5Cu66f4%5Cu52a0%5Cu534e%5Cu4e3d%21%5Cu4ed6%5Cu6253%5Cu5f00%5Cu6bcf%5Cu4e2a%5Cu5d4c%5Cu5957%5Cu7684%5Cu5a03%5Cu5a03%5Cuff0c%5Cu6d4b%5Cu91cf%5Cu6bcf%5Cu4e2a%5Cu5a03%5Cu5a03%5Cu7684%5Cu5bbd%5Cu5ea6%5Cu548c%5Cu9ad8%5Cu5ea6%5Cu3002%5Cu5f53%5Cu4e14%5Cu4ec5%5Cu5f53w1%20%3C%20w2%5Cu4e14h1%20%3C%20h2%5Cu65f6%5Cuff0c%5Cu5bbd%5Cu5ea6%5Cu4e3aw1%5Cu4e14%5Cu9ad8%5Cu5ea6%5Cu4e3ah1%5Cu7684%5Cu5a03%5Cu5a03%5Cu624d%5Cu80fd%5Cu4e0e%5Cu53e6%5Cu4e00%5Cu4e2a%5Cu5bbd%5Cu5ea6%5Cu4e3aw2%5Cu4e14%5Cu9ad8%5Cu5ea6%5Cu4e3ah%5Cu7684%5Cu5a03%5Cu5a03%5Cu76f8%5Cu5339%5Cu914d%5Cu3002%5Cu4f60%5Cu80fd%5Cu5e2e%5Cu4ed6%5Cu4ece%5Cu4ed6%5Cu7684%5Cu5927%5Cu91cf%5Cu6d4b%5Cu91cf%5Cu6570%5Cu636e%5Cu4e2d%5Cu8ba1%5Cu7b97%5Cu51fa%5Cu6700%5Cu5c0f%5Cu7684%5Cu5d4c%5Cu5957%5Cu5a03%5Cu5a03%5Cu6570%5Cu91cf%5Cu5417%3F%22%2C%22tags%22%3A%5B7%2C113%2C125%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A88%2C%22totalAccepted%22%3A25%2C%22pid%22%3A%22SP3943%22%2C%22title%22%3A%22MDOLLS%20-%20Nested%20Dolls%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A50871%2C%22title%22%3A%22%5Cu624b%5Cu52a8%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A13980%2C%22name%22%3A%22SP3943%20MDOLLS%20-%20Nested%20Dolls%22%2C%22slug%22%3A%22SP3943%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1003%22%2C%22title%22%3A%22%5Cu94fa%5Cu5730%5Cu6bef%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1037%22%2C%22title%22%3A%22%5Cu4ea7%5Cu751f%5Cu6570%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1088%22%2C%22title%22%3A%22%5Cu706b%5Cu661f%5Cu4eba%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1228%22%2C%22title%22%3A%22%5Cu5730%5Cu6bef%5Cu586b%5Cu8865%5Cu95ee%5Cu9898%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3382%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu4e09%5Cu5206%5Cu6cd5%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MDOLLS%20-%20Nested%20Dolls%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MDOLLS - Nested Dolls</h1>
<h2>题意翻译</h2>
<div>迪沃斯是世界上最著名的俄罗斯套娃收藏家:你知道吗？他真的有成千上万的套娃!不同大小的空心木娃娃，最小的娃娃装在第二大的娃娃里，而这个娃娃又装在下一个娃娃里，等等。有一天，他想知道是否有另一种方式来嵌套它们，这样他就能减少套套玩偶的数量?毕竟，那会使他的收藏更加华丽!他打开每个嵌套的娃娃，测量每个娃娃的宽度和高度。当且仅当w1 < w2且h1 < h2时，宽度为w1且高度为h1的娃娃才能与另一个宽度为w2且高度为h的娃娃相匹配。你能帮他从他的大量测量数据中计算出最小的嵌套娃娃数量吗?</div>
<h2>题目描述</h2>
<div>[English](/problems/MDOLLS/en/) [Vietnamese](/problems/MDOLLS/vn/) ```
Dilworth is the world's most prominent collector of Russian nested dolls:
he literally has thousands of them! You know, the wooden hollow dolls of
different sizes of which the smallest doll is contained in the second smallest,
and this doll is in turn contained in the next one and so forth. One day he
wonders if there is another way of nesting them so he will end up with
fewer nested dolls? After all, that would make his collection even
more magnificent! He unpacks each nested doll and measures the width
and height of each contained doll. A doll with width w1 and height h1 will
fit in another doll of width w2 and height h= if and only if w1 < w2 and
h1 < h2. Can you help him calculate the smallest number of nested dolls
possible to assemble from his massive list of measurements?
```</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>```
On the first line of input is a single positive integer 1 ≤ t ≤ 20 specifying
the number of test cases to follow. Each test case begins with a positive
integer 1 ≤ m ≤ 20000 on a line of itself telling the number of dolls
in the test case. Next follow 2m positive integers w1, h1,w2, h2, ... ,wm,
hm, where wi is the width and hi is the height of doll number i.
1 ≤ wi, hi ≤ 10000 for all i.
SAMPLE INPUT
4
3
20 30 40 50 30 40
4
20 30 10 10 30 20 40 50
3
10 30 20 20 30 10
4
10 10 20 30 40 50 39 51
```</div>
<h3>输出格式</h3>
<br />
<div>```
For each test case there should be one line of output containing the minimum
number of nested dolls possible.
SAMPLE OUTPUT
1
2
3
2
```</div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
