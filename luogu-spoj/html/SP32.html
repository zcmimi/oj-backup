<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>NHAY - A Needle in the Haystack - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449505:oxhyab3533MEgs8mzRMq72bxnfbdPSrZ5gCoar9jhhA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22%20Write%20a%20program%20that%20finds%20all%20occurences%20of%20a%20given%20pattern%20in%20a%20given%20input%20string.%20This%20is%20often%20referred%20to%20as%20finding%20a%20_needle_%20in%20a%20_haystack_.%5Cn%5CnThe%20program%20has%20to%20detect%20%2A%2Aall%2A%2A%20occurences%20of%20the%20needle%20in%20the%20haystack.%20It%20should%20take%20the%20needle%20and%20the%20haystack%20as%20input%2C%20and%20output%20the%20positions%20of%20each%20occurence%2C%20as%20shown%20below.%20The%20suggested%20implementation%20is%20the%20KMP%20algorithm%2C%20but%20this%20is%20not%20a%20requirement.%20However%2C%20a%20naive%20approach%20will%20probably%20exceed%20the%20time%20limit%2C%20whereas%20other%20algorithms%20are%20more%20complicated...%20The%20choice%20is%20yours.%22%2C%22inputFormat%22%3A%22The%20input%20consists%20of%20a%20number%20of%20test%20cases.%20Each%20test%20case%20is%20composed%20of%20three%20lines%2C%20containing%3A%5Cn%5Cn-%20the%20length%20of%20the%20needle%2C%5Cn-%20the%20needle%20itself%2C%5Cn-%20the%20haystack.%5Cn%20%5Cn%5Cn%5CnThe%20length%20of%20the%20needle%20is%20only%20limited%20by%20the%20memory%20available%20to%20your%20program%2C%20so%20do%20not%20make%20any%20assumptions%20-%20instead%2C%20read%20the%20length%20and%20allocate%20memory%20as%20needed.%20The%20haystack%20is%20%2A%2Anot%2A%2A%20limited%20in%20size%2C%20which%20implies%20that%20your%20program%20should%20not%20read%20the%20whole%20haystack%20at%20once.%20The%20KMP%20algorithm%20is%20stream-based%2C%20i.e.%20it%20processes%20the%20haystack%20character%20by%20character%2C%20so%20this%20is%20not%20a%20problem.%5Cn%5CnThe%20test%20cases%20come%20one%20after%20another%2C%20each%20occupying%20three%20lines%2C%20with%20no%20additional%20space%20or%20line%20breaks%20in%20between.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%20your%20program%20should%20output%20all%20positions%20of%20the%20needle%27s%20occurences%20within%20the%20haystack.%20If%20a%20match%20is%20found%2C%20the%20output%20should%20contain%20the%20position%20of%20the%20first%20character%20of%20the%20match.%20Characters%20in%20the%20haystack%20are%20numbered%20starting%20with%20zero.%5Cn%5CnFor%20a%20given%20test%20case%2C%20the%20positions%20output%20should%20be%20sorted%20in%20ascending%20order%2C%20and%20each%20of%20these%20should%20be%20printed%20in%20a%20separate%20line.%20For%20two%20different%20test%20cases%2C%20the%20positions%20should%20be%20separated%20by%20an%20empty%20line.%22%2C%22samples%22%3A%5B%5B%222%5Cnna%5Cnbanananobano%5Cn6%5Cnfoobar%5Cnfoo%5Cn9%5Cnfoobarfoo%5Cnbarfoobarfoobarfoobarfoobarfoo%22%2C%222%5Cn4%5Cn%5Cn3%5Cn9%5Cn15%5Cn21%22%5D%5D%2C%22hint%22%3A%22Note%20the%20double%20empty%20line%20in%20the%20output%2C%20which%20means%20that%20no%20match%20was%20found%20for%20the%20second%20test%20case.%5Cn%5Cn%20%2A%2AWarning%3A%20large%20Input%5C%2FOutput%20data%2C%20be%20careful%20with%20certain%20languages%2A%2A%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B5000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F32%22%2C%22id%22%3A%2232%22%7D%2C%22translation%22%3A%22%5Cn%5Cn%5Cu5927%5Cu610f%5Cuff1a%5Cn%5Cn%5Cu5199%5Cu4e00%5Cu4e2a%5Cu7a0b%5Cu5e8f%5Cu5728%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%5Cu4e2d%5Cu67e5%5Cu627e%5Cu4e00%5Cu4e2a%5Cu5b50%5Cu5b57%5Cu7b26%5Cu4e32%5Cu51fa%5Cu73b0%5Cu8fc7%5Cu7684%5Cu6240%5Cu6709%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A112%2C%22totalAccepted%22%3A52%2C%22pid%22%3A%22SP32%22%2C%22title%22%3A%22NHAY%20-%20A%20Needle%20in%20the%20Haystack%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A33253%2C%22title%22%3A%2218%20%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12875%2C%22name%22%3A%22SP32%20NHAY%20-%20A%20Needle%20in%20the%20Haystack%22%2C%22slug%22%3A%22SP32%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2120%22%2C%22title%22%3A%22%5BZJOI2007%5D%5Cu4ed3%5Cu5e93%5Cu5efa%5Cu8bbe%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF375D%22%2C%22title%22%3A%22Tree%20and%20Queries%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22SP23%22%2C%22title%22%3A%22PIR%20-%20Pyramids%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22SP%22%7D%2C%7B%22pid%22%3A%22SP91%22%2C%22title%22%3A%22TWOSQRS%20-%20Two%20squares%20or%20not%20two%20squares%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22SP%22%7D%2C%7B%22pid%22%3A%22P5025%22%2C%22title%22%3A%22%5BSNOI2017%5D%5Cu70b8%5Cu5f39%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22NHAY%20-%20A%20Needle%20in%20the%20Haystack%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>NHAY - A Needle in the Haystack</h1>
<h2>题意翻译</h2>
<div>
大意：
写一个程序在一个字符串中查找一个子字符串出现过的所有位置。
</div>
<h2>题目描述</h2>
<div> Write a program that finds all occurences of a given pattern in a given input string. This is often referred to as finding a _needle_ in a _haystack_.
The program has to detect **all** occurences of the needle in the haystack. It should take the needle and the haystack as input, and output the positions of each occurence, as shown below. The suggested implementation is the KMP algorithm, but this is not a requirement. However, a naive approach will probably exceed the time limit, whereas other algorithms are more complicated... The choice is yours.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The input consists of a number of test cases. Each test case is composed of three lines, containing:
- the length of the needle,
- the needle itself,
- the haystack.
The length of the needle is only limited by the memory available to your program, so do not make any assumptions - instead, read the length and allocate memory as needed. The haystack is **not** limited in size, which implies that your program should not read the whole haystack at once. The KMP algorithm is stream-based, i.e. it processes the haystack character by character, so this is not a problem.
The test cases come one after another, each occupying three lines, with no additional space or line breaks in between.</div>
<h3>输出格式</h3>
<br />
<div>For each test case your program should output all positions of the needle's occurences within the haystack. If a match is found, the output should contain the position of the first character of the match. Characters in the haystack are numbered starting with zero.
For a given test case, the positions output should be sorted in ascending order, and each of these should be printed in a separate line. For two different test cases, the positions should be separated by an empty line.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
na
banananobano
6
foobar
foo
9
foobarfoo
barfoobarfoobarfoobarfoobarfoo</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
4

3
9
15
21</code></pre>
<h2>说明</h2>
<div>Note the double empty line in the output, which means that no match was found for the second test case.
**Warning: large Input/Output data, be careful with certain languages**</div>
</article>
</div>
</div>
</body>
</html>
