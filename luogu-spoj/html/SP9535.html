<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>JZPLIT2 - Turn on the lights 2 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450160:YTnZx7hXUalf2c/yIdiI3oTgKgKIvEhPtKJx6lwK2lI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Recently%20Zippy%20received%20a%20puzzle.%20It%20is%20an%20n%5C%5C%2Am%20matrix.%20In%20most%20cells%20of%20the%20matrix%2C%20there%20is%20a%20light%20with%20a%20switch.%20However%2C%20some%20cells%20do%20not%20contain%20a%20light%20with%20a%20switch%2C%20and%20they%20are%20called%20%5C%22blocks%5C%22.%20Once%20he%20flips%20the%20switch%20in%20a%20cell%2C%20lights%20in%20visible%20cells%20from%20it%28including%20itself%29%20change%20to%20its%20opposite%20state%20%28which%20means%3A%20on-%3Eoff%20off-%3Eon%29.%20One%20cell%20is%20visible%20from%20another%2C%20iff%20they%20are%20in%20the%20same%20row%20or%20the%20same%20column%2C%20and%20there%20aren%27t%20any%20blocks%20between%20them%20%28and%20of%20course%20the%20two%20cells%20should%20not%20be%20blocks%29.%20Zippy%20wants%20to%20turn%20on%20all%20the%20lights.%20Please%20help%20him%20to%20solve%20the%20puzzle.%22%2C%22inputFormat%22%3A%22First%20line%2C%20n%2C%20m.%5Cn%5CnThe%20following%20n%20lines%2C%20each%20line%20is%20a%20m-length%20string%2C%20represting%20the%20original%20state.%20%280%20means%20on%2C%201%20means%20off%20and%202%20means%20a%20block%29%5Cn%5Cn1%3C%3Dn%2Cm%3C%3D300%5Cn%5Cnnumber%20of%20blocks%3C%3Dmax%28n%2Cm%29%22%2C%22outputFormat%22%3A%22n%20lines%2C%20each%20line%20is%20a%20m-length%20string.%20It%27s%20obvious%20that%20if%20a%20valid%20solution%20exists%2C%20there%20exists%20a%20solution%20that%20every%20switch%20is%20flipped%20no%20more%20than%20once.%20So%201%20means%20the%20switch%20is%20flipped%20once%20and%200%20means%20the%20swtich%20remains%20unflipped.%20Of%20course%2C%20a%20block%20do%20not%20contain%20a%20swtich%2C%20so%20for%20the%20cell%2C%20you%20should%20always%20output%200.%5Cn%5CnIt%27s%20guaranteed%20that%20there%20always%20exists%20a%20solution.%20If%20there%20are%20multiple%20solutions%2C%20output%20any%20of%20them.%5Cn%5CnFirsline%2C%20n%2C%20m.%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B5000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F9535%22%2C%22id%22%3A%229535%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A2%2C%22totalAccepted%22%3A1%2C%22pid%22%3A%22SP9535%22%2C%22title%22%3A%22JZPLIT2%20-%20Turn%20on%20the%20lights%202%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22JZPLIT2%20-%20Turn%20on%20the%20lights%202%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>JZPLIT2 - Turn on the lights 2</h1>
<h2>题目描述</h2>
<div>Recently Zippy received a puzzle. It is an n\*m matrix. In most cells of the matrix, there is a light with a switch. However, some cells do not contain a light with a switch, and they are called "blocks". Once he flips the switch in a cell, lights in visible cells from it(including itself) change to its opposite state (which means: on->off off->on). One cell is visible from another, iff they are in the same row or the same column, and there aren't any blocks between them (and of course the two cells should not be blocks). Zippy wants to turn on all the lights. Please help him to solve the puzzle.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>First line, n, m.
The following n lines, each line is a m-length string, represting the original state. (0 means on, 1 means off and 2 means a block)
1<=n,m<=300
number of blocks<=max(n,m)</div>
<h3>输出格式</h3>
<br />
<div>n lines, each line is a m-length string. It's obvious that if a valid solution exists, there exists a solution that every switch is flipped no more than once. So 1 means the switch is flipped once and 0 means the swtich remains unflipped. Of course, a block do not contain a swtich, so for the cell, you should always output 0.
It's guaranteed that there always exists a solution. If there are multiple solutions, output any of them.
Firsline, n, m.</div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
