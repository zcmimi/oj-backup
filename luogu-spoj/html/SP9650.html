<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>TRIPINV - Mega Inversions - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450165:6XKT1ik3a0giaySu327NhMyHARskK984KnDZ07eUBXo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22The%20n%5E2%20upper%20bound%20for%20any%20sorting%20algorithm%20%20%5Cnis%20easy%20to%20obtain%3A%20just%20take%20two%20elements%20%20%5Cnthat%20are%20misplaced%20with%20respect%20to%20each%20other%20%20%5Cnand%20swap%20them.%20Conrad%20conceived%20an%20algorithm%20%20%5Cnthat%20proceeds%20by%20taking%20not%20two%2C%20but%20three%20misplaced%20%20%5Cnelements.%20That%20is%2C%20take%20three%20elements%20%20%5Cnai%20%3E%20aj%20%3E%20ak%20with%20i%20%3C%20j%20%3C%20k%20and%20place%20them%20in%20%20%5Cnorder%20ak%3B%20aj%20%3B%20ai.%20Now%20if%20for%20the%20original%20algorithm%20%20%5Cnthe%20steps%20are%20bounded%20by%20the%20maximum%20number%20%20%5Cnof%20inversions%20n%28n-1%29%5C%2F2%2C%20Conrad%20is%20at%20his%20wits%27%20end%20as%20%20%5Cnto%20the%20upper%20bound%20for%20such%20triples%20in%20a%20given%20sequence.%20He%20asks%20you%20to%20write%20a%20program%20%20%5Cnthat%20counts%20the%20number%20of%20such%20triples.%22%2C%22inputFormat%22%3A%22The%20rst%20line%20of%20the%20input%20is%20the%20length%20of%20the%20sequence%2C%201%20%3C%3D%20n%20%3C%3D%2010%5E5.%20%20%5CnThe%20next%20line%20contains%20the%20integer%20sequence%20a1%3B%20a2..an.%20%20%5CnYou%20can%20assume%20that%20all%20ai%20belongs%20%5C%5C%5B1%3B%20n%5C%5C%5D.%22%2C%22outputFormat%22%3A%22Output%20the%20number%20of%20inverted%20triples.%22%2C%22samples%22%3A%5B%5B%224%5C%5Cn3%203%202%201%22%2C%222%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B643%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F9650%22%2C%22id%22%3A%229650%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP9650%22%2C%22title%22%3A%22TRIPINV%20-%20Mega%20Inversions%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22TRIPINV%20-%20Mega%20Inversions%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>TRIPINV - Mega Inversions</h1>
<h2>题目描述</h2>
<div>The n^2 upper bound for any sorting algorithm
is easy to obtain: just take two elements
that are misplaced with respect to each other
and swap them. Conrad conceived an algorithm
that proceeds by taking not two, but three misplaced
elements. That is, take three elements
ai > aj > ak with i < j < k and place them in
order ak; aj ; ai. Now if for the original algorithm
the steps are bounded by the maximum number
of inversions n(n-1)/2, Conrad is at his wits' end as
to the upper bound for such triples in a given sequence. He asks you to write a program
that counts the number of such triples.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The rst line of the input is the length of the sequence, 1 <= n <= 10^5.
The next line contains the integer sequence a1; a2..an.
You can assume that all ai belongs \[1; n\].</div>
<h3>输出格式</h3>
<br />
<div>Output the number of inverted triples.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4\n3 3 2 1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2</code></pre>
</article>
</div>
</div>
</body>
</html>
