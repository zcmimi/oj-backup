<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>BRCKTS - Brackets - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449514:KHVcpDwHmYmy5Il+10uOin1ZkT5hWrcISA2vgR11z2I=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22%20We%20will%20call%20a%20%2A%2Abracket%20word%2A%2A%20any%20word%20constructed%20out%20of%20two%20sorts%20of%20characters%3A%20the%20opening%20bracket%20%5C%22%28%5C%22%20and%20the%20closing%20bracket%20%5C%22%29%5C%22.%20Among%20these%20words%20we%20will%20distinguish%20%2A%2Acorrect%20bracket%20expressions%2A%2A.%20These%20are%20such%20bracket%20words%20in%20which%20the%20brackets%20can%20be%20matched%20into%20pairs%20such%20that%5Cn%5Cn-%20every%20pair%20consists%20of%20an%20opening%20bracket%20and%20a%20closing%20bracket%20appearing%20further%20in%20the%20bracket%20word%5Cn-%20for%20every%20pair%20the%20part%20of%20the%20word%20between%20the%20brackets%20of%20this%20pair%20has%20equal%20number%20of%20opening%20and%20closing%20brackets%5Cn%20%5Cn%20On%20a%20bracket%20word%20one%20can%20do%20the%20following%20operations%3A%20-%20%2A%2Areplacement%2A%2A%20--%20changes%20the%20i-th%20bracket%20into%20the%20opposite%20one%5Cn-%20%2A%2Acheck%2A%2A%20--%20if%20the%20word%20is%20a%20correct%20bracket%20expression%5Cn%20%5Cn%20%20%5Cn%23%23%23%20Task%5Cn%5Cn%20Write%20a%20program%20which%5Cn%5Cn-%20reads%20%28from%20standard%20input%29%20the%20bracket%20word%20and%20the%20sequence%20of%20operations%20performed%2C%5Cn-%20for%20every%20check%20operation%20determines%20if%20the%20current%20bracket%20word%20is%20a%20correct%20bracket%20expression%2C%5Cn-%20writes%20out%20the%20outcome%20%28to%20standard%20output%29.%22%2C%22inputFormat%22%3A%22%20Ten%20test%20cases%20%28given%20one%20under%20another%2C%20you%20have%20to%20process%20all%21%29.%20Each%20of%20the%20test%20cases%20is%20a%20series%20of%20lines.%20The%20first%20line%20of%20a%20test%20consists%20of%20a%20single%20number%20_n%20%281%3C%3Dn%3C%3D30000%29_%20denoting%20the%20length%20of%20the%20bracket%20word.%20The%20second%20line%20consists%20of%20_n_%20brackets%2C%20not%20separated%20by%20any%20spaces.%20The%20third%20line%20consists%20of%20a%20single%20number%20_m_%20--%20the%20number%20of%20operations.%20Each%20of%20the%20following%20_m_%20lines%20carries%20a%20number%20_k_%20denoting%20the%20operation%20performed.%20_k%3D0_%20denotes%20the%20check%20operation%2C%20_k%3E0_%20denotes%20replacement%20of%20_k_-th%20bracket%20by%20the%20opposite.%22%2C%22outputFormat%22%3A%22%20For%20every%20test%20case%20your%20program%20should%20print%20a%20line%3A%20%20%5Cn%20Test%20i%3A%20%20%5Cn%20where%20i%20is%20replaced%20by%20the%20number%20of%20the%20test%20and%20in%20the%20following%20lines%2C%20for%20every%20check%20operation%20in%20the%20i-th%20test%20your%20program%20should%20print%20a%20line%20with%20the%20word%20YES%2C%20if%20the%20current%20bracket%20word%20is%20a%20correct%20bracket%20expression%2C%20and%20a%20line%20with%20a%20word%20NO%20otherwise.%20%28There%20should%20be%20as%20many%20lines%20as%20check%20operations%20in%20the%20test.%29%22%2C%22samples%22%3A%5B%5B%224%5Cn%28%29%28%28%5Cn4%5Cn4%5Cn0%5Cn2%5Cn0%5Cn%5Band%209%20test%20cases%20more%5D%22%2C%22Test%201%3A%5CnYES%5CnNO%5Cn%5Band%209%20test%20cases%20more%5D%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B11000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F61%22%2C%22id%22%3A%2261%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu4f60%5Cu51e0%5Cu4e2a%5Cu5f00%5Cu62ec%5Cu53f7%5Cu201c%28%5Cu201d%5Cu548c%5Cu95ed%5Cu62ec%5Cu53f7%5Cu201c%5Cuff09%5Cu201d%5Cuff0c%5Cu4ee5%5Cu53ca%5Cu51e0%5Cu4e2a%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu5305%5Cu542b%5Cu4e0b%5Cu9762%5Cu4e24%5Cu79cd%5Cu64cd%5Cu4f5c%5Cuff1a%5Cn%5Cn%5Cu00b7%5Cu5c06%5Cu7b2c%24i%24%20%5Cu4e2a%5Cu62ec%5Cu53f7%5Cu6539%5Cu4e3a%5Cu76f8%5Cu53cd%5Cu7684%5Cu62ec%5Cu53f7%5Cu3002%5Cn%5Cn%5Cu00b7%5Cu68c0%5Cu67e5%5Cu5f53%5Cu524d%5Cu662f%5Cu5426%5Cu662f%5Cu6b63%5Cu786e%5Cu7684%5Cu62ec%5Cu53f7%5Cu8868%5Cu8fbe%5Cu5f0f%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A50%2C%22totalAccepted%22%3A10%2C%22pid%22%3A%22SP61%22%2C%22title%22%3A%22BRCKTS%20-%20Brackets%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A33252%2C%22title%22%3A%2217%20%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12901%2C%22name%22%3A%22SP61%20BRCKTS%20-%20Brackets%22%2C%22slug%22%3A%22SP61%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1856%22%2C%22title%22%3A%22%5BUSACO5.5%5D%5Cu77e9%5Cu5f62%5Cu5468%5Cu957fPicture%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3369%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu666e%5Cu901a%5Cu5e73%5Cu8861%5Cu6811%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22SP91%22%2C%22title%22%3A%22TWOSQRS%20-%20Two%20squares%20or%20not%20two%20squares%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22SP%22%7D%2C%7B%22pid%22%3A%22P5498%22%2C%22title%22%3A%22%5BLnOI2019%5D%5Cu8138%5Cu6eda%5Cu952e%5Cu76d8%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1209A%22%2C%22title%22%3A%22Paint%20the%20Numbers%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22BRCKTS%20-%20Brackets%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>BRCKTS - Brackets</h1>
<h2>题意翻译</h2>
<div>给你几个开括号“(”和闭括号“）”，以及几个操作，包含下面两种操作：
·将第$i$ 个括号改为相反的括号。
·检查当前是否是正确的括号表达式。</div>
<h2>题目描述</h2>
<div> We will call a **bracket word** any word constructed out of two sorts of characters: the opening bracket "(" and the closing bracket ")". Among these words we will distinguish **correct bracket expressions**. These are such bracket words in which the brackets can be matched into pairs such that
- every pair consists of an opening bracket and a closing bracket appearing further in the bracket word
- for every pair the part of the word between the brackets of this pair has equal number of opening and closing brackets
On a bracket word one can do the following operations: - **replacement** -- changes the i-th bracket into the opposite one
- **check** -- if the word is a correct bracket expression
### Task
Write a program which
- reads (from standard input) the bracket word and the sequence of operations performed,
- for every check operation determines if the current bracket word is a correct bracket expression,
- writes out the outcome (to standard output).</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> Ten test cases (given one under another, you have to process all!). Each of the test cases is a series of lines. The first line of a test consists of a single number _n (1<=n<=30000)_ denoting the length of the bracket word. The second line consists of _n_ brackets, not separated by any spaces. The third line consists of a single number _m_ -- the number of operations. Each of the following _m_ lines carries a number _k_ denoting the operation performed. _k=0_ denotes the check operation, _k>0_ denotes replacement of _k_-th bracket by the opposite.</div>
<h3>输出格式</h3>
<br />
<div> For every test case your program should print a line:
Test i:
where i is replaced by the number of the test and in the following lines, for every check operation in the i-th test your program should print a line with the word YES, if the current bracket word is a correct bracket expression, and a line with a word NO otherwise. (There should be as many lines as check operations in the test.)</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
()((
4
4
0
2
0
[and 9 test cases more]</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Test 1:
YES
NO
[and 9 test cases more]</code></pre>
</article>
</div>
</div>
</body>
</html>
