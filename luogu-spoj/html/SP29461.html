<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>AROPE3 - Alphabetic Rope3 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450693:zYbatJnAUbhNGXld78rRWkLCuefcUNQDnwPHp+u4E+s=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%60%3Cpre%20style%3D%5C%22box-sizing%3A%20border-box%3B%20overflow%3A%20auto%3B%20font-family%3A%20Menlo%2C%20Monaco%2C%20Consolas%2C%20%5C%22Courier%20New%5C%22%2C%20monospace%3B%20font-size%3A%2011px%3B%20padding%3A%2010px%3B%20margin%3A%2020px%200px%3B%20line-height%3A%201.42857%3B%20color%3A%20%23333333%3B%20word-break%3A%20break-all%3B%20word-wrap%3A%20break-word%3B%20background-image%3A%20initial%3B%20background-position%3A%200px%20center%3B%20background-size%3A%20initial%3B%20background-repeat%3A%20initial%3B%20background-attachment%3A%20initial%3B%20background-origin%3A%20initial%3B%20background-clip%3A%20initial%3B%20border-image%3A%20initial%3B%20border-radius%3A%203px%3B%20border%3A%201px%201px%201px%205px%20solid%20%23eeeeee%20%23eeeeee%20%23eeeeee%20%235bc0de%3B%5C%22%3E%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-size%3A%20small%3B%5C%22%3EThe%20Alphabetic%20Rope%20is%20now%20available%20in%20the%20market.%20The%20Alphabetic%20Rope%20consists%20of%20alphabetic%3Cbr%20style%3D%5C%22box-sizing%3A%20border-box%3B%5C%22%3E%3C%5C%2Fbr%3E%3C%5C%2Fspan%3E%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-size%3A%20small%3B%5C%22%3Echaracters%20in%20each%20stripe%20which%20looks%20like%20string.%3Cbr%20style%3D%5C%22box-sizing%3A%20border-box%3B%5C%22%3E%3C%5C%2Fbr%3E%3C%5C%2Fspan%3E%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-size%3A%20small%3B%5C%22%3EYou%20are%20given%20an%20Alphabetic%20rope%20consists%20of%20lowercase%20alphabetic%20characters%20only%2Cyou%20have%20to%20perform%3Cbr%20style%3D%5C%22box-sizing%3A%20border-box%3B%5C%22%3E%3C%5C%2Fbr%3E%3C%5C%2Fspan%3E%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-size%3A%20small%3B%5C%22%3Esome%20operations%20on%20rope%20and%20answers%20some%20queries%20on%20it.%3Cbr%20style%3D%5C%22box-sizing%3A%20border-box%3B%5C%22%3E%3C%5C%2Fbr%3E%3C%5C%2Fspan%3E%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-size%3A%20small%3B%5C%22%3EQueries%20are%20of%203%20types%3A%3C%5C%2Fspan%3E%60-%201%20X%20Y%20%3A%20Cut%20the%20rope%20segment%20from%20X%20to%20Y%20and%20Reverse%20it%20then%20join%20at%20the%20front%20of%20the%20rope.%5Cn%5Cn-%202%20X%20Y%20%3A%20Cut%20the%20rope%20segment%20from%20X%20to%20Y%20and%20Reverse%20it%20then%20join%20at%20the%20back%20of%20the%20rope.%5Cn%5Cn-%203%20Y%3A%20Print%20on%20a%20new%20line%20an%20Alphabet%20on%20Yth%20position%20of%20the%20current%20rope.%22%2C%22inputFormat%22%3A%22%60%3Cpre%20style%3D%5C%22box-sizing%3A%20border-box%3B%20overflow%3A%20auto%3B%20font-family%3A%20Menlo%2C%20Monaco%2C%20Consolas%2C%20%5C%22Courier%20New%5C%22%2C%20monospace%3B%20font-size%3A%2011px%3B%20padding%3A%2010px%3B%20margin%3A%2020px%200px%3B%20line-height%3A%201.42857%3B%20color%3A%20%23333333%3B%20word-break%3A%20break-all%3B%20word-wrap%3A%20break-word%3B%20background-image%3A%20initial%3B%20background-position%3A%200px%20center%3B%20background-size%3A%20initial%3B%20background-repeat%3A%20initial%3B%20background-attachment%3A%20initial%3B%20background-origin%3A%20initial%3B%20background-clip%3A%20initial%3B%20border-image%3A%20initial%3B%20border-radius%3A%203px%3B%20border%3A%201px%201px%201px%205px%20solid%20%23eeeeee%20%23eeeeee%20%23eeeeee%20%235bc0de%3B%5C%22%3E%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-size%3A%20small%3B%5C%22%3EThere%20is%20only%20one%20input.%20Input%20begins%20with%20single%20line%20giving%20Alphabetic%20Rope%20as%20a%20string%20-%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-weight%3A%20700%3B%5C%22%3ES%3C%5C%2Fspan%3E.%3Cbr%20style%3D%5C%22box-sizing%3A%20border-box%3B%5C%22%3E%3C%5C%2Fbr%3E%3C%5C%2Fspan%3E%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-size%3A%20small%3B%5C%22%3ENext%20line%20containg%20%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-weight%3A%20700%3B%5C%22%3EQ%3C%5C%2Fspan%3E%2C%20follows%20Q%20lines%20giving%20Queries%20as%20mentioned%20above.%20%28%20Index%20used%20are%3Cbr%20style%3D%5C%22box-sizing%3A%20border-box%3B%5C%22%3E%3C%5C%2Fbr%3E%3C%5C%2Fspan%3E%3Cspan%20style%3D%5C%22box-sizing%3A%20border-box%3B%20font-size%3A%20small%3B%5C%22%3E0-based%20%29%3C%5C%2Fspan%3E%60%22%2C%22outputFormat%22%3A%22%20For%20each%20query%20of%20type%203%2C%20Print%20a%20single%20character%20in%20a%20new%20line.%5Cn%5Cn%23%23%23%20%5Cn%5CnConstraints%3A%5Cn%5Cn1%3C%3D%7CS%7C%3C%3D100000.%20%28Length%20of%20string%29%5Cn%5Cn1%3C%3DQ%7C%3C%3D100000.%20%28Total%20Queries%29%22%2C%22samples%22%3A%5B%5B%22gautambishal%5C%5Cn5%5C%5Cn1%203%205%5C%5Cn3%200%5C%5Cn3%203%5C%5Cn2%202%204%5C%5Cn3%209%22%2C%22m%5C%5Cng%5C%5Cna%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F29461%22%2C%22id%22%3A%2229461%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP29461%22%2C%22title%22%3A%22AROPE3%20-%20Alphabetic%20Rope3%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22AROPE3%20-%20Alphabetic%20Rope3%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>AROPE3 - Alphabetic Rope3</h1>
<h2>题目描述</h2>
<div>`<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 11px; padding: 10px; margin: 20px 0px; line-height: 1.42857; color: #333333; word-break: break-all; word-wrap: break-word; background-image: initial; background-position: 0px center; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-image: initial; border-radius: 3px; border: 1px 1px 1px 5px solid #eeeeee #eeeeee #eeeeee #5bc0de;"><span style="box-sizing: border-box; font-size: small;">The Alphabetic Rope is now available in the market. The Alphabetic Rope consists of alphabetic<br style="box-sizing: border-box;"></br></span><span style="box-sizing: border-box; font-size: small;">characters in each stripe which looks like string.<br style="box-sizing: border-box;"></br></span><span style="box-sizing: border-box; font-size: small;">You are given an Alphabetic rope consists of lowercase alphabetic characters only,you have to perform<br style="box-sizing: border-box;"></br></span><span style="box-sizing: border-box; font-size: small;">some operations on rope and answers some queries on it.<br style="box-sizing: border-box;"></br></span><span style="box-sizing: border-box; font-size: small;">Queries are of 3 types:</span>`- 1 X Y : Cut the rope segment from X to Y and Reverse it then join at the front of the rope.

- 2 X Y : Cut the rope segment from X to Y and Reverse it then join at the back of the rope.

- 3 Y: Print on a new line an Alphabet on Yth position of the current rope.</div>

    <h2>输入输出格式</h2>
    <h3>输入格式</h3>
    <br />
    <div>`<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 11px; padding: 10px; margin: 20px 0px; line-height: 1.42857; color: #333333; word-break: break-all; word-wrap: break-word; background-image: initial; background-position: 0px center; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-image: initial; border-radius: 3px; border: 1px 1px 1px 5px solid #eeeeee #eeeeee #eeeeee #5bc0de;"><span style="box-sizing: border-box; font-size: small;">There is only one input. Input begins with single line giving Alphabetic Rope as a string -<span style="box-sizing: border-box; font-weight: 700;">S</span>.<br style="box-sizing: border-box;"></br></span><span style="box-sizing: border-box; font-size: small;">Next line containg <span style="box-sizing: border-box; font-weight: 700;">Q</span>, follows Q lines giving Queries as mentioned above. ( Index used are<br style="box-sizing: border-box;"></br></span><span style="box-sizing: border-box; font-size: small;">0-based )</span>`</div>
    <h3>输出格式</h3>
    <br />
    <div> For each query of type 3, Print a single character in a new line.

### 

Constraints:

1<=|S|<=100000. (Length of string)

1<=Q|<=100000. (Total Queries)</div>

    <h2>输入输出样例</h2>
                        <h3>输入样例 #1</h3>
            <pre><code>gautambishal\n5\n1 3 5\n3 0\n3 3\n2 2 4\n3 9</code></pre>
            <h3>输出样例 #1</h3>
            <pre><code>m\ng\na</code></pre>
            
    </article>
    </div>
</div>
<!-- <script src="//www.recaptcha.net/recaptcha/api.js?hl=zh-CN&render=explicit&onload=renderCaptcha" async defer></script> -->
</body>
</html>
