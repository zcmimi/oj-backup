<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>FSEQ - No Stories Any More! - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450189:V3wyVJz/U1/RVVL04EwMsX9R7lZ612GV1MrcM34ZQqE=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Have%20you%20ever%20wished%20to%20be%20given%20a%20direct%20problem%20statement%20in%20the%20contest%3F%20Do%20you%20hate%20the%20boring%20stories%20that%20problem%20setters%20write...starting%20from%20%5Cu201cjohn%20was%20going%20on%20a%20trip%5Cu201d%5Cu2026passing%20with%20%5Cu201cblablabla%5Cu201d%5Cu2026and%20ending%20with%20%5Cu201ckindly%20help%20John%20J%5Cu201d.%20We%20all%20know%20that%20there%20is%20no%20John%20so%20why%20wasting%20contestants%20time.%20As%20we%20were%20contestants%20and%20know%20that%20feeling%20very%20well%2C%20we%20decided%20to%20break%20that%20boring%20way%20and%20save%20your%20time%5Cu2026%5Cn%5CnGiven%20the%20following%20sequence%20details%3A%20%2A%2AF%280%29%20%3D%200%2C%20F%281%29%20%3D%201%2A%2A%20and%5Cn%5Cn%20%2A%2ASUM%20F%28i%29%20%5C%5C%5Bi%20from%200%20to%20n%5C%5C%5D%20%3D%20F%28n%2B2%29%20-%201%2A%2A%5Cn%5CnFor%20a%20given%20integer%20M%2C%20we%20will%20generate%20another%20infinite%20sequence%20defined%20as%3A%20%2A%2AT%28i%29%20%3D%20F%28i%29%20%25%20M%2A%2A.%20We%20noticed%20that%20this%20is%20a%20repeating%20sequence%3A%20it%20repeats%20itself%20after%20some%20%2A%2AC%2A%2A%20iterations%2C%20where%20C%20is%20the%20cycle%20length%20for%20sequence%20T.%20Let%5Cu2019s%20define%20%2A%2AH%28j%29%2C%2A%2A%20as%20the%20finite%2C%20_most%20left_%2C%20strictly%20increasing%20%2A%2Asub%2A%2A-sequence%20starting%20at%20position%20%2A%2Aj%2A%2A%20in%20the%20sequence%20T%2C%20_preserving_%20the%20elements%20order%20of%20T.%20In%20other%20words%3A%5Cn%5Cn1%5C%5C%29%20%2A%2AH%280%29%2C%2A%2A%20the%20first%20element%20in%20H%2C%20is%20%2A%2AT%28j%29%2A%2A%5Cn%5Cn2%5C%5C%29%20%2A%2AH%281%29%2A%2A%20%3D%20T%28k1%29%2C%20where%20T%28k1%29%20is%20the%20first%20element%20%3E%20T%28j%29%20where%20j%20%3C%20k1%5Cn%5Cn3%5C%5C%29%20%2A%2AH%282%29%2A%2A%20%3D%20T%28k2%29%2C%20where%20T%28k2%29%20is%20the%20first%20element%20%3E%20T%28k1%29%20where%20k1%20%3C%20k2%2C%20and%20so%20on%5Cn%5CnFor%20example%2C%20if%20M%20%3D%204%2C%20then%20T%20%3D%20%5C%5C%5B%2A%2A0%201%201%202%203%201%2A%2A%200%201%201%202%203%201%200%201%201%202%20%5Cu2026%5C%5C%5D.%20Furthermore%3A%20H%280%29%20%3D%20%5C%5C%5B0%201%202%203%5C%5C%5D%2C%20H%283%29%20%3D%20%5C%5C%5B2%203%5C%5C%5D%2C%20and%20H%285%29%20%3D%20%5C%5C%5B1%202%203%5C%5C%5D.%20%2A%2ALength%28%20H%28j%29%20%29%2A%2A%20is%20the%20number%20of%20elements%20in%20that%20sequence%2C%20e.g.%20%2A%2ALength%28H%285%29%29%2A%2A%20%3D%203.%20The%20%2A%2ACycle%20length%28C%29%2A%2A%20for%20sequence%20T%20is%206.%5Cn%5CnFor%20a%20given%20M%2C%20you%20will%20calculate%20its%20C%2C%20and%20%2A%2Aevaluate%2A%2A%20the%20following%20%2A%2Asummation%2A%2A%3A%5Cn%5Cn%20%2A%2ASUM%20Length%28%20H%28k%29%20%29%20%5C%5C%5Bk%20%3D%200%20to%20C-1%5C%5C%5D%2A%2A%5Cn%5Cn%2A%2AInput%20Specification%3A%2A%2A%5Cn%5CnThe%20first%20line%20of%20input%20contains%20an%20integer%20T%20that%20represents%20the%20number%20of%20test%20cases%2C%20then%20follow%20T%20lines%20each%20contains%20an%20integer%201%20_given_%20test%20case%2C%20sequence%20T%20repeats%20after%20maximum%20C%20iterations%20where%20C%5Cn%5Cn%2A%2AOutput%20Specification%3A%2A%2A%5Cn%5CnFor%20each%20test%20case%2C%20output%20a%20single%20line%20of%20output%20in%20the%20form%20%2A%2A%5Cu201cCase%20K%3A%20summation%5Cu201d%2A%2A%20where%20K%20is%20the%20number%20of%20the%20test%20case%20and%20summation%20is%20as%20defined%20in%20the%20problem%20statement.%5Cn%5Cn%2A%2ASample%20input%3A%2A%2A%5Cn%5Cn1%5Cn%5Cn4%5Cn%5Cn%2A%2ASample%20Output%3A%2A%2A%5Cn%5CnCase%201%3A%2016%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1489%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F9975%22%2C%22id%22%3A%229975%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP9975%22%2C%22title%22%3A%22FSEQ%20-%20No%20Stories%20Any%20More%21%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22FSEQ%20-%20No%20Stories%20Any%20More%21%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>FSEQ - No Stories Any More!</h1>
<h2>题目描述</h2>
<div>Have you ever wished to be given a direct problem statement in the contest? Do you hate the boring stories that problem setters write...starting from “john was going on a trip”…passing with “blablabla”…and ending with “kindly help John J”. We all know that there is no John so why wasting contestants time. As we were contestants and know that feeling very well, we decided to break that boring way and save your time…
Given the following sequence details: **F(0) = 0, F(1) = 1** and
**SUM F(i) \[i from 0 to n\] = F(n+2) - 1**
For a given integer M, we will generate another infinite sequence defined as: **T(i) = F(i) % M**. We noticed that this is a repeating sequence: it repeats itself after some **C** iterations, where C is the cycle length for sequence T. Let’s define **H(j),** as the finite, _most left_, strictly increasing **sub**-sequence starting at position **j** in the sequence T, _preserving_ the elements order of T. In other words:
1\) **H(0),** the first element in H, is **T(j)**
2\) **H(1)** = T(k1), where T(k1) is the first element > T(j) where j < k1
3\) **H(2)** = T(k2), where T(k2) is the first element > T(k1) where k1 < k2, and so on
For example, if M = 4, then T = \[**0 1 1 2 3 1** 0 1 1 2 3 1 0 1 1 2 …\]. Furthermore: H(0) = \[0 1 2 3\], H(3) = \[2 3\], and H(5) = \[1 2 3\]. **Length( H(j) )** is the number of elements in that sequence, e.g. **Length(H(5))** = 3. The **Cycle length(C)** for sequence T is 6.
For a given M, you will calculate its C, and **evaluate** the following **summation**:
**SUM Length( H(k) ) \[k = 0 to C-1\]**
**Input Specification:**
The first line of input contains an integer T that represents the number of test cases, then follow T lines each contains an integer 1 _given_ test case, sequence T repeats after maximum C iterations where C
**Output Specification:**
For each test case, output a single line of output in the form **“Case K: summation”** where K is the number of the test case and summation is as defined in the problem statement.
**Sample input:**
1
4
**Sample Output:**
Case 1: 16</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
