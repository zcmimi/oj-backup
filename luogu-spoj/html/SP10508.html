<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>BTTNS - Buttons - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450224:fDTY5nFZQTaSVnUrT0OBm0HEXLwcWyk+UPHUYJYcaDk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20%20%5CnLuis%20has%20a%20new%20toy%2C%20is%20a%20weird%20board%20with%20NxM%20cells.%20The%20cells%20can%20be%20white%20or%20%20%5Cnblack.%20%20%5CnEach%20cell%20has%20a%20button%20inside%2C%20when%20you%20press%20a%20button%20every%20cell%20with%20Manhattan%20%20%5Cndistance%20equal%20or%20less%20than%20K%20to%20the%20cell%20with%20the%20button%20pressed%20change%20of%20color%20%20%5Cn%28%20white%20to%20black%2C%20or%20black%20to%20white%20%29.%20%20%5CnAt%20the%20beginning%2C%20every%20cell%20is%20white%20but%20somebody%20pressed%20some%20buttons%20and%20now%20%20%5Cnthe%20board%20has%20some%20black%20cells.%20%20%5CnHelp%20Luis%20to%20find%20how%20many%20buttons%20were%20pressed.%20%20%5CnYou%20can%20assume%20that%20no%20button%20will%20be%20pressed%20two%20or%20more%20times.%20%20%5CnThere%20will%20be%20always%20only%20one%20configuration%20of%20buttons%20pressed%20that%20generate%20the%20%20%5Cnfinal%20board.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20an%20integer%20t%3C%3D10%2C%20the%20number%20of%20test%20cases.%20It%20is%20%20%5Cnfollowed%20by%20t%20test%20cases%2C%20each%20consisting%20of%20N%2B1%20lines.%20The%20first%20line%20of%20each%20case%20%20%5Cncontains%20three%20integers%20N%2CM%2CK%20separated%20by%20space%20%281%3C%3DN%2CM%3C%3D20%20%2C%200%3C%3DK%3C%3D20%29.%20%20%5CnThe%20next%20N%20lines%20contains%20M%20integers%2C%20each%20integer%20can%20be%200%20or%201%2C%20the%20final%20state%20of%20%20%5Cneach%20cell.%20%28%200%20is%20white%2C%201%20is%20black%20%29%22%2C%22outputFormat%22%3A%22For%20each%20case%2C%20output%20a%20single%20line%20consisting%20of%20the%20number%20of%20buttons%20pressed.%22%2C%22samples%22%3A%5B%5B%222%5C%5Cn2%202%200%5C%5Cn1%200%5C%5Cn0%201%5C%5Cn2%202%201%5C%5Cn1%201%5C%5Cn1%201%22%2C%222%5C%5Cn4%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B152%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F10508%22%2C%22id%22%3A%2210508%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP10508%22%2C%22title%22%3A%22BTTNS%20-%20Buttons%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22BTTNS%20-%20Buttons%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>BTTNS - Buttons</h1>
<h2>题目描述</h2>
<div>
Luis has a new toy, is a weird board with NxM cells. The cells can be white or
black.
Each cell has a button inside, when you press a button every cell with Manhattan
distance equal or less than K to the cell with the button pressed change of color
( white to black, or black to white ).
At the beginning, every cell is white but somebody pressed some buttons and now
the board has some black cells.
Help Luis to find how many buttons were pressed.
You can assume that no button will be pressed two or more times.
There will be always only one configuration of buttons pressed that generate the
final board.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains an integer t<=10, the number of test cases. It is
followed by t test cases, each consisting of N+1 lines. The first line of each case
contains three integers N,M,K separated by space (1<=N,M<=20 , 0<=K<=20).
The next N lines contains M integers, each integer can be 0 or 1, the final state of
each cell. ( 0 is white, 1 is black )</div>
<h3>输出格式</h3>
<br />
<div>For each case, output a single line consisting of the number of buttons pressed.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2\n2 2 0\n1 0\n0 1\n2 2 1\n1 1\n1 1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2\n4</code></pre>
</article>
</div>
</div>
</body>
</html>
