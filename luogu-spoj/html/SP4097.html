<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MTRAIN - Locomotive - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449854:A3Rt6u0MN1sJJFxGzXLf/q7ka3y7bIk2L973gCLtDwk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BEnglish%5D%28%5C%2Fproblems%5C%2FMTRAIN%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FMTRAIN%5C%2Fvn%5C%2F%29%20Mirko%20and%20Slavko%20have%20finally%20gotten%20jobs%20as%20locomotive%20drivers%20on%20the%20Croatian%20Railroad.%20As%20early%20as%20the%20first%20day%20of%20work%2C%20they%20got%20an%20assignment.%20Each%20of%20them%20was%20to%20take%20their%20locomotive%20from%20a%20certain%20town%20and%20visit%20as%20many%20towns%20as%20possible.%5Cn%5Cn%20Mirko%20is%20an%20experienced%20driver%2C%20so%20he%20is%20afraid%20of%20nothing.%20This%20was%2C%20however%2C%20Slavko%5Cu2019s%20first%20train%20ride%20and%20he%20can%20do%20absolutely%20nothing%20by%20himself.%20Luckily%2C%20all%20the%20locomotives%20have%20radios%2C%20so%20Slavko%20can%20drive%20the%20locomotive%20normally%20as%20long%20as%20he%20is%20within%20the%20range%20of%20Mirko%5Cu2019s%20radio%20to%20give%20him%20instructions.%5Cn%5Cn%20N%20towns%20have%20been%20given%20in%20a%20coordinate%20plane.%20Some%20of%20the%20towns%20are%20connected%20by%20railroad.%20Mirko%20and%20Slavku%20start%20their%20tour%20in%20different%20towns%2C%20and%20so%20that%20they%20are%20at%20most%20D%20kilometers%20away%20from%20each%20other.%5Cn%5Cn%20The%20locomotives%20can%20use%20all%20railroads%2C%20at%20any%20speed%20and%20in%20any%20direction.%20Locomotives%20can%20switch%20railroad%20tracks%20in%20towns%20only.%20Mirko%20and%20Slavko%20may%20be%20at%20most%20D%20kilometers%20away%20from%20each%20other%20at%20any%20moment%20in%20time.%5Cn%5Cn%20Write%20a%20program%20that%20will%20determine%20all%20possible%20towns%20that%20Slavko%20can%20visit%2C%20as%20was%20described%20above.%22%2C%22inputFormat%22%3A%22%20The%20first%20line%20of%20the%20input%20file%20contains%20the%20numbers%20N%20and%20P%2C%20and%20a%20real%20number%20D%2C%202%20%5Cu2264%20N%20%5Cu2264%20100%2C%201%20%5Cu2264%20P%20%5Cu2264%203000%2C%201%20%5Cu2264%20D%20%5Cu2264%2010%2C000.%20The%20number%20N%20is%20the%20number%20of%20towns%2C%20the%20number%20P%20is%20the%20number%20of%20railroads%2C%20and%20D%20is%20the%20range%20of%20the%20radio%20in%20kilometers%20%28a%20decimal%20number%20two%20digits%20precise%29.%20The%20towns%20are%20numbered%201%20to%20N.%20Each%20of%20the%20following%20N%20lines%20contains%20data%20describing%20one%20town%2C%20i.e.%20two%20integers%2C%20X%20and%20Y%2C%20-5000%20%5Cu2264%20X%2C%20Y%20%5Cu2264%205000%2C%20representing%20the%20town%5Cu2019s%20coordinates.%5Cn%5Cn%20Each%20of%20the%20following%20P%20lines%20contains%20data%20describing%20one%20railroad%20track%2C%20i.e.%20two%20integers%20G1%20and%20G2%2C%20saying%20there%20is%20a%20railroad%20track%20connecting%20G1%20i%20G2.%5Cn%5Cn%20The%20next%20line%20contains%20the%20starting%20positions%20of%20Mirko%20and%20Slavku%2C%20the%20integers%20U%20and%20V.%20Mirko%20starts%20from%20town%20U%2C%20Slavko%20from%20town%20V.%20U%20and%20V%20will%20represent%20two%20towns%20separated%20at%20most%20D%20kilometers%20in%20distance.%22%2C%22outputFormat%22%3A%22%20The%20output%20file%20should%20contain%20the%20numbers%20of%20all%20the%20towns%20Slavko%20can%20reach.%20These%20numbers%20should%20be%20sorted%20in%20increasing%20order%2C%20each%20of%20them%20written%20on%20a%20separate%20line.%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F4097%22%2C%22id%22%3A%224097%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP4097%22%2C%22title%22%3A%22MTRAIN%20-%20Locomotive%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MTRAIN%20-%20Locomotive%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MTRAIN - Locomotive</h1>
<h2>题目描述</h2>
<div>[English](/problems/MTRAIN/en/) [Vietnamese](/problems/MTRAIN/vn/) Mirko and Slavko have finally gotten jobs as locomotive drivers on the Croatian Railroad. As early as the first day of work, they got an assignment. Each of them was to take their locomotive from a certain town and visit as many towns as possible.
Mirko is an experienced driver, so he is afraid of nothing. This was, however, Slavko’s first train ride and he can do absolutely nothing by himself. Luckily, all the locomotives have radios, so Slavko can drive the locomotive normally as long as he is within the range of Mirko’s radio to give him instructions.
N towns have been given in a coordinate plane. Some of the towns are connected by railroad. Mirko and Slavku start their tour in different towns, and so that they are at most D kilometers away from each other.
The locomotives can use all railroads, at any speed and in any direction. Locomotives can switch railroad tracks in towns only. Mirko and Slavko may be at most D kilometers away from each other at any moment in time.
Write a program that will determine all possible towns that Slavko can visit, as was described above.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> The first line of the input file contains the numbers N and P, and a real number D, 2 ≤ N ≤ 100, 1 ≤ P ≤ 3000, 1 ≤ D ≤ 10,000. The number N is the number of towns, the number P is the number of railroads, and D is the range of the radio in kilometers (a decimal number two digits precise). The towns are numbered 1 to N. Each of the following N lines contains data describing one town, i.e. two integers, X and Y, -5000 ≤ X, Y ≤ 5000, representing the town’s coordinates.
Each of the following P lines contains data describing one railroad track, i.e. two integers G1 and G2, saying there is a railroad track connecting G1 i G2.
The next line contains the starting positions of Mirko and Slavku, the integers U and V. Mirko starts from town U, Slavko from town V. U and V will represent two towns separated at most D kilometers in distance.</div>
<h3>输出格式</h3>
<br />
<div> The output file should contain the numbers of all the towns Slavko can reach. These numbers should be sorted in increasing order, each of them written on a separate line.</div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
