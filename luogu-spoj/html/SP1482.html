<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>PT07F - A short vacation in Disneyland - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449655:7cjFJ5OixlmINomDV6BxlpRq+U3S4uelTFu7KLyQ4jk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20After%20a%20lot%20of%20exams%20at%20school%2C%20Amber%20and%20his%20friends%20Ahyangyi%2C%20Dragon%20have%20a%20short%20vacation%20in%20Hong%20Kong%20Disneyland.%20Many%20interesting%20places%20they%20want%20to%20visit%20there%3A%20resort%2C%20castle%2C...%20.%20In%20each%20place%20and%20between%20them%2C%20there%20are%20special%20bidirectional%20rails%2C%20so%20that%20the%20visitors%20can%20drive%20a%20small%20special%20car%2C%20go%20around%20and%20have%20a%20sightseeing%20tour.%20This%20rail%20system%20is%20quite%20optimal%20it%20has%20tree%20shape%20%21%20Each%20time%2C%20you%20start%20a%20new%20route%20%28or%20you%20can%20call%20it%20%5C%22path%5C%22%29%20with%20a%20car%2C%20you%20must%20purchase%20a%20new%20ticket.%5Cn%5Cn%20Amber%20and%20his%20friends%20surely%20want%20to%20visit%20all%20places%2C%20and%20each%20place%20exactly%20once%2C%20so%20bored%20to%20visit%20one%20place%20many%20times.%20But%20the%20trouble%20is%20they%20don%27t%20carry%20much%20money.%20So%20Amber%20thinks%20about%20a%20good%20way%20to%20purchase%20as%20small%20number%20of%20tickets%20as%20possible%20%28i.e.%20minimal%20number%20of%20routes%29.%20We%20don%27t%20care%20how%20they%20can%20switch%20cars%20during%20their%20trip.%5Cn%5Cn%20Now%20you%27re%20given%20maps%20of%20the%20Disneyland%2C%20please%20help%20them%20to%20find%20an%20optimal%20solution.%5Cn%5Cn%20Take%20a%20look%20at%20the%20figure%20below%3A%20%20%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FSP1482%5C%2F9555e10010893f90c40867b7b02c7a4f7d4f404a.png%29%5Cn%5Cn%20There%20are%20many%20optimal%20solutions%20here%20and%20Amber%20must%20purchase%20at%20least%203%20tickets%2C%20for%203%20disjoint%20routes.%20Two%20possible%20solutions%20are%3A%20%20%5Cn%2A%2ASolution%201%3A%2A%2A%20%20%20%5Cn%201-st%20route%3A%20they%20visit%201%202%203%20%20%5Cn%202-nd%20route%3A%20they%20visit%204%20%20%5Cn%203-rd%20route%3A%20they%20visit%205%206%207%20%20%5Cn%2A%2ASolution%202%3A%2A%2A%20%20%20%5Cn%201-st%20route%3A%20they%20visit%201%202%204%206%205%20%20%5Cn%202-nd%20route%3A%20they%20visit%203%20%20%5Cn%203-rd%20route%3A%20they%20visit%207%22%2C%22inputFormat%22%3A%22%20There%20may%20be%20many%20maps%20in%20one%20input%20file.%20The%20first%20line%20of%20file%20is%20number%20of%20maps%20_T_%20%280%20%3C%20T%20%3C%3D%2010%29.%20The%20following%20line%20is%20blank.%20Then%2C%20there%20are%20the%20descriptions%20of%20_T_%20maps.%5Cn%5Cn%20For%20each%20map%2C%20the%20first%20line%20contains%20one%20integer%20_N_%20---%20number%20of%20places%20in%20the%20Disneyland%20%280%20%3C%20N%20%3C%3D%2010000%29.%20We%20number%20places%20from%201%20to%20N.%20Next%20N-1%20lines%20contain%20N-1%20rails%20between%20places%20---%20Each%20line%20contains%20a%20pair%20%28u%2C%20v%29%20means%20there%20is%20a%20rail%20between%20place%20u%20and%20place%20v%20%281%20%3C%3D%20u%2Cv%20%3C%3D%20N%29.%20%20%5Cn%20There%20is%20a%20blank%20line%20after%20each%20description.%22%2C%22outputFormat%22%3A%22%20For%20each%20map%2C%20the%20first%20line%2C%20write%20minimal%20number%20of%20routes%20_K_.%20Next%20_K_%20lines%2C%20show%20out%20the%20routes%20in%20your%20solution%2C%20each%20has%20form%20u%5C%5C%5B1%5C%5C%5D%20u%5C%5C%5B2%5C%5C%5D...u%5C%5C%5Bm%5C%5C%5D%2C%20means%20the%20route%20starts%20at%20place%20u%5C%5C%5B1%5C%5C%5D%20then%20visits%20place%20u%5C%5C%5B2%5C%5C%5D%2C...%2C%20ends%20at%20place%20u%5C%5C%5Bm%5C%5C%5D.%20So%20between%202%20consecutive%20places%20in%20each%20route%20must%20have%20a%20rail.%20If%20there%20are%20many%20solutions%2C%20any%20of%20them%20will%20be%20accepted.%20%20%5Cn%20There%20is%20no%20blank%20line%20after%20each%20case.%22%2C%22samples%22%3A%5B%5B%221%5Cr%5Cn%5Cr%5Cn7%5Cr%5Cn1%202%5Cr%5Cn2%203%5Cr%5Cn2%204%5Cr%5Cn4%206%5Cr%5Cn5%206%5Cr%5Cn6%207%22%2C%223%5Cr%5Cn1%202%203%5Cr%5Cn4%5Cr%5Cn5%206%207%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B159%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F1482%22%2C%22id%22%3A%221482%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A2%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP1482%22%2C%22title%22%3A%22PT07F%20-%20A%20short%20vacation%20in%20Disneyland%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22PT07F%20-%20A%20short%20vacation%20in%20Disneyland%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>PT07F - A short vacation in Disneyland</h1>
<h2>题目描述</h2>
<div> After a lot of exams at school, Amber and his friends Ahyangyi, Dragon have a short vacation in Hong Kong Disneyland. Many interesting places they want to visit there: resort, castle,... . In each place and between them, there are special bidirectional rails, so that the visitors can drive a small special car, go around and have a sightseeing tour. This rail system is quite optimal it has tree shape ! Each time, you start a new route (or you can call it "path") with a car, you must purchase a new ticket.
Amber and his friends surely want to visit all places, and each place exactly once, so bored to visit one place many times. But the trouble is they don't carry much money. So Amber thinks about a good way to purchase as small number of tickets as possible (i.e. minimal number of routes). We don't care how they can switch cars during their trip.
Now you're given maps of the Disneyland, please help them to find an optimal solution.
Take a look at the figure below:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/SP1482/9555e10010893f90c40867b7b02c7a4f7d4f404a.png)
There are many optimal solutions here and Amber must purchase at least 3 tickets, for 3 disjoint routes. Two possible solutions are:
**Solution 1:**
1-st route: they visit 1 2 3
2-nd route: they visit 4
3-rd route: they visit 5 6 7
**Solution 2:**
1-st route: they visit 1 2 4 6 5
2-nd route: they visit 3
3-rd route: they visit 7</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div> There may be many maps in one input file. The first line of file is number of maps _T_ (0 < T <= 10). The following line is blank. Then, there are the descriptions of _T_ maps.
For each map, the first line contains one integer _N_ --- number of places in the Disneyland (0 < N <= 10000). We number places from 1 to N. Next N-1 lines contain N-1 rails between places --- Each line contains a pair (u, v) means there is a rail between place u and place v (1 <= u,v <= N).
There is a blank line after each description.</div>
<h3>输出格式</h3>
<br />
<div> For each map, the first line, write minimal number of routes _K_. Next _K_ lines, show out the routes in your solution, each has form u\[1\] u\[2\]...u\[m\], means the route starts at place u\[1\] then visits place u\[2\],..., ends at place u\[m\]. So between 2 consecutive places in each route must have a rail. If there are many solutions, any of them will be accepted.
There is no blank line after each case.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1

7
1 2
2 3
2 4
4 6
5 6
6 7</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
1 2 3
4
5 6 7</code></pre>
</article>
</div>
</div>
</body>
</html>
