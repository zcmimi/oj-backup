<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>LCPC12B - Johnny plays with connect 4 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450314:WusfmqHGDoKqKmOfhQciU8oRxWH/4WqZiex8PJy7wQk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20%20%5CnDescription%5Cn%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%5Cn%5Cn_%5C%22Connect%20Four_%20_is%20a%20two-player%20game%20in%20which%20the%20players%20first%20choose%20a%20color%20and%20then%20take%20turns%20dropping%20colored%20discs%20from%20the%20top%20into%20a%20seven-column%2C%20six-row%20grid.%20The%20pieces%20fall%20straight%20down%2C%20occupying%20the%20next%20available%20space%20within%20the%20column.%20The%20objective%20of%20the%20game%20is%20to%20connect%20four%20of%20one%27s%20own%20discs%20of%20the%20same%20color%20next%20to%20each%20other%20vertically%2C%20horizontally%2C%20or%20diagonally%20before%20his%20opponent.%5C%22_%20_%5Cu2013%20Wikipedia._%5Cn%5CnJohnny%20plays%20with%20the%20connect-four%20board%2C%20Johnny%20has%20N%20discs%20and%20each%20disc%20has%20a%20number%20on%20it.%20Johnny%20drops%20these%20discs%20in%20the%20board%20columns.%20as%20Johnny%20was%20nervous%20he%20closed%20the%20top%20of%20the%20board%20and%20rotated%20it%20with%20different%20angles%2C%20when%20he%20rotate%20the%20board%2090%20degree%2C%20all%20pieces%20slide%20over%20their%20rows%20till%20they%20hit%20the%20board%20boundary%20or%20touch%20another%20piece.%20You%20will%20be%20given%20the%20board%20configuration%20and%20those%20rotation%20angles.%20And%20you%20should%20write%20a%20program%20that%20calculates%20the%20new%20discs%5Cu2019%20positions.%5Cn%5Cn%20%20%20%5CnInput%20Format%5Cn------------%5Cn%5CnInput%20will%20start%20with%20%2A%2A_T_%2A%2A%20number%20of%20test%20cases.%20Followed%20by%20%2A%2A_T_%2A%2A%20test%20cases%20each%20test%20case%20starts%20with%20board%20dimensions%20%2A%2A_R_%2A%2A%20and%20%2A%2A_C_%2A%2A%20where%20%2A%2A_R_%2A%2A%20%281%20%3C%20%2A%2A_R_%2A%2A%20%3C%20100%29%20is%20number%20of%20rows%20and%20%2A%2A_C_%2A%2A%20%281%20%3C%20%2A%2A_C_%2A%2A%20%3C%20100%29%20is%20number%20of%20columns%2C%20and%20number%20of%20discs%20%2A%2A_N_%2A%2A%20%280%20%3C%3D%20%2A%2A_N_%2A%2A%20%3C%3D%20%2A%2A_R_%2A%2A%5C%5C%2A%2A%2A_C_%2A%2A%29.%20Then%20%2A%2A_N_%2A%2A%20lines%20follow%2C%20each%20contains%20two%20integers%3A%20%2A%2A_P_%2A%2A%20specifying%20the%20column%20number%20%280%20%3C%3D%20%2A%2A_P_%2A%2A%20%3C%20%2A%2A_C_%2A%2A%29%20and%20%2A%2A_Q_%2A%2A%20specifying%20the%20disc%20number%20%280%20%3C%3D%20%2A%2A_Q_%2A%2A%20%3C%3D%209%29.%20Then%20you%20will%20be%20given%20number%20of%20rotations%20%2A%2A_L_%2A%2A%20followed%20by%20%2A%2A_L_%2A%2A%20positive%20integers%20representing%20the%20rotation%20angles%2C%20all%20angles%20will%20be%20anti-clockwise%20in%20the%20main%20directions%20%2890%2C%20180%2C%20and%20270%29%20only.%5Cn%5Cn%20%20%20%5CnOutput%20Format%5Cn-------------%5Cn%5CnFor%20each%20test%20case%2C%20output%20the%20result%20using%20the%20following%20format%3A%5Cn%5Cn%2A%2A_k_%2A%2A%20%28the%20test%20case%20number%20starting%20at%201%29%20followed%20by%20a%20period%20%28on%20a%20line%20by%20itself%29%2C%20then%20the%20final%20configuration%20of%20the%20board.%20Each%20row%20on%20a%20line%20by%20itself%2C%20and%20each%20cell%20is%20either%20a%20%5C%22.%5C%22%20%28without%20quotes%29%20if%20the%20cell%20is%20an%20empty%20or%20a%20number%20representing%20a%20piece.%5Cn%5Cn%20%20%20%20%5CnSample%20Input%5Cn------------%5Cn%5Cn%20%20%20%20%20%5CnSample%20Output%5Cn-------------%5Cn%5Cn%20%204%5Cn%5Cn2%203%5Cn%5Cn2%5Cn%5Cn0%205%5Cn%5Cn2%209%5Cn%5Cn0%5Cn%5Cn2%203%5Cn%5Cn2%5Cn%5Cn0%205%5Cn%5Cn2%209%5Cn%5Cn1%2090%5Cn%5Cn2%203%5Cn%5Cn2%5Cn%5Cn0%205%5Cn%5Cn2%209%5Cn%5Cn1%20180%5Cn%5Cn2%203%5Cn%5Cn2%5Cn%5Cn0%205%5Cn%5Cn2%209%5Cn%5Cn2%2090%2090%5Cn%5Cn%20%201%5C%5C.%5Cn%5Cn...%5Cn%5Cn5.9%5Cn%5Cn2%5C%5C.%5Cn%5Cn..%5Cn%5Cn.9%5Cn%5Cn.5%5Cn%5Cn3%5C%5C.%5Cn%5Cn...%5Cn%5Cn9.5%5Cn%5Cn4%5C%5C.%5Cn%5Cn...%5Cn%5Cn.95%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F12397%22%2C%22id%22%3A%2212397%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP12397%22%2C%22title%22%3A%22LCPC12B%20-%20Johnny%20plays%20with%20connect%204%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22LCPC12B%20-%20Johnny%20plays%20with%20connect%204%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>LCPC12B - Johnny plays with connect 4</h1>
<h2>题目描述</h2>
<div>
Description
===========
_"Connect Four_ _is a two-player game in which the players first choose a color and then take turns dropping colored discs from the top into a seven-column, six-row grid. The pieces fall straight down, occupying the next available space within the column. The objective of the game is to connect four of one's own discs of the same color next to each other vertically, horizontally, or diagonally before his opponent."_ _– Wikipedia._
Johnny plays with the connect-four board, Johnny has N discs and each disc has a number on it. Johnny drops these discs in the board columns. as Johnny was nervous he closed the top of the board and rotated it with different angles, when he rotate the board 90 degree, all pieces slide over their rows till they hit the board boundary or touch another piece. You will be given the board configuration and those rotation angles. And you should write a program that calculates the new discs’ positions.
Input Format
------------
Input will start with **_T_** number of test cases. Followed by **_T_** test cases each test case starts with board dimensions **_R_** and **_C_** where **_R_** (1 < **_R_** < 100) is number of rows and **_C_** (1 < **_C_** < 100) is number of columns, and number of discs **_N_** (0 <= **_N_** <= **_R_**\***_C_**). Then **_N_** lines follow, each contains two integers: **_P_** specifying the column number (0 <= **_P_** < **_C_**) and **_Q_** specifying the disc number (0 <= **_Q_** <= 9). Then you will be given number of rotations **_L_** followed by **_L_** positive integers representing the rotation angles, all angles will be anti-clockwise in the main directions (90, 180, and 270) only.
Output Format
-------------
For each test case, output the result using the following format:
**_k_** (the test case number starting at 1) followed by a period (on a line by itself), then the final configuration of the board. Each row on a line by itself, and each cell is either a "." (without quotes) if the cell is an empty or a number representing a piece.
Sample Input
------------
Sample Output
-------------
4
2 3
2
0 5
2 9
0
2 3
2
0 5
2 9
1 90
2 3
2
0 5
2 9
1 180
2 3
2
0 5
2 9
2 90 90
1\.
...
5.9
2\.
..
.9
.5
3\.
...
9.5
4\.
...
.95</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
