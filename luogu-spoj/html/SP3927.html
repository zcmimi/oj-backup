<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>MPOLGRID - Polygon on the Grid - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449836:GrWe7pxRszR38JqFLtUN4S0vHCIEDKWgY9UF6o/5e2A=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5BEnglish%5D%28%5C%2Fproblems%5C%2FMPOLGRID%5C%2Fen%5C%2F%29%20%5BVietnamese%5D%28%5C%2Fproblems%5C%2FMPOLGRID%5C%2Fvn%5C%2F%29%20%60%60%60%5Cn%5CnThe%20ultimate%20Tantra%20is%20said%20to%20have%20been%20kept%20in%20the%20most%20distinguished%20%5Cntemple%20deep%20in%20the%20sacred%20forest%20somewhere%20in%20Japan.%20Paleographers%20%5Cnfinally%20identified%20its%20location%2C%20surprisingly%20a%20small%20temple%20in%20Hiyoshi%5Cn%2C%20after%20years%20of%20eager%20research.%20The%20temple%20has%20an%20underground%20secret%20%5Cnroom%20built%20with%20huge%20stones.%20This%20underground%20megalith%20is%20suspected%20to%20be%5Cnwhere%20the%20Tantra%20is%20enshrined.%5Cn%5CnThe%20room%20door%20is%2C%20however%2C%20securely%20locked.%20Legends%20tell%20that%20the%20key%20of%5Cnthe%20door%20lock%20was%20an%20integer%2C%20that%20only%20highest%20priests%20knew.%20As%20the%20sect%20%5Cnthat%20built%20the%20temple%20decayed%20down%2C%20it%20is%20impossible%20to%20know%20the%20integer%5Cnnow%2C%20and%20the%20Agency%20for%20Cultural%20Affairs%20bans%20breaking%20up%20the%20door.%20Fortunately%2C%5Cna%20figure%20of%20a%20number%20of%20rods%20that%20might%20be%20used%20as%20a%20clue%20to%20guess%20that%20secret%5Cnnumber%20is%20engraved%20on%20the%20door.%5Cn%5CnMany%20distinguished%20scholars%20have%20challenged%20the%20riddle%2C%20but%20no%20one%20could%5Cnhave%20ever%20succeeded%20in%20solving%20it%2C%20until%20recently%20a%20brilliant%20young%20%5Cncomputer%20scientist%20finally%20deciphered%20the%20puzzle.%20Lengths%20of%20the%20rods%20are%20%5Cnmultiples%20of%20a%20certain%20unit%20length.%20He%20found%20that%2C%20to%20find%20the%20secret%20%5Cnnumber%2C%20all%20the%20rods%20should%20be%20placed%20on%20a%20grid%20of%20the%20unit%20length%20to%20%5Cnmake%20one%20convex%20polygon.%20Both%20ends%20of%20each%20rod%20must%20be%20set%20on%20grid%20points.%5CnElementary%20mathematics%20tells%20that%20the%20polygon%27s%20area%20ought%20to%20be%20an%20%5Cninteger%20multiple%20of%20the%20square%20of%20the%20unit%20length.%20The%20area%20size%20of%20the%20%5Cnpolygon%20with%20the%20largest%20area%20is%20the%20secret%20number%20which%20is%20needed%20to%20%5Cnunlock%20the%20door.%5Cn%5CnFor%20example%2C%20if%20you%20have%20five%20rods%20whose%20lengths%20are%201%2C%202%2C%205%2C%205%2C%20and%205%2C%5Cnrespectively%2C%20you%20can%20make%20essentially%20only%20three%20kinds%20of%20polygons%2C%20%5Cnshown%20in%20Figure%201.%20Then%2C%20you%20know%20that%20the%20maximum%20area%20is%2019%20%5Cn%5Cn%3Ca%20href%3D%5C%22http%3A%5C%2F%5C%2Ftinypic.com%5C%22%20target%3D%5C%22_blank%5C%22%3E%3Cimg%20alt%3D%5C%22Image%20and%20video%20hosting%20by%20TinyPic%5C%22%20border%3D%5C%220%5C%22%20src%3D%5C%22http%3A%5C%2F%5C%2Fi44.tinypic.com%5C%2F238xg7.jpg%5C%22%3E%3C%5C%2Fimg%3E%3C%5C%2Fa%3E%5Cn%5CnConvex%20polygons%20consisting%20of%20five%20rods%20of%20lengths%201%2C%202%2C%205%2C%205%2C%20and%205%5Cn%5CnYour%20task%20is%20to%20write%20a%20program%20to%20find%20the%20maximum%20area%20of%20convex%20polygons%20%5Cnusing%20all%20the%20given%20rods%20whose%20ends%20are%20on%20grid%20points.%5Cn%60%60%60%22%2C%22inputFormat%22%3A%22%60%60%60%5Cn%5CnThe%20input%20consists%20of%20multiple%20datasets%2C%20followed%20by%20a%20line%20containing%20a%5Cnsingle%20zero%20which%20indicates%20the%20end%20of%20the%20input.%20The%20format%20of%20a%20dataset%20is%20as%20follows.%5Cn%5Cn%20%20%20%20n%5Cn%20%20%20%20r1%5Ctr2%5Ct%5Cu2026%5Ctrn%5Cn%5Cnn%20is%20an%20integer%20which%20means%20the%20number%20rods%20and%20satisfies%203%20%5Cu2264%20n%20%5Cu2264%206.%20%5Cnri%20is%20an%20integer%20which%20means%20the%20length%20of%20the%20i-th%20rod%20and%20satisfied%201%20%5Cu2264%20ri%20%5Cu2264%20300.%5Cn%5CnSample%20Input%5Cn3%5Cn3%204%205%5Cn5%5Cn1%202%205%205%205%5Cn6%5Cn195%20221%20255%20260%20265%20290%5Cn6%5Cn130%20145%20169%20185%20195%20265%5Cn3%5Cn1%201%202%5Cn6%5Cn3%203%203%203%203%203%5Cn0%5Cn%60%60%60%22%2C%22outputFormat%22%3A%22%60%60%60%5Cn%5CnFor%20each%20dataset%2C%20output%20a%20line%20containing%20an%20integer%20which%20is%20the%20area%20%5Cnof%20the%20largest%20convex%20polygon.%20When%20there%20are%20no%20possible%20convex%20polygons%20%5Cnfor%20a%20dataset%2C%20output%20%5Cu201c-1%5Cu201d.%20%5Cn%5CnSample%20output%5Cn6%5Cn19%5Cn158253%5Cn-1%5Cn-1%5Cn18%5Cn%60%60%60%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2397%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F3927%22%2C%22id%22%3A%223927%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP3927%22%2C%22title%22%3A%22MPOLGRID%20-%20Polygon%20on%20the%20Grid%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22MPOLGRID%20-%20Polygon%20on%20the%20Grid%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>MPOLGRID - Polygon on the Grid</h1>
<h2>题目描述</h2>
<div>[English](/problems/MPOLGRID/en/) [Vietnamese](/problems/MPOLGRID/vn/) ```
The ultimate Tantra is said to have been kept in the most distinguished
temple deep in the sacred forest somewhere in Japan. Paleographers
finally identified its location, surprisingly a small temple in Hiyoshi
, after years of eager research. The temple has an underground secret
room built with huge stones. This underground megalith is suspected to be
where the Tantra is enshrined.
The room door is, however, securely locked. Legends tell that the key of
the door lock was an integer, that only highest priests knew. As the sect
that built the temple decayed down, it is impossible to know the integer
now, and the Agency for Cultural Affairs bans breaking up the door. Fortunately,
a figure of a number of rods that might be used as a clue to guess that secret
number is engraved on the door.
Many distinguished scholars have challenged the riddle, but no one could
have ever succeeded in solving it, until recently a brilliant young
computer scientist finally deciphered the puzzle. Lengths of the rods are
multiples of a certain unit length. He found that, to find the secret
number, all the rods should be placed on a grid of the unit length to
make one convex polygon. Both ends of each rod must be set on grid points.
Elementary mathematics tells that the polygon's area ought to be an
integer multiple of the square of the unit length. The area size of the
polygon with the largest area is the secret number which is needed to
unlock the door.
For example, if you have five rods whose lengths are 1, 2, 5, 5, and 5,
respectively, you can make essentially only three kinds of polygons,
shown in Figure 1. Then, you know that the maximum area is 19
<a href="http://tinypic.com" target="_blank"><img alt="Image and video hosting by TinyPic" border="0" src="http://i44.tinypic.com/238xg7.jpg"></img></a>
Convex polygons consisting of five rods of lengths 1, 2, 5, 5, and 5
Your task is to write a program to find the maximum area of convex polygons
using all the given rods whose ends are on grid points.
```</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>```
The input consists of multiple datasets, followed by a line containing a
single zero which indicates the end of the input. The format of a dataset is as follows.
n
r1 r2 … rn
n is an integer which means the number rods and satisfies 3 ≤ n ≤ 6.
ri is an integer which means the length of the i-th rod and satisfied 1 ≤ ri ≤ 300.
Sample Input
3
3 4 5
5
1 2 5 5 5
6
195 221 255 260 265 290
6
130 145 169 185 195 265
3
1 1 2
6
3 3 3 3 3 3
0
```</div>
<h3>输出格式</h3>
<br />
<div>```
For each dataset, output a line containing an integer which is the area
of the largest convex polygon. When there are no possible convex polygons
for a dataset, output “-1”.
Sample output
6
19
158253
-1
-1
18
```</div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
