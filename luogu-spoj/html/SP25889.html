<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>DRWLNS - Drawing Lines - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450631:CVijuY6lVgg2bmsP8sy7hglXcuXhqwypB3xI+K/UxZY=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%60%60%60%5CnJohn%20is%20a%20bit%20upset%20now.%20Today%20was%20his%20chemistry%20central%20viva%20and%20it%20did%20not%20go%20very%20well.%20So%20to%20cheer%20up%20he%20bought%20a%20notebook%2C%20a%20pencil%20and%20an%20eraser.%5CnIn%20the%20note%20book%20there%20are%20N%20points%20drawn%20in%20a%20row.%20The%20points%20are%20numbered%20from%201%20to%20N%20serially.%5CnNow%2C%20John%20decided%20to%20do%20a%20strange%20thing%20with%20those%20points.%5CnAt%20each%20moment%2C%20John%20puts%20his%20pencil%20or%20eraser%20at%20a%20point%20A%20and%20drags%20it%20to%20point%20B.%20As%20a%20result%2C%20some%20line%20segments%20may%20be%20created.%5CnAnd%20then%2C%20Sometimes%20he%20stops%20and%20thinks%20of%20a%20point%20C%20and%20tries%20to%20find%20out%20if%20point%20C%20is%20on%20a%20line%20segment%20or%20not.%5CnYou%20have%20to%20solve%20a%20similar%20problem.%5Cn%5Cu00a0%5CnINPUT%3A%5CnFirst%20line%20of%20the%20input%20will%20contain%20two%20integers%20N%20%281%3C%3Dn%3C%3D109%29%20and%20M%20%281%3C%3DM%3C%3D105%29%20where%20N%20denotes%20number%20of%20points%20and%20M%20denotes%20number%20of%20queries.%5CnThen%20M%20line%20follows.%20Each%20line%20contains%20a%20query.%5CnEach%20query%20will%20be%20one%20of%20the%20following%20forms%3A%5Cn0%20A%20B%3A%20which%20means%20an%20eraser%20has%20been%20dragged%20from%20point%20A%20to%20point%20B.%5Cn1%20A%20B%3A%5Cu00a0which%20means%20a%20pencil%20has%20been%20dragged%20from%20point%20A%20to%20point%20B.%5Cn2%20C%3A%5Cu00a0which%20means%20you%20are%20asked%20to%20answer%20the%20state%20of%20point%20C.%20There%20will%20be%20at%20least%20one%20query%20of%20this%20type.%5Cn%28It%20is%20guaranteed%20that%20A%3C%3DB%20and%201%3C%3DA%2C%20B%2C%20C%3C%3DN%29%5CnOUTPUT%3A%5CnFor%20each%20query%20of%20the%20form%5Cu00a0%5Cu201c2%20C%5Cu201d%2C%5Cu00a0print%20a%20single%20line.If%20point%20C%20is%5Cu00a0NOT%5Cu00a0on%20any%20line%20segment%20then%20print%20-1.%5CnOtherwise%2C%20print%20the%20start%20and%20end%20point%20of%20the%20segment.%5CnSee%20sample%20input%5C%2F%20sample%20output%20and%20explanation%20for%20details.%5Cn%5Cn%5Cn%5Cn%5CnSample%20%20%20Input%5Cn%5Cn%5CnSample%20%20%20Output%5Cn%5Cn%5Cn%5Cn%5Cn25%2014%5Cn2%2010%5Cn1%2020%2025%5Cn1%209%2013%5Cn2%2012%5Cn2%207%5Cn1%2011%2021%5Cn2%2015%5Cn0%2017%2020%5Cn0%2022%2025%5Cn2%2021%5Cn2%205%5Cn1%201%208%5Cn2%2012%5Cn2%204%5Cn%5Cn%5Cn-1%5Cn9%2013%5Cn-1%5Cn9%2025%5Cn21%2021%5Cn-1%5Cn9%2016%5Cn1%208%5Cn%5Cn%5Cn%5Cn%5Cn%5Cu00a0%5CnExplanation%3A%5CnIn%20the%201st%5Cu00a0query%2C%20there%20are%20no%20line%20segments.%20So%20point%2010%20is%20not%20on%20any%20segment.%5CnAfter%202nd%5Cu00a0query%2C%20there%20is%201%20line%20segment%3A%20%5B20%2C%2025%5D.%5CnAfter%203rd%5Cu00a0query%2C%20there%20are%202%20line%20segments%3A%5Cu00a0%20%5B9%2C%2013%5D%2C%20%5B20%2C%2025%5D.%5CnIn%20the%204th%5Cu00a0query%2C%20point%2012%20is%20on%20%5B9%2C%2013%5D%20segment.%5CnIn%20the%205th%5Cu00a0query%2C%20point%207%20is%20not%20on%20any%20segment.%5CnAfter%206th%5Cu00a0query%2C%20there%20is%201%20line%20segment%20%5B9%2C%2025%5D.%20%28%5B9%2C%2013%5D%2C%20%5B11%2C%2021%5D%20and%20%5B20%2C%2025%5D%20segments%20will%20merge%20into%20only%201%20segment%29.%5CnIn%20the%207th%5Cu00a0query%2C%20point%2015%20is%20on%20%5B9%2C%2025%5D%20segment.%5CnAfter%209th%5Cu00a0query%20there%20are%202%20segments%3A%20%5B9%2C%2016%5D%20and%20%5B21%2C%2021%5D.%5CnIn%20the%2010th%5Cu00a0query%2C%20point%2021%20is%20on%20%5B21%2C%2021%5D%20segment.%5CnIn%20the%2011th%5Cu00a0query%2C%20point%205%20is%20not%20on%20any%20segment.%5CnAfter%2012th%5Cu00a0query%20there%20are%203%20segments%3A%20%5B1%2C8%5D%2C%5B9%2C%2016%5D%20and%20%5B21%2C%2021%5D.%5CnIn%20the%2013th%5Cu00a0query%2C%20point%2013%20is%20on%20%5B9%2C%2016%5D%20segment.%5CnIn%20the%2014th%5Cu00a0query%2C%20point%204%20is%20on%20%5B1%2C%208%5D%20segment.%5Cn%5Cu00a0%5Cn%60%60%60%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F25889%22%2C%22id%22%3A%2225889%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP25889%22%2C%22title%22%3A%22DRWLNS%20-%20Drawing%20Lines%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22DRWLNS%20-%20Drawing%20Lines%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>DRWLNS - Drawing Lines</h1>
<h2>题目描述</h2>
<div>```
John is a bit upset now. Today was his chemistry central viva and it did not go very well. So to cheer up he bought a notebook, a pencil and an eraser.
In the note book there are N points drawn in a row. The points are numbered from 1 to N serially.
Now, John decided to do a strange thing with those points.
At each moment, John puts his pencil or eraser at a point A and drags it to point B. As a result, some line segments may be created.
And then, Sometimes he stops and thinks of a point C and tries to find out if point C is on a line segment or not.
You have to solve a similar problem.
 
INPUT:
First line of the input will contain two integers N (1<=n<=109) and M (1<=M<=105) where N denotes number of points and M denotes number of queries.
Then M line follows. Each line contains a query.
Each query will be one of the following forms:
0 A B: which means an eraser has been dragged from point A to point B.
1 A B: which means a pencil has been dragged from point A to point B.
2 C: which means you are asked to answer the state of point C. There will be at least one query of this type.
(It is guaranteed that A<=B and 1<=A, B, C<=N)
OUTPUT:
For each query of the form “2 C”, print a single line.If point C is NOT on any line segment then print -1.
Otherwise, print the start and end point of the segment.
See sample input/ sample output and explanation for details.
Sample Input
Sample Output
25 14
2 10
1 20 25
1 9 13
2 12
2 7
1 11 21
2 15
0 17 20
0 22 25
2 21
2 5
1 1 8
2 12
2 4
-1
9 13
-1
9 25
21 21
-1
9 16
1 8
 
Explanation:
In the 1st query, there are no line segments. So point 10 is not on any segment.
After 2nd query, there is 1 line segment: [20, 25].
After 3rd query, there are 2 line segments:  [9, 13], [20, 25].
In the 4th query, point 12 is on [9, 13] segment.
In the 5th query, point 7 is not on any segment.
After 6th query, there is 1 line segment [9, 25]. ([9, 13], [11, 21] and [20, 25] segments will merge into only 1 segment).
In the 7th query, point 15 is on [9, 25] segment.
After 9th query there are 2 segments: [9, 16] and [21, 21].
In the 10th query, point 21 is on [21, 21] segment.
In the 11th query, point 5 is not on any segment.
After 12th query there are 3 segments: [1,8],[9, 16] and [21, 21].
In the 13th query, point 13 is on [9, 16] segment.
In the 14th query, point 4 is on [1, 8] segment.
 
```</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div></div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
</article>
</div>
</div>
</body>
</html>
