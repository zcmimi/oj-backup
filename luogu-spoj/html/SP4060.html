<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>KPGAME - A game with probability - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573449852:sSZp1W00BTvKGDVFC6InbvurBknAooDiQteGWNb958A=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Alice%20and%20Bob%20play%20the%20following%20game.%20First%2C%20they%20collect%20N%20small%20stones%20and%20put%20them%20together%20in%20one%20pile.%20After%20that%2C%20they%20throw%20a%20coin%20one%20by%20one.%20Alice%20starts%20first.%20If%20a%20player%20throws%20heads%20then%20he%20takes%20exactly%20one%20stone%20from%20the%20pile.%20In%20case%20of%20tails%20he%20don%27t%20do%20anything.%20The%20one%20who%20takes%20the%20last%20stone%20wins.%20For%20each%20player%2C%20his%20skill%20of%20throwing%20a%20coin%20is%20known%20%28to%20everyone%2C%20including%20himself%20and%20his%20opponent%29.%20More%20precisely%2C%20if%20Alice%20wants%20to%20throw%20some%20specific%20side%20of%20the%20coin%2C%20she%20always%20succeeds%20with%20probability%20P.%20The%20same%20probability%20for%20Bob%20is%20Q.%20You%20are%20to%20find%20probability%20that%20Alice%20will%20win%20the%20game%20if%20both%20guys%20play%20optimally.%22%2C%22inputFormat%22%3A%22Input%20starts%20with%20a%20line%20containing%20one%20integer%20T%20-%20a%20number%20of%20test%20cases%20%281%20%3C%3D%20T%20%3C%3D%2050%29.%20Then%20T%20test%20cases%20follow.%20Each%20of%20them%20is%20one%20line%20with%20three%20numbers%20N%2C%20P%2C%20and%20Q%20separated%20with%20a%20space%20%281%20%3C%3D%20N%20%3C%3D%2099999999%2C%200.5%20%3C%3D%20P%2C%20Q%20%3C%3D%200.99999999%29.%20P%20and%20Q%20have%20not%20more%20than%208%20digits%20after%20decimal%20point.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%20output%20one%20line%20with%20a%20probability%20that%20Alice%20will%20win%20the%20game.%20Your%20answer%20must%20be%20precise%20up%20to%2010%5E-6.%22%2C%22samples%22%3A%5B%5B%221%5Cn1%200.5%200.5%22%2C%220.666666667%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B100%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F4060%22%2C%22id%22%3A%224060%22%7D%2C%22translation%22%3A%22Alice%5Cu548cBob%5Cu5728%5Cu73a9%5Cu4e00%5Cu4e2a%5Cu6e38%5Cu620f%5Cu3002%5Cn%5Cn%5Cu6709n%5Cu4e2a%5Cu77f3%5Cu5b50%5Cu5728%5Cu8fd9%5Cu91cc%5Cuff0cAlice%5Cu548cBob%5Cu8f6e%5Cu6d41%5Cu6295%5Cu63b7%5Cu786c%5Cu5e01%5Cuff0c%5Cu5982%5Cu679c%5Cu6b63%5Cu9762%5Cu671d%5Cu4e0a%5Cuff0c%5Cu5219%5Cu4ecen%5Cu4e2a%5Cu77f3%5Cu5b50%5Cu4e2d%5Cu53d6%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu77f3%5Cu5b50%5Cuff0c%5Cu5426%5Cu5219%5Cu4e0d%5Cu505a%5Cu4efb%5Cu4f55%5Cu4e8b%5Cu3002%5Cu53d6%5Cu5230%5Cu6700%5Cu540e%5Cu4e00%5Cu9897%5Cu77f3%5Cu5b50%5Cu7684%5Cu4eba%5Cu80dc%5Cu5229%5Cu3002Alice%5Cu5728%5Cu6295%5Cu63b7%5Cu786c%5Cu5e01%5Cu65f6%5Cu6709p%5Cu7684%5Cu6982%5Cu7387%5Cu6295%5Cu63b7%5Cu51fa%5Cu4ed6%5Cu60f3%5Cu6295%5Cu7684%5Cu4e00%5Cu9762%5Cuff0cBob%5Cu6709q%5Cu7684%5Cu6982%5Cu7387%5Cu6295%5Cu63b7%5Cu51fa%5Cu4ed6%5Cu76f8%5Cu6295%5Cu7684%5Cu4e00%5Cu9762%5Cu3002%5Cn%5Cn%5Cu73b0%5Cu5728Alice%5Cu5148%5Cu624b%5Cu6295%5Cu63b7%5Cu786c%5Cu5e01%5Cuff0c%5Cu5047%5Cu8bbe%5Cu4ed6%5Cu4eec%5Cu90fd%5Cu60f3%5Cu8d62%5Cu5f97%5Cu6e38%5Cu620f%5Cuff0c%5Cu95ee%5Cu4f60Alice%5Cu80dc%5Cu5229%5Cu7684%5Cu6982%5Cu7387%5Cu4e3a%5Cu591a%5Cu5c11%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A173%2C%22totalAccepted%22%3A68%2C%22pid%22%3A%22SP4060%22%2C%22title%22%3A%22KPGAME%20-%20A%20game%20with%20probability%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A40309%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A14015%2C%22name%22%3A%22SP4060%20KPGAME%20-%20A%20game%20with%20probability%22%2C%22slug%22%3A%22SP4060%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2495%22%2C%22title%22%3A%22%5BSDOI2011%5D%5Cu6d88%5Cu8017%5Cu6218%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4174%22%2C%22title%22%3A%22%5BNOI2006%5D%5Cu6700%5Cu5927%5Cu83b7%5Cu5229%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4316%22%2C%22title%22%3A%22%5Cu7eff%5Cu8c46%5Cu86d9%5Cu7684%5Cu5f52%5Cu5bbf%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4719%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu52a8%5Cu6001%20DP%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1203F2%22%2C%22title%22%3A%22Complete%20the%20Projects%20%28hard%20version%29%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22KPGAME%20-%20A%20game%20with%20probability%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>KPGAME - A game with probability</h1>
<h2>题意翻译</h2>
<div>Alice和Bob在玩一个游戏。
有n个石子在这里，Alice和Bob轮流投掷硬币，如果正面朝上，则从n个石子中取出一个石子，否则不做任何事。取到最后一颗石子的人胜利。Alice在投掷硬币时有p的概率投掷出他想投的一面，Bob有q的概率投掷出他相投的一面。
现在Alice先手投掷硬币，假设他们都想赢得游戏，问你Alice胜利的概率为多少。</div>
<h2>题目描述</h2>
<div>Alice and Bob play the following game. First, they collect N small stones and put them together in one pile. After that, they throw a coin one by one. Alice starts first. If a player throws heads then he takes exactly one stone from the pile. In case of tails he don't do anything. The one who takes the last stone wins. For each player, his skill of throwing a coin is known (to everyone, including himself and his opponent). More precisely, if Alice wants to throw some specific side of the coin, she always succeeds with probability P. The same probability for Bob is Q. You are to find probability that Alice will win the game if both guys play optimally.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Input starts with a line containing one integer T - a number of test cases (1 <= T <= 50). Then T test cases follow. Each of them is one line with three numbers N, P, and Q separated with a space (1 <= N <= 99999999, 0.5 <= P, Q <= 0.99999999). P and Q have not more than 8 digits after decimal point.</div>
<h3>输出格式</h3>
<br />
<div>For each test case output one line with a probability that Alice will win the game. Your answer must be precise up to 10^-6.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1
1 0.5 0.5</code></pre>
<h3>输出样例 #1</h3>
<pre><code>0.666666667</code></pre>
</article>
</div>
</div>
</body>
</html>
