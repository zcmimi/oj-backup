<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>PALMKR - Palindrome Maker - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573450743:P+ShtljsX9oDjtaPRWyUnoDc/C/kwYBft/VBPE1l6N0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22%5CnOne%20day%20little%20girl%20Lilith%20was%20playing%20with%20strings.%20She%20made%20a%20string%20X%20which%20is%20a%20palindrome%21%20Suddenly%20her%20favorite%20dog%20%5Cn%5Cn%5Cu201chehway%5Cu201d%20came%20and%20ate%20some%20of%20the%20characters%20from%20X%20but%20not%20all%21%20Lilith%20built%20another%20palindrome%20but%20naughty%20%5Cu201chehway%5Cu201d%20%5Cn%5Cncame%20again%20and%20destroyed%20it%21%20Watching%20this%20happening%20again%20and%20again%20Lilith%5Cu2019s%20boyfriend%20Mada%20thought%20that%20he%20can%20give%20her%20%5Cn%5Cna%20machine%20as%20birthday%20present%20that%20automatically%20converts%20any%20string%20to%20palindrome%20by%20adding%20some%20characters.%20The%20machine%20%5Cn%5Cnwill%20be%20connected%20with%20an%20infinite%20supply%20of%20lowercase%20Latin%20characters%28%5Cu2018a%5Cu2019-%5Cu2019z%5Cu2019%29.%5Cn%5Cn%20%5Cn%5CnThe%20machine%20also%20has%20two%20amazing%20features%20%3A%5Cn%5Cn1.%20The%20machine%20always%20adds%20minimum%20number%20of%20characters%20to%20the%20input%20string%20in%20order%20to%20%20convert%20it%20to%20a%20palindrome.%5Cn%5Cn2.%20If%20there%20are%20multiple%20ways%20then%20it%20always%20produces%20the%20lexicographically%20smallest%20palindrome.%5Cn%5Cn%20%5Cn%5CnWe%20all%20know%20that%20machines%20are%20not%20perfect%21%20So%2C%20there%20is%20no%20way%20to%20guaranty%20that%20the%20machine%20generated%20palindrome%20is%20the%20%5Cn%5Cnoriginal%20palindrome%20that%20Lilith%20made%20in%20the%20first%20place%21%20But%2C%20%5Cu201cMada%5Cu201d%20thought%20that%20it%20will%20at%20least%20help%20Lilith%20to%20forget%20the%5Cn%5Cnsorrow%20of%20losing%20her%20favorite%20palindromes%20to%20her%20favorite%20dog%21%20%5Cn%5CnSo%2C%20when%20you%20enter%20a%20string%20X%20into%20the%20machine%2C%20the%20machine%5Cu2019s%20output%20looks%20like%20N%20Y%2C%20where%20N%20is%20number%20of%20new%20characters%20%5Cn%5Cnthat%20it%20added%20to%20X%20to%20make%20Y.%20And%20Y%20is%20the%20lexicographically%20minimum%20palindrome%20produced%20by%20adding%200%20or%20more%20characters%20%5Cn%5Cnwith%20X.%5Cn%5CnCan%20you%20help%20%5Cu201cMada%5Cu201d%20with%20the%20algorithm%20of%20the%20machine%3F%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20determines%20the%20number%20of%20test%20cases%20%281%3C%3DT%3C%3D2000%29.%20Each%20of%20the%20next%20T%20lines%20contains%20a%20%5Cn%5Cnstring%20S%20%281%3C%3D%7Cs%7C%3C%3D100%29.%20S%20is%20a%20string%20which%20is%20left%20after%20Lilith%5Cu2019s%20dog%20%5Cu201chehway%5Cu201d%20ate%20%5Cn%5Cnsome%20of%20the%20characters%28possibly%20none%21%29%20of%20the%20original%20string.%20S%20will%20be%20the%20input%20of%20the%20machine.%22%2C%22outputFormat%22%3A%22Print%20the%20machine%5Cu2019s%20output%20in%20each%20line%20along%20with%20the%20case%20number%21%20%20See%20Sample%20test%20cases%20for%20I%5C%2FO%20format%20and%20%5Cn%5Cnexplanation%20for%20more%20clarification%20about%20the%20problem.%22%2C%22samples%22%3A%5B%5B%224%5Cn%5Cnab%5Cn%5Cnaba%5Cn%5Cnabcd%5Cn%5Cnbca%22%2C%22Case%201%3A%201%20aba%5Cn%5CnCase%202%3A%200%20aba%5Cn%5CnCase%203%3A%203%20abcdcba%5Cn%5CnCase%204%3A%202%20abcba%22%5D%5D%2C%22hint%22%3A%22First%20input%20%5Cu201cab%5Cu201d%20%3D%3E%20We%20can%20add%20a%20%5Cu2018b%5Cu2019%20to%20its%20beginning%20which%20will%20make%20it%20%5Cu201cbab%5Cu201d%20we%20can%20also%20add%20an%20%5Cu2018a%5Cu2019%20to%20its%20end%20which%20till%20%5Cn%5Cnmake%20it%20%5Cu201caba%5Cu201d.%20In%20either%20way%20we%20are%20adding%20one%20extra%20character%20but%20%5Cu201caba%5Cu201d%20is%20lexicographically%20smaller%20than%20%5Cu201cbab%5Cu201d.%20So%20our%5Cn%5Cnresult%20is%20%5Cu201caba%5Cu201d.%20We%20can%20also%20add%20%5Cu201cba%5Cu201d%20to%20the%20end%20of%20%5Cu201cab%5Cu201d%20which%20will%20result%20into%20%5Cu201cabba%5Cu201d%20which%20is%20also%20a%20palindrome%2C%20but%20in%20%5Cn%5Cnthat%20case%20we%20would%20need%20two%20characters%20instead%20of%20one.%20We%20need%20to%20ensure%20minimal%20character%20insertion%20at%20first%20and%20then%5Cn%5Cntry%20to%20minimize%20the%20result%20lexicographically.%20%5Cn%5CnSee%20this%20way%2C%20%28a%29%20%2B%20ab%20%2B%20%28ba%20%2B%20a%29%20results%20into%20%5Cu201caabbaa%5Cu201d%20which%20is%20lexicographically%20smaller%20than%20%5Cu201caba%5Cu201d%20but%20it%20needs%204%20%5Cn%5Cncharacters%20to%20build%20that%20palindrome%20where%20%5Cu201caba%5Cu201d%20needs%20only%201.%20So%2C%20%5Cu201caba%5Cu201d%20is%20the%20desired%20result%21%5Cn%5Cn%20%5Cn%5CnIn%20second%20case%20the%20string%20is%20already%20a%20palindrome%21%20%20%5Cn%5CnLook%20at%20the%20fourth%20case.%20We%20are%20allowed%20to%20add%20character%20at%20any%20position%20of%20the%20given%20string%20not%20only%20just%20%5Cn%5Cnat%20beginning%20or%20end%21%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B1536000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22SPOJ%22%2C%22link%22%3A%22%5C%2Fjump%5C%2Fspoj%5C%2F34025%22%2C%22id%22%3A%2234025%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu8981%5Cu6c42%5Cu901a%5Cu8fc7%5Cu6dfb%5Cu52a0%5Cu5c3d%5Cu53ef%5Cu80fd%5Cu5c11%5Cu7684%5Cu5b57%5Cu6bcd%5Cu5c06%5Cu5176%5Cu53d8%5Cu6210%5Cu56de%5Cu6587%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu4e14%5Cu5728%5Cu5b57%5Cu5178%5Cu91cc%5Cu7684%5Cu6392%5Cu5217%5Cu5c3d%5Cu53ef%5Cu80fd%5Cu9760%5Cu524d%5Cuff0c%5Cu8981%5Cu6c42%5Cu8be5%5Cu56de%5Cu6587%5Cu5b57%5Cu7b26%5Cu4e32%5Cr%5Cn%5Cr%5Cn%5Cu5206%5Cu6790%5Cuff1a%5Cu5bf9%5Cu4e8e%5Cu8f93%5Cu5165ab%5Cuff0c%5Cu53ef%5Cu4ee5%5Cu5728%5Cu524d%5Cu9762%5Cu52a0%5Cu4e0ab%5Cu53d8%5Cu4e3a%5C%22bab%5C%22%2C%5Cu4e5f%5Cu53ef%5Cu5728%5Cu540e%5Cu9762%5Cu52a0%5Cu4e0aa%5Cu53d8%5Cu6210%5C%22aba%5C%22%5Cuff0c%5Cu4f46%5Cu662f%5C%22aba%5C%22%5Cu5728%5Cu5b57%5Cu5178%5Cu4e2d%5Cu7684%5Cu6392%5Cu5e8f%5Cu6bd4%5C%22bab%5C%22%5Cu9760%5Cu524d%5Cuff0c%5Cu6240%5Cu4ee5%5Cu8f93%5Cu51fa%5C%22aba%5C%22%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22SP34025%22%2C%22title%22%3A%22PALMKR%20-%20Palindrome%20Maker%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22SP%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22PALMKR%20-%20Palindrome%20Maker%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573363392;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>PALMKR - Palindrome Maker</h1>
<h2>题意翻译</h2>
<div>给定一个字符串，要求通过添加尽可能少的字母将其变成回文字符串，且在字典里的排列尽可能靠前，要求该回文字符串
分析：对于输入ab，可以在前面加上b变为"bab",也可在后面加上a变成"aba"，但是"aba"在字典中的排序比"bab"靠前，所以输出"aba"</div>
<h2>题目描述</h2>
<div>
One day little girl Lilith was playing with strings. She made a string X which is a palindrome! Suddenly her favorite dog
“hehway” came and ate some of the characters from X but not all! Lilith built another palindrome but naughty “hehway”
came again and destroyed it! Watching this happening again and again Lilith’s boyfriend Mada thought that he can give her
a machine as birthday present that automatically converts any string to palindrome by adding some characters. The machine
will be connected with an infinite supply of lowercase Latin characters(‘a’-’z’).
The machine also has two amazing features :
1. The machine always adds minimum number of characters to the input string in order to convert it to a palindrome.
2. If there are multiple ways then it always produces the lexicographically smallest palindrome.
We all know that machines are not perfect! So, there is no way to guaranty that the machine generated palindrome is the
original palindrome that Lilith made in the first place! But, “Mada” thought that it will at least help Lilith to forget the
sorrow of losing her favorite palindromes to her favorite dog!
So, when you enter a string X into the machine, the machine’s output looks like N Y, where N is number of new characters
that it added to X to make Y. And Y is the lexicographically minimum palindrome produced by adding 0 or more characters
with X.
Can you help “Mada” with the algorithm of the machine?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input determines the number of test cases (1<=T<=2000). Each of the next T lines contains a
string S (1<=|s|<=100). S is a string which is left after Lilith’s dog “hehway” ate
some of the characters(possibly none!) of the original string. S will be the input of the machine.</div>
<h3>输出格式</h3>
<br />
<div>Print the machine’s output in each line along with the case number! See Sample test cases for I/O format and
explanation for more clarification about the problem.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4

ab

aba

abcd

bca</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Case 1: 1 aba

Case 2: 0 aba

Case 3: 3 abcdcba

Case 4: 2 abcba</code></pre>
<h2>说明</h2>
<div>First input “ab” => We can add a ‘b’ to its beginning which will make it “bab” we can also add an ‘a’ to its end which till
make it “aba”. In either way we are adding one extra character but “aba” is lexicographically smaller than “bab”. So our
result is “aba”. We can also add “ba” to the end of “ab” which will result into “abba” which is also a palindrome, but in
that case we would need two characters instead of one. We need to ensure minimal character insertion at first and then
try to minimize the result lexicographically.
See this way, (a) + ab + (ba + a) results into “aabbaa” which is lexicographically smaller than “aba” but it needs 4
characters to build that palindrome where “aba” needs only 1. So, “aba” is the desired result!
In second case the string is already a palindrome!
Look at the fourth case. We are allowed to add character at any position of the given string not only just
at beginning or end!</div>
</article>
</div>
</div>
</body>
</html>
